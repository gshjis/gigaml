2025-07-14 11:10:37,205 [ERROR] fastapi: Form data requires "python-multipart" to be installed. 
You can install "python-multipart" with: 

pip install python-multipart

2025-07-14 11:13:03,018 [INFO] uvicorn.error: Started server process [8]
2025-07-14 11:13:03,019 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 11:13:03,019 [INFO] app.core.logging_config: Initializing application...
2025-07-14 11:13:03,019 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 11:13:03,027 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 11:13:03,027 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 11:13:03,027 [INFO] app.core.logging_config: Session opened
2025-07-14 11:13:03,027 [INFO] app.core.logging_config: Database connection verified
2025-07-14 11:13:03,028 [INFO] uvicorn.error: Application startup complete.
2025-07-14 11:13:03,028 [INFO] app.core.logging_config: Session closed
2025-07-14 11:13:09,772 [INFO] uvicorn.access: 172.20.0.1:53718 - "GET /docs HTTP/1.1" 200
2025-07-14 11:13:09,896 [INFO] uvicorn.access: 172.20.0.1:53718 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 11:13:17,841 [INFO] app.core.logging_config: Session opened
2025-07-14 11:13:17,896 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 11:13:17,896 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 11:13:17,898 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 11:13:17,899 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 11:13:17,902 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 11:13:17,902 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 11:13:17,904 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 11:13:17,907 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 11:13:17,908 [INFO] app.core.logging_config: Session closed
2025-07-14 11:13:17,908 [INFO] uvicorn.access: 172.20.0.1:53724 - "POST /auth/register HTTP/1.1" 500
2025-07-14 11:13:17,908 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2435, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/selectable.py", line 1444, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'users' and 'tasks'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 11, in register_user
    existing_user = await self.repository.get_user_by_email(user.email)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 12, in get_user_by_email
    result = await self.db.execute(select(User).filter(User.email == email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1658, in do_init
    self._setup_join_conditions()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1896, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2322, in __init__
    self._determine_joins()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2456, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 11:14:06,825 [INFO] app.core.logging_config: Session opened
2025-07-14 11:14:06,827 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 11:14:06,828 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 11:14:06,829 [INFO] app.core.logging_config: Session closed
2025-07-14 11:14:06,829 [INFO] uvicorn.access: 172.20.0.1:55968 - "POST /auth/login HTTP/1.1" 500
2025-07-14 11:14:06,829 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 20, in login_user
    user = await service.repository.get_user_by_email(form_data.username)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 12, in get_user_by_email
    result = await self.db.execute(select(User).filter(User.email == email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 11:14:14,610 [INFO] app.core.logging_config: Session opened
2025-07-14 11:14:14,611 [INFO] app.core.logging_config: Session closed
2025-07-14 11:14:14,611 [INFO] uvicorn.access: 172.20.0.1:55970 - "POST /auth/refresh?refresh_token=qwqeweq HTTP/1.1" 500
2025-07-14 11:14:14,611 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 31, in refresh_token
    return await service.refresh_token(refresh_token)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 21, in refresh_token
    raise ValueError("Invalid refresh token")
ValueError: Invalid refresh token
2025-07-14 11:14:28,713 [INFO] app.core.logging_config: Session opened
2025-07-14 11:14:28,713 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 11:14:28,713 [INFO] app.service.task: Fetching all tasks
2025-07-14 11:14:28,715 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 11:14:28,717 [ERROR] app.service.task: Error fetching tasks: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 11:14:28,718 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 11:14:28,718 [INFO] app.core.logging_config: Session closed
2025-07-14 11:14:28,718 [INFO] uvicorn.access: 172.20.0.1:34306 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 11:14:28,719 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 11:15:30,563 [INFO] uvicorn.error: Shutting down
2025-07-14 11:15:30,664 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 11:15:30,664 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 11:15:30,664 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 11:15:30,665 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 11:15:30,669 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 11:15:30,669 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 11:15:30,669 [INFO] uvicorn.error: Finished server process [8]
2025-07-14 11:16:23,468 [INFO] uvicorn.error: Started server process [8]
2025-07-14 11:16:23,468 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 11:16:23,469 [INFO] app.core.logging_config: Initializing application...
2025-07-14 11:16:23,469 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 11:16:23,472 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 11:16:23,472 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 11:16:23,472 [INFO] app.core.logging_config: Session opened
2025-07-14 11:16:23,472 [INFO] app.core.logging_config: Database connection verified
2025-07-14 11:16:23,472 [INFO] uvicorn.error: Application startup complete.
2025-07-14 11:16:23,473 [INFO] app.core.logging_config: Session closed
2025-07-14 11:20:23,784 [INFO] uvicorn.error: Shutting down
2025-07-14 11:20:23,885 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 11:20:23,885 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 11:20:23,886 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 11:20:23,886 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 11:20:23,887 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 11:20:23,887 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 11:20:23,887 [INFO] uvicorn.error: Finished server process [8]
2025-07-14 11:21:26,069 [INFO] uvicorn.error: Started server process [8]
2025-07-14 11:21:26,069 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 11:21:26,070 [INFO] app.core.logging_config: Initializing application...
2025-07-14 11:21:26,070 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 11:21:26,072 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 11:21:26,073 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 11:21:26,073 [INFO] app.core.logging_config: Session opened
2025-07-14 11:21:26,073 [INFO] app.core.logging_config: Database connection verified
2025-07-14 11:21:26,073 [INFO] uvicorn.error: Application startup complete.
2025-07-14 11:21:26,073 [INFO] app.core.logging_config: Session closed
2025-07-14 11:21:35,300 [INFO] uvicorn.error: Shutting down
2025-07-14 11:21:35,401 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 11:21:35,401 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 11:21:35,401 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 11:21:35,402 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 11:21:35,402 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 11:21:35,402 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 11:21:35,402 [INFO] uvicorn.error: Finished server process [8]
2025-07-14 12:09:11,325 [INFO] uvicorn.error: Started server process [9]
2025-07-14 12:09:11,325 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:09:11,326 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:09:11,326 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:09:11,332 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:09:11,332 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:09:11,332 [INFO] app.core.logging_config: Session opened
2025-07-14 12:09:11,332 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:09:11,332 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:09:11,333 [INFO] app.core.logging_config: Session closed
2025-07-14 12:09:16,486 [INFO] uvicorn.access: 172.20.0.1:38566 - "GET /docs HTTP/1.1" 200
2025-07-14 12:09:16,610 [INFO] uvicorn.access: 172.20.0.1:38566 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:09:19,930 [INFO] app.core.logging_config: Session opened
2025-07-14 12:09:19,931 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:09:19,931 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:09:19,971 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:09:19,971 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:09:19,973 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:09:19,973 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:09:19,974 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:09:19,974 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:09:19,975 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:09:19,979 [ERROR] app.service.task: Error fetching tasks: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 12:09:19,979 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:09:19,979 [INFO] app.core.logging_config: Session closed
2025-07-14 12:09:19,979 [INFO] uvicorn.access: 172.20.0.1:38566 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 12:09:19,980 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2435, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/selectable.py", line 1444, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'users' and 'tasks'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1658, in do_init
    self._setup_join_conditions()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1896, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2322, in __init__
    self._determine_joins()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2456, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 12:11:34,328 [INFO] uvicorn.access: 172.20.0.1:43830 - "GET /docs HTTP/1.1" 200
2025-07-14 12:11:34,397 [INFO] uvicorn.access: 172.20.0.1:43830 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:11:36,689 [INFO] app.core.logging_config: Session opened
2025-07-14 12:11:36,690 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:11:36,690 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:11:36,692 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:11:36,694 [ERROR] app.service.task: Error fetching tasks: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 12:11:36,695 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:11:36,695 [INFO] app.core.logging_config: Session closed
2025-07-14 12:11:36,695 [INFO] uvicorn.access: 172.20.0.1:43830 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 12:11:36,696 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 12:11:56,223 [INFO] uvicorn.error: Shutting down
2025-07-14 12:11:56,324 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:11:56,324 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:11:56,324 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:11:56,325 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:11:56,332 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:11:56,332 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:11:56,332 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 12:13:19,853 [INFO] uvicorn.error: Started server process [11]
2025-07-14 12:13:19,854 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:13:19,854 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:13:19,854 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:13:19,862 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:13:19,862 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:13:19,862 [INFO] app.core.logging_config: Session opened
2025-07-14 12:13:19,863 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:13:19,863 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:13:19,863 [INFO] app.core.logging_config: Session closed
2025-07-14 12:13:22,570 [INFO] uvicorn.error: Shutting down
2025-07-14 12:13:22,671 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:13:22,671 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:13:22,671 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:13:22,672 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:13:22,672 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:13:22,672 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:13:22,673 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 12:13:23,595 [INFO] uvicorn.error: Started server process [13]
2025-07-14 12:13:23,595 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:13:23,595 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:13:23,595 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:13:23,599 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:13:23,599 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:13:23,599 [INFO] app.core.logging_config: Session opened
2025-07-14 12:13:23,599 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:13:23,600 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:13:23,600 [INFO] app.core.logging_config: Session closed
2025-07-14 12:13:31,362 [INFO] app.core.logging_config: Session opened
2025-07-14 12:13:31,362 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:13:31,362 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:13:31,407 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:13:31,407 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:13:31,410 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:13:31,410 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:13:31,412 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:13:31,412 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:13:31,413 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:13:31,415 [ERROR] app.service.task: Error fetching tasks: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 12:13:31,416 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:13:31,416 [INFO] app.core.logging_config: Session closed
2025-07-14 12:13:31,416 [INFO] uvicorn.access: 172.20.0.1:58476 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 12:13:31,417 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2435, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/selectable.py", line 1444, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'tasks' and 'users'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1658, in do_init
    self._setup_join_conditions()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1896, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2322, in __init__
    self._determine_joins()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2456, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 12:13:41,796 [INFO] app.core.logging_config: Session opened
2025-07-14 12:13:41,796 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:13:41,796 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:13:41,798 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:13:41,799 [ERROR] app.service.task: Error fetching tasks: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Task(tasks)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 12:13:41,800 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:13:41,800 [INFO] app.core.logging_config: Session closed
2025-07-14 12:13:41,800 [INFO] uvicorn.access: 172.20.0.1:53960 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 12:13:41,801 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Task(tasks)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 12:13:48,592 [INFO] uvicorn.error: Shutting down
2025-07-14 12:13:48,692 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:13:48,693 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:13:48,693 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:13:48,693 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:13:48,698 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:13:48,698 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:13:48,698 [INFO] uvicorn.error: Finished server process [13]
2025-07-14 12:14:00,970 [INFO] uvicorn.error: Started server process [9]
2025-07-14 12:14:00,971 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:14:00,972 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:14:00,972 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:14:00,980 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:14:00,980 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:14:00,980 [INFO] app.core.logging_config: Session opened
2025-07-14 12:14:00,981 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:14:00,981 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:14:00,981 [INFO] app.core.logging_config: Session closed
2025-07-14 12:14:15,802 [INFO] uvicorn.access: 172.20.0.1:48474 - "GET /docs HTTP/1.1" 200
2025-07-14 12:14:15,866 [INFO] uvicorn.access: 172.20.0.1:48474 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:14:19,232 [INFO] app.core.logging_config: Session opened
2025-07-14 12:14:19,232 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:14:19,233 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:14:19,269 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:14:19,269 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:14:19,271 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:14:19,271 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:14:19,272 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:14:19,272 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:14:19,273 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:14:19,275 [ERROR] app.service.task: Error fetching tasks: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 12:14:19,276 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:14:19,276 [INFO] app.core.logging_config: Session closed
2025-07-14 12:14:19,276 [INFO] uvicorn.access: 172.20.0.1:48474 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 12:14:19,276 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2435, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/selectable.py", line 1444, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'tasks' and 'users'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1658, in do_init
    self._setup_join_conditions()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1896, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2322, in __init__
    self._determine_joins()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2456, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 12:15:00,191 [INFO] uvicorn.error: Shutting down
2025-07-14 12:15:00,292 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:15:00,292 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:15:00,292 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:15:00,293 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:15:00,297 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:15:00,297 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:15:00,297 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 12:15:01,278 [INFO] uvicorn.error: Started server process [11]
2025-07-14 12:15:01,278 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:15:01,278 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:15:01,278 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:15:01,283 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:15:01,283 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:15:01,283 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:01,283 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:15:01,283 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:15:01,284 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:28,687 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:28,687 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:15:28,687 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:15:28,725 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:15:28,726 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:15:28,728 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:15:28,728 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:15:28,730 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:15:28,730 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:15:28,732 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:15:28,741 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 12:15:28,741 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ()
2025-07-14 12:15:28,744 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 12:15:28,744 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 12:15:28,744 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:15:28,745 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:28,745 [INFO] uvicorn.access: 172.20.0.1:39372 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 12:15:38,558 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:38,559 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:15:38,559 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:15:38,561 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:15:38,562 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 12:15:38,562 [INFO] sqlalchemy.engine.Engine: [cached since 9.821s ago] ()
2025-07-14 12:15:38,564 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 12:15:38,564 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 12:15:38,564 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:15:38,565 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:38,566 [INFO] uvicorn.access: 172.20.0.1:58292 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 12:15:40,626 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:40,626 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:15:40,626 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:15:40,628 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:15:40,629 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 12:15:40,629 [INFO] sqlalchemy.engine.Engine: [cached since 11.89s ago] ()
2025-07-14 12:15:40,631 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 12:15:40,631 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 12:15:40,631 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:15:40,633 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:40,635 [INFO] uvicorn.access: 172.20.0.1:58292 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 12:15:44,439 [INFO] uvicorn.access: 172.20.0.1:58292 - "OPTIONS /api/tasks HTTP/1.1" 200
2025-07-14 12:15:44,444 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:44,445 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:44,446 [INFO] uvicorn.access: 172.20.0.1:58294 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 12:15:46,735 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:46,735 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:46,735 [INFO] uvicorn.access: 172.20.0.1:58294 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 12:15:54,797 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:54,797 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:15:54,797 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:15:54,800 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:15:54,800 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 12:15:54,801 [INFO] sqlalchemy.engine.Engine: [cached since 26.06s ago] ()
2025-07-14 12:15:54,802 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 12:15:54,802 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 12:15:54,803 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:15:54,803 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:54,804 [INFO] uvicorn.access: 172.20.0.1:39740 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 12:16:10,766 [INFO] uvicorn.access: 172.20.0.1:52788 - "GET /docs HTTP/1.1" 200
2025-07-14 12:16:10,880 [INFO] uvicorn.access: 172.20.0.1:52788 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:16:17,053 [INFO] app.core.logging_config: Session opened
2025-07-14 12:16:17,053 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:16:17,053 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:16:17,055 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:16:17,055 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 12:16:17,055 [INFO] sqlalchemy.engine.Engine: [cached since 48.31s ago] ()
2025-07-14 12:16:17,057 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 12:16:17,057 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 12:16:17,057 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:16:17,058 [INFO] app.core.logging_config: Session closed
2025-07-14 12:16:17,058 [INFO] uvicorn.access: 172.20.0.1:48588 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 12:16:21,909 [INFO] app.core.logging_config: Session opened
2025-07-14 12:16:21,910 [INFO] app.core.logging_config: Session closed
2025-07-14 12:16:21,910 [INFO] uvicorn.access: 172.20.0.1:48588 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 12:16:23,245 [INFO] app.core.logging_config: Session opened
2025-07-14 12:16:23,246 [INFO] app.core.logging_config: Session closed
2025-07-14 12:16:23,246 [INFO] uvicorn.access: 172.20.0.1:48588 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 12:16:48,470 [INFO] app.core.logging_config: Session opened
2025-07-14 12:16:48,471 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:16:48,474 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:16:48,475 [INFO] sqlalchemy.engine.Engine: [generated in 0.00036s] ('gshjis',)
2025-07-14 12:16:48,490 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:16:48,491 [INFO] app.core.logging_config: Session closed
2025-07-14 12:16:48,491 [INFO] uvicorn.access: 172.20.0.1:38928 - "POST /auth/login HTTP/1.1" 401
2025-07-14 12:16:50,980 [INFO] app.core.logging_config: Session opened
2025-07-14 12:16:50,982 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:16:50,983 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:16:50,983 [INFO] sqlalchemy.engine.Engine: [cached since 2.508s ago] ('gshjis',)
2025-07-14 12:16:50,985 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:16:50,985 [INFO] app.core.logging_config: Session closed
2025-07-14 12:16:50,986 [INFO] uvicorn.access: 172.20.0.1:38928 - "POST /auth/login HTTP/1.1" 401
2025-07-14 12:16:55,766 [INFO] uvicorn.error: Shutting down
2025-07-14 12:16:55,866 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:16:55,867 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:16:55,867 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:16:55,867 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:16:55,872 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:16:55,873 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:16:55,873 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 12:42:00,279 [INFO] uvicorn.error: Started server process [9]
2025-07-14 12:42:00,279 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:42:00,279 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:42:00,280 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:42:00,288 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:42:00,288 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:42:00,288 [INFO] app.core.logging_config: Session opened
2025-07-14 12:42:00,288 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:42:00,289 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:42:00,289 [INFO] app.core.logging_config: Session closed
2025-07-14 12:42:25,020 [INFO] uvicorn.access: 172.20.0.1:52708 - "GET /docs HTTP/1.1" 200
2025-07-14 12:42:25,142 [INFO] uvicorn.access: 172.20.0.1:52708 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:42:32,377 [INFO] app.core.logging_config: Session opened
2025-07-14 12:42:32,425 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:42:32,425 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:42:32,427 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:42:32,427 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:42:32,428 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:42:32,428 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:42:32,429 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:42:32,436 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:42:32,437 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] ('user@example.com',)
2025-07-14 12:42:32,661 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:42:32,662 [INFO] app.core.logging_config: Session closed
2025-07-14 12:42:32,662 [INFO] uvicorn.access: 172.20.0.1:52722 - "POST /auth/register HTTP/1.1" 500
2025-07-14 12:42:32,663 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
TypeError: unhashable type: 'list'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 15, in register_user
    db_user = await self.repository.create_user(user)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 23, in create_user
    await self.db.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
sqlalchemy.exc.StatementError: (builtins.TypeError) unhashable type: 'list'
[SQL: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::permission, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at]
[parameters: [{'hashed_password': '$2b$12$IqhjcL8V.OeOO1u3tmgNMOG5E1r3lGSn6oZUEzDpcNERSyp5m3D/W', 'email': 'user@example.com', 'username': 'string'}]]
2025-07-14 12:49:10,605 [INFO] uvicorn.error: Shutting down
2025-07-14 12:49:10,706 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:49:10,706 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:49:10,706 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:49:10,707 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:49:10,712 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:49:10,712 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:49:10,713 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 12:49:24,244 [INFO] uvicorn.error: Started server process [12]
2025-07-14 12:49:24,245 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:49:24,245 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:49:24,245 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:49:24,250 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:49:24,250 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:49:24,250 [INFO] app.core.logging_config: Session opened
2025-07-14 12:49:24,251 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:49:24,251 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:49:24,251 [INFO] app.core.logging_config: Session closed
2025-07-14 12:49:24,254 [INFO] uvicorn.access: 172.20.0.1:51786 - "GET /docs HTTP/1.1" 200
2025-07-14 12:49:24,255 [INFO] uvicorn.access: 172.20.0.1:51792 - "GET /docs HTTP/1.1" 200
2025-07-14 12:49:24,255 [INFO] uvicorn.access: 172.20.0.1:51250 - "GET /docs HTTP/1.1" 200
2025-07-14 12:49:24,408 [INFO] uvicorn.access: 172.20.0.1:51250 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:50:47,295 [INFO] uvicorn.error: Shutting down
2025-07-14 12:50:47,396 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:50:47,396 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:50:47,396 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:50:47,397 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:50:47,398 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:50:47,398 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:50:47,398 [INFO] uvicorn.error: Finished server process [12]
2025-07-14 12:50:48,154 [INFO] uvicorn.error: Started server process [14]
2025-07-14 12:50:48,154 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:50:48,155 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:50:48,155 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:50:48,159 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:50:48,159 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:50:48,159 [INFO] app.core.logging_config: Session opened
2025-07-14 12:50:48,159 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:50:48,159 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:50:48,160 [INFO] app.core.logging_config: Session closed
2025-07-14 12:50:51,771 [INFO] uvicorn.error: Shutting down
2025-07-14 12:50:51,872 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:50:51,872 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:50:51,872 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:50:51,873 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:50:51,874 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:50:51,874 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:50:51,874 [INFO] uvicorn.error: Finished server process [14]
2025-07-14 12:50:52,614 [INFO] uvicorn.error: Started server process [16]
2025-07-14 12:50:52,614 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:50:52,614 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:50:52,614 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:50:52,617 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:50:52,617 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:50:52,617 [INFO] app.core.logging_config: Session opened
2025-07-14 12:50:52,618 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:50:52,618 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:50:52,618 [INFO] app.core.logging_config: Session closed
2025-07-14 12:51:33,202 [INFO] app.core.logging_config: Session opened
2025-07-14 12:51:33,250 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:51:33,250 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:33,252 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:51:33,252 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:33,254 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:51:33,254 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:33,255 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:51:33,262 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:51:33,262 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ('user@example.com',)
2025-07-14 12:51:33,482 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:51:33,483 [INFO] app.core.logging_config: Session closed
2025-07-14 12:51:33,484 [INFO] uvicorn.access: 172.20.0.1:46918 - "POST /auth/register HTTP/1.1" 500
2025-07-14 12:51:33,484 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
TypeError: unhashable type: 'list'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 15, in register_user
    db_user = await self.repository.create_user(user)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 23, in create_user
    await self.db.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
sqlalchemy.exc.StatementError: (builtins.TypeError) unhashable type: 'list'
[SQL: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::permission, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at]
[parameters: [{'hashed_password': '$2b$12$.a1JumW9X7W1gRT6sNdgUuLjl0Ijr5.oNC7BXzc1E4NyGy/KZzvkO', 'username': 'string', 'email': 'user@example.com'}]]
2025-07-14 12:51:42,009 [INFO] uvicorn.error: Shutting down
2025-07-14 12:51:42,110 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:51:42,110 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:51:42,110 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:51:42,111 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:51:42,115 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:51:42,115 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:51:42,115 [INFO] uvicorn.error: Finished server process [16]
2025-07-14 12:51:54,732 [INFO] uvicorn.error: Started server process [9]
2025-07-14 12:51:54,732 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:51:54,733 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:51:54,733 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:51:54,739 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:51:54,740 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:51:54,740 [INFO] app.core.logging_config: Session opened
2025-07-14 12:51:54,740 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:51:54,740 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:51:54,741 [INFO] app.core.logging_config: Session closed
2025-07-14 12:51:56,363 [INFO] app.core.logging_config: Session opened
2025-07-14 12:51:56,407 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:51:56,407 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:56,409 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:51:56,410 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:56,411 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:51:56,412 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:56,413 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:51:56,423 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:51:56,424 [INFO] sqlalchemy.engine.Engine: [generated in 0.00071s] ('user@example.com',)
2025-07-14 12:51:56,646 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:51:56,647 [INFO] app.core.logging_config: Session closed
2025-07-14 12:51:56,648 [INFO] uvicorn.access: 172.20.0.1:44094 - "POST /auth/register HTTP/1.1" 500
2025-07-14 12:51:56,648 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
TypeError: unhashable type: 'list'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 15, in register_user
    db_user = await self.repository.create_user(user)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 23, in create_user
    await self.db.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
sqlalchemy.exc.StatementError: (builtins.TypeError) unhashable type: 'list'
[SQL: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::permission, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at]
[parameters: [{'hashed_password': '$2b$12$ZpqJBDcCsR76tq3lmkCJA.GpE7/9ojPlpHVcoql9Fy900Zy7yvLE2', 'username': 'string', 'email': 'user@example.com'}]]
2025-07-14 12:52:16,105 [INFO] uvicorn.error: Shutting down
2025-07-14 12:52:16,206 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:52:16,206 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:52:16,206 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:52:16,206 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:52:16,210 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:52:16,210 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:52:16,210 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 12:52:16,955 [INFO] uvicorn.error: Started server process [11]
2025-07-14 12:52:16,956 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:52:16,956 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:52:16,956 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:52:16,960 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:52:16,960 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:52:16,960 [INFO] app.core.logging_config: Session opened
2025-07-14 12:52:16,960 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:52:16,961 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:52:16,961 [INFO] app.core.logging_config: Session closed
2025-07-14 12:52:29,493 [INFO] uvicorn.error: Shutting down
2025-07-14 12:52:29,593 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:52:29,594 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:52:29,594 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:52:29,594 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:52:29,595 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:52:29,595 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:52:29,596 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 12:53:52,138 [INFO] uvicorn.error: Started server process [14]
2025-07-14 12:53:52,138 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:53:52,139 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:53:52,139 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:53:52,144 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:53:52,144 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:53:52,144 [INFO] app.core.logging_config: Session opened
2025-07-14 12:53:52,144 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:53:52,145 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:53:52,145 [INFO] app.core.logging_config: Session closed
2025-07-14 12:54:08,289 [INFO] uvicorn.error: Shutting down
2025-07-14 12:54:08,390 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:54:08,390 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:54:08,391 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:54:08,393 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:54:08,393 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:54:08,394 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:54:08,394 [INFO] uvicorn.error: Finished server process [14]
2025-07-14 12:54:47,988 [INFO] uvicorn.error: Started server process [18]
2025-07-14 12:54:47,988 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:54:47,989 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:54:47,989 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:54:47,993 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:54:47,994 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:54:47,994 [INFO] app.core.logging_config: Session opened
2025-07-14 12:54:47,994 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:54:47,994 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:54:47,994 [INFO] app.core.logging_config: Session closed
2025-07-14 12:55:27,092 [INFO] uvicorn.error: Shutting down
2025-07-14 12:55:27,192 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:55:27,193 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:55:27,193 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:55:27,193 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:55:27,194 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:55:27,195 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:55:27,195 [INFO] uvicorn.error: Finished server process [18]
2025-07-14 12:55:28,010 [INFO] uvicorn.error: Started server process [20]
2025-07-14 12:55:28,010 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:55:28,011 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:55:28,011 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:55:28,014 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:55:28,015 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:55:28,015 [INFO] app.core.logging_config: Session opened
2025-07-14 12:55:28,015 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:55:28,015 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:55:28,015 [INFO] app.core.logging_config: Session closed
2025-07-14 12:58:50,771 [INFO] uvicorn.error: Shutting down
2025-07-14 12:58:50,872 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:58:50,872 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:58:50,872 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:58:50,873 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:58:50,874 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:58:50,874 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:58:50,875 [INFO] uvicorn.error: Finished server process [20]
2025-07-14 12:58:51,819 [INFO] uvicorn.error: Started server process [22]
2025-07-14 12:58:51,819 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:58:51,820 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:58:51,820 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:58:51,825 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:58:51,825 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:58:51,825 [INFO] app.core.logging_config: Session opened
2025-07-14 12:58:51,826 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:58:51,826 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:58:51,827 [INFO] app.core.logging_config: Session closed
2025-07-14 12:59:15,961 [INFO] app.core.logging_config: Session opened
2025-07-14 12:59:16,012 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:59:16,012 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:59:16,014 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:59:16,014 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:59:16,015 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:59:16,015 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:59:16,016 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:59:16,023 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:59:16,023 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] ('user@example.com',)
2025-07-14 12:59:16,246 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 12:59:16,246 [INFO] sqlalchemy.engine.Engine: [generated in 0.00034s] ('string', 'user@example.com', '$2b$12$ZCvnnfAxxiZBId.P9D/GDe0ZRcFBoWWQdK4NbAgrIqbC/Ctyp/CbK', True, False, 'USER', '["read"]', False)
2025-07-14 12:59:16,248 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-14 12:59:16,259 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:59:16,261 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-14 12:59:16,261 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] (1,)
2025-07-14 12:59:16,263 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:59:16,264 [INFO] app.core.logging_config: Session closed
2025-07-14 12:59:16,265 [INFO] uvicorn.access: 172.20.0.1:51948 - "POST /auth/register HTTP/1.1" 500
2025-07-14 12:59:16,265 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 16, in register_user
    return UserOut.from_orm(db_user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/pydantic/main.py", line 1437, in from_orm
    raise PydanticUserError(
pydantic.errors.PydanticUserError: You must set the config attribute `from_attributes=True` to use from_orm
2025-07-14 12:59:52,062 [INFO] uvicorn.error: Shutting down
2025-07-14 12:59:52,162 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:59:52,163 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:59:52,163 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:59:52,163 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:59:52,167 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:59:52,167 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:59:52,167 [INFO] uvicorn.error: Finished server process [22]
2025-07-14 13:00:03,451 [INFO] uvicorn.error: Started server process [9]
2025-07-14 13:00:03,452 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:00:03,452 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:00:03,452 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:00:03,458 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:00:03,458 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:00:03,459 [INFO] app.core.logging_config: Session opened
2025-07-14 13:00:03,459 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:00:03,459 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:00:03,459 [INFO] app.core.logging_config: Session closed
2025-07-14 13:00:08,842 [INFO] app.core.logging_config: Session opened
2025-07-14 13:00:08,889 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:00:08,889 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:00:08,892 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:00:08,892 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:00:08,894 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:00:08,894 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:00:08,895 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:00:08,903 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:00:08,903 [INFO] sqlalchemy.engine.Engine: [generated in 0.00034s] ('user@example.com',)
2025-07-14 13:00:08,918 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:00:08,919 [INFO] app.core.logging_config: Session closed
2025-07-14 13:00:08,920 [INFO] uvicorn.access: 172.20.0.1:56152 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:00:08,921 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 13, in register_user
    raise ValueError("User with this email already exists")
ValueError: User with this email already exists
2025-07-14 13:00:39,069 [INFO] uvicorn.error: Shutting down
2025-07-14 13:00:39,169 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:00:39,170 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:00:39,170 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:00:39,170 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:00:39,175 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:00:39,175 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:00:39,175 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 13:00:39,941 [INFO] uvicorn.error: Started server process [11]
2025-07-14 13:00:39,941 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:00:39,941 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:00:39,941 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:00:39,946 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:00:39,946 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:00:39,946 [INFO] app.core.logging_config: Session opened
2025-07-14 13:00:39,946 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:00:39,947 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:00:39,947 [INFO] app.core.logging_config: Session closed
2025-07-14 13:00:44,259 [INFO] uvicorn.error: Shutting down
2025-07-14 13:00:44,360 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:00:44,360 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:00:44,360 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:00:44,360 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:00:44,361 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:00:44,361 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:00:44,361 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 13:00:45,135 [INFO] uvicorn.error: Started server process [13]
2025-07-14 13:00:45,135 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:00:45,135 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:00:45,135 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:00:45,139 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:00:45,140 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:00:45,140 [INFO] app.core.logging_config: Session opened
2025-07-14 13:00:45,140 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:00:45,140 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:00:45,141 [INFO] app.core.logging_config: Session closed
2025-07-14 13:02:23,916 [INFO] uvicorn.error: Shutting down
2025-07-14 13:02:24,017 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:02:24,017 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:02:24,017 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:02:24,018 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:02:24,019 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:02:24,019 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:02:24,019 [INFO] uvicorn.error: Finished server process [13]
2025-07-14 13:02:24,877 [INFO] uvicorn.error: Started server process [15]
2025-07-14 13:02:24,878 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:02:24,878 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:02:24,878 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:02:24,882 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:02:24,883 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:02:24,883 [INFO] app.core.logging_config: Session opened
2025-07-14 13:02:24,883 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:02:24,883 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:02:24,883 [INFO] app.core.logging_config: Session closed
2025-07-14 13:04:05,163 [INFO] uvicorn.error: Shutting down
2025-07-14 13:04:05,263 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:04:05,264 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:04:05,264 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:04:05,264 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:04:05,265 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:04:05,265 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:04:05,265 [INFO] uvicorn.error: Finished server process [15]
2025-07-14 13:04:06,273 [INFO] uvicorn.error: Started server process [17]
2025-07-14 13:04:06,273 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:04:06,273 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:04:06,273 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:04:06,279 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:04:06,279 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:04:06,279 [INFO] app.core.logging_config: Session opened
2025-07-14 13:04:06,279 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:04:06,279 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:04:06,280 [INFO] app.core.logging_config: Session closed
2025-07-14 13:04:21,923 [INFO] uvicorn.error: Shutting down
2025-07-14 13:04:22,023 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:04:22,024 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:04:22,024 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:04:22,024 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:04:22,025 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:04:22,025 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:04:22,026 [INFO] uvicorn.error: Finished server process [17]
2025-07-14 13:04:43,872 [INFO] uvicorn.error: Started server process [20]
2025-07-14 13:04:43,872 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:04:43,872 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:04:43,872 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:04:43,876 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:04:43,876 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:04:43,876 [INFO] app.core.logging_config: Session opened
2025-07-14 13:04:43,876 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:04:43,877 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:04:43,877 [INFO] app.core.logging_config: Session closed
2025-07-14 13:04:49,105 [INFO] app.core.logging_config: Session opened
2025-07-14 13:04:49,148 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:04:49,148 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:04:49,150 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:04:49,150 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:04:49,151 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:04:49,151 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:04:49,152 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:04:49,164 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:04:49,164 [INFO] sqlalchemy.engine.Engine: [generated in 0.00054s] ('user@example.com',)
2025-07-14 13:04:49,175 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:04:49,175 [INFO] app.core.logging_config: Session closed
2025-07-14 13:04:49,176 [INFO] uvicorn.access: 172.20.0.1:32962 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:04:49,177 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 15, in register_user
    raise UserAlreadyExistsError("User with this email already exists")
app.core.exceptions.UserAlreadyExistsError: User with this email already exists
2025-07-14 13:08:46,414 [INFO] uvicorn.error: Shutting down
2025-07-14 13:08:46,514 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:08:46,515 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:08:46,515 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:08:46,515 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:08:46,520 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:08:46,520 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:08:46,520 [INFO] uvicorn.error: Finished server process [20]
2025-07-14 13:09:28,657 [INFO] uvicorn.error: Started server process [24]
2025-07-14 13:09:28,657 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:09:28,658 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:09:28,658 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:09:28,661 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:09:28,661 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:09:28,661 [INFO] app.core.logging_config: Session opened
2025-07-14 13:09:28,661 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:09:28,661 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:09:28,662 [INFO] app.core.logging_config: Session closed
2025-07-14 13:09:28,663 [INFO] uvicorn.access: 172.20.0.1:35840 - "GET /docs HTTP/1.1" 200
2025-07-14 13:09:28,829 [INFO] uvicorn.access: 172.20.0.1:35840 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 13:09:32,002 [INFO] uvicorn.access: 172.20.0.1:35840 - "GET /docs HTTP/1.1" 200
2025-07-14 13:09:32,110 [INFO] uvicorn.access: 172.20.0.1:35840 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 13:09:38,338 [INFO] app.core.logging_config: Session opened
2025-07-14 13:09:38,379 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:09:38,379 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:09:38,380 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:09:38,381 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:09:38,381 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:09:38,382 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:09:38,383 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:09:38,391 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:09:38,391 [INFO] sqlalchemy.engine.Engine: [generated in 0.00032s] ('user@example.com',)
2025-07-14 13:09:38,402 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:09:38,403 [INFO] app.core.logging_config: Session closed
2025-07-14 13:09:38,404 [INFO] uvicorn.access: 172.20.0.1:35856 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:09:51,676 [INFO] app.core.logging_config: Session opened
2025-07-14 13:09:51,679 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:09:51,680 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:09:51,681 [INFO] sqlalchemy.engine.Engine: [cached since 13.29s ago] ('user@exampple.com',)
2025-07-14 13:09:51,909 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 13:09:51,910 [INFO] sqlalchemy.engine.Engine: [generated in 0.00062s] ('string', 'user@exampple.com', '$2b$12$l6okr.p7YyivWyJ3R2tXY.LqsOfut0JJPFu7AOjBNapy/z6AR5uZy', True, False, 'USER', '["read"]', False)
2025-07-14 13:09:51,913 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:09:51,914 [INFO] app.core.logging_config: Session closed
2025-07-14 13:09:51,915 [INFO] uvicorn.access: 172.20.0.1:37528 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:09:51,915 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.UniqueViolationError: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 18, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 17, in register_user
    db_user = await self.repository.create_user(user)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 23, in create_user
    await self.db.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.
[SQL: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('string', 'user@exampple.com', '$2b$12$l6okr.p7YyivWyJ3R2tXY.LqsOfut0JJPFu7AOjBNapy/z6AR5uZy', True, False, 'USER', '["read"]', False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-14 13:10:07,513 [INFO] app.core.logging_config: Session opened
2025-07-14 13:10:07,515 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:10:07,516 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:10:07,516 [INFO] sqlalchemy.engine.Engine: [cached since 29.13s ago] ('user@exampple.com',)
2025-07-14 13:10:07,707 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 13:10:07,707 [INFO] sqlalchemy.engine.Engine: [cached since 15.8s ago] ('string2', 'user@exampple.com', '$2b$12$n37sCjza.MLoFnpyOcDZwuzxJ9S/eUiNtzP2hH5qmdp0no8Bm0c9G', True, False, 'USER', '["read"]', False)
2025-07-14 13:10:07,709 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-14 13:10:07,719 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:10:07,724 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-14 13:10:07,724 [INFO] sqlalchemy.engine.Engine: [generated in 0.00035s] (3,)
2025-07-14 13:10:07,728 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:10:07,730 [INFO] app.core.logging_config: Session closed
2025-07-14 13:10:07,730 [INFO] uvicorn.access: 172.20.0.1:60312 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:10:07,731 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 18, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 18, in register_user
    return UserOut.from_orm(db_user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/pydantic/main.py", line 1437, in from_orm
    raise PydanticUserError(
pydantic.errors.PydanticUserError: You must set the config attribute `from_attributes=True` to use from_orm
2025-07-14 13:10:11,257 [INFO] app.core.logging_config: Session opened
2025-07-14 13:10:11,259 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:10:11,261 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:10:11,261 [INFO] sqlalchemy.engine.Engine: [cached since 32.87s ago] ('user@exampple.com',)
2025-07-14 13:10:11,267 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:10:11,268 [INFO] app.core.logging_config: Session closed
2025-07-14 13:10:11,269 [INFO] uvicorn.access: 172.20.0.1:60324 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:10:57,443 [INFO] app.core.logging_config: Session opened
2025-07-14 13:10:57,445 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:10:57,446 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:10:57,446 [INFO] sqlalchemy.engine.Engine: [cached since 79.06s ago] ('user@exampple.com',)
2025-07-14 13:10:57,640 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 13:10:57,640 [INFO] sqlalchemy.engine.Engine: [cached since 65.73s ago] ('string2', 'user@exampple.com', '$2b$12$C4GoZEc..nkkwK6wSWHil.U9JlmLVfQ0STSobQKAUofhkK1AdsFd.', True, False, 'USER', '["read"]', False)
2025-07-14 13:10:57,641 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-14 13:10:57,643 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:10:57,643 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-14 13:10:57,643 [INFO] sqlalchemy.engine.Engine: [cached since 49.92s ago] (4,)
2025-07-14 13:10:57,644 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:10:57,644 [INFO] app.core.logging_config: Session closed
2025-07-14 13:10:57,645 [INFO] uvicorn.access: 172.20.0.1:33680 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:10:57,645 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 18, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 18, in register_user
    return UserOut.from_orm(db_user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/pydantic/main.py", line 1437, in from_orm
    raise PydanticUserError(
pydantic.errors.PydanticUserError: You must set the config attribute `from_attributes=True` to use from_orm
2025-07-14 13:11:05,970 [INFO] uvicorn.error: Shutting down
2025-07-14 13:11:06,070 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:11:06,070 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:11:06,071 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:11:06,071 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:11:06,076 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:11:06,076 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:11:06,076 [INFO] uvicorn.error: Finished server process [24]
2025-07-14 13:11:18,549 [INFO] uvicorn.error: Started server process [9]
2025-07-14 13:11:18,549 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:11:18,549 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:11:18,549 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:11:18,555 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:11:18,555 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:11:18,556 [INFO] app.core.logging_config: Session opened
2025-07-14 13:11:18,556 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:11:18,556 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:11:18,557 [INFO] app.core.logging_config: Session closed
2025-07-14 13:11:18,618 [INFO] uvicorn.access: 172.20.0.1:36704 - "GET /docs HTTP/1.1" 200
2025-07-14 13:11:18,724 [INFO] uvicorn.access: 172.20.0.1:36704 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 13:13:03,442 [INFO] app.core.logging_config: Session opened
2025-07-14 13:13:03,484 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:13:03,484 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:03,486 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:13:03,486 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:03,488 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:13:03,488 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:03,489 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:03,497 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:13:03,497 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ('user@example.com',)
2025-07-14 13:13:03,721 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 13:13:03,722 [INFO] sqlalchemy.engine.Engine: [generated in 0.00032s] ('string', 'user@example.com', '$2b$12$hzTXdDZNKAlNJNyKi5odCOCekhFR7vA9v4EdgN9SisTv.wBAd.6zu', True, False, 'USER', '["read"]', False)
2025-07-14 13:13:03,723 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-14 13:13:03,739 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:03,741 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-14 13:13:03,741 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] (5,)
2025-07-14 13:13:03,743 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:13:03,744 [INFO] app.core.logging_config: Session closed
2025-07-14 13:13:03,744 [INFO] uvicorn.access: 172.20.0.1:50530 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:13:03,745 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 18, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 18, in register_user
    return UserOut.from_orm(db_user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/pydantic/main.py", line 1437, in from_orm
    raise PydanticUserError(
pydantic.errors.PydanticUserError: You must set the config attribute `from_attributes=True` to use from_orm
2025-07-14 13:13:36,119 [INFO] uvicorn.error: Shutting down
2025-07-14 13:13:36,220 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:13:36,220 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:13:36,220 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:13:36,221 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:13:36,227 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:13:36,228 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:13:36,228 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 13:13:37,114 [INFO] uvicorn.error: Started server process [11]
2025-07-14 13:13:37,114 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:13:37,114 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:13:37,114 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:13:37,118 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:13:37,118 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:13:37,118 [INFO] app.core.logging_config: Session opened
2025-07-14 13:13:37,118 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:13:37,119 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:13:37,119 [INFO] app.core.logging_config: Session closed
2025-07-14 13:13:46,638 [INFO] app.core.logging_config: Session opened
2025-07-14 13:13:46,701 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:13:46,701 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:46,704 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:13:46,704 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:46,707 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:13:46,707 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:46,709 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:46,726 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:13:46,727 [INFO] sqlalchemy.engine.Engine: [generated in 0.00093s] ('user@example.com',)
2025-07-14 13:13:46,743 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:13:46,744 [INFO] app.core.logging_config: Session closed
2025-07-14 13:13:46,745 [INFO] uvicorn.access: 172.20.0.1:51966 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:13:51,787 [INFO] app.core.logging_config: Session opened
2025-07-14 13:13:51,790 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:51,791 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:13:51,791 [INFO] sqlalchemy.engine.Engine: [cached since 5.065s ago] ('user@example.com',)
2025-07-14 13:13:51,793 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:13:51,795 [INFO] app.core.logging_config: Session closed
2025-07-14 13:13:51,796 [INFO] uvicorn.access: 172.20.0.1:51978 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:13:59,231 [INFO] app.core.logging_config: Session opened
2025-07-14 13:13:59,232 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:59,233 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:13:59,234 [INFO] sqlalchemy.engine.Engine: [cached since 12.51s ago] ('user2@example.com',)
2025-07-14 13:13:59,445 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 13:13:59,445 [INFO] sqlalchemy.engine.Engine: [generated in 0.00032s] ('string2', 'user2@example.com', '$2b$12$CGyAJZbC3hqlZug3p2h7CuCTcgR/XLolIzPw58x6BkFmIYiZlAZ/O', True, False, 'USER', '["read"]', False)
2025-07-14 13:13:59,447 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-14 13:13:59,458 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:59,459 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-14 13:13:59,460 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] (6,)
2025-07-14 13:13:59,461 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:13:59,462 [INFO] app.core.logging_config: Session closed
2025-07-14 13:13:59,462 [INFO] uvicorn.access: 172.20.0.1:59004 - "POST /auth/register HTTP/1.1" 200
2025-07-14 13:14:06,558 [INFO] app.core.logging_config: Session opened
2025-07-14 13:14:06,559 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:14:06,560 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:14:06,560 [INFO] sqlalchemy.engine.Engine: [cached since 19.83s ago] ('user2@example.com',)
2025-07-14 13:14:06,562 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:14:06,562 [INFO] app.core.logging_config: Session closed
2025-07-14 13:14:06,563 [INFO] uvicorn.access: 172.20.0.1:51742 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:14:14,195 [INFO] app.core.logging_config: Session opened
2025-07-14 13:14:14,197 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:14:14,198 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:14:14,198 [INFO] sqlalchemy.engine.Engine: [cached since 27.47s ago] ('user2@example.com',)
2025-07-14 13:14:14,200 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:14:14,201 [INFO] app.core.logging_config: Session closed
2025-07-14 13:14:14,202 [INFO] uvicorn.access: 172.20.0.1:51754 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:15:02,750 [INFO] uvicorn.error: Shutting down
2025-07-14 13:15:02,850 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:15:02,851 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:15:02,851 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:15:02,851 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:15:02,857 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:15:02,857 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:15:02,857 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 13:15:03,737 [INFO] uvicorn.error: Started server process [13]
2025-07-14 13:15:03,737 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:15:03,737 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:15:03,737 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:15:03,741 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:15:03,741 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:15:03,741 [INFO] app.core.logging_config: Session opened
2025-07-14 13:15:03,741 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:15:03,741 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:15:03,742 [INFO] app.core.logging_config: Session closed
2025-07-14 13:15:46,389 [INFO] app.core.logging_config: Session opened
2025-07-14 13:15:46,390 [INFO] app.core.logging_config: Session closed
2025-07-14 13:15:46,390 [INFO] uvicorn.access: 172.20.0.1:51736 - "POST /auth/login HTTP/1.1" 422
2025-07-14 13:16:02,763 [INFO] app.core.logging_config: Session opened
2025-07-14 13:16:02,800 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:16:02,800 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:16:02,802 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:16:02,802 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:16:02,803 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:16:02,803 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:16:02,804 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:16:02,811 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:16:02,811 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] ('string',)
2025-07-14 13:16:02,823 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:16:02,823 [INFO] app.core.logging_config: Session closed
2025-07-14 13:16:02,824 [INFO] uvicorn.access: 172.20.0.1:35850 - "POST /auth/login HTTP/1.1" 401
2025-07-14 13:16:13,315 [INFO] app.core.logging_config: Session opened
2025-07-14 13:16:13,316 [INFO] app.core.logging_config: Session closed
2025-07-14 13:16:13,316 [INFO] uvicorn.access: 172.20.0.1:58796 - "POST /auth/refresh?refresh_token=1 HTTP/1.1" 500
2025-07-14 13:16:13,317 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 35, in refresh_token
    return await service.refresh_token(refresh_token)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 23, in refresh_token
    raise ValueError("Invalid refresh token")
ValueError: Invalid refresh token
2025-07-14 13:16:16,363 [INFO] uvicorn.error: Shutting down
2025-07-14 13:16:16,464 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:16:16,464 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:16:16,464 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:16:16,465 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:16:16,472 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:16:16,473 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:16:16,473 [INFO] uvicorn.error: Finished server process [13]
2025-07-14 13:22:15,130 [INFO] uvicorn.error: Started server process [10]
2025-07-14 13:22:15,130 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:22:15,131 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:22:15,131 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:22:15,136 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:22:15,136 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:22:15,137 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:15,137 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:22:15,137 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:22:15,138 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:15,465 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:15,466 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:15,466 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:15,506 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:22:15,507 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:22:15,508 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:22:15,509 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:22:15,510 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:22:15,510 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:22:15,511 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:15,518 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:15,519 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ()
2025-07-14 13:22:15,521 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:15,521 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:15,522 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:15,522 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:15,523 [INFO] uvicorn.access: 172.20.0.1:39762 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:25,795 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:25,796 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:25,796 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:25,797 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:25,798 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:25,798 [INFO] sqlalchemy.engine.Engine: [cached since 10.28s ago] ()
2025-07-14 13:22:25,800 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:25,800 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:25,800 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:25,801 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:25,801 [INFO] uvicorn.access: 172.20.0.1:44832 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:28,058 [INFO] uvicorn.access: 172.20.0.1:44836 - "GET /docs HTTP/1.1" 200
2025-07-14 13:22:28,170 [INFO] uvicorn.access: 172.20.0.1:44836 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 13:22:33,162 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:33,162 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:33,162 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:33,164 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:33,164 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:33,165 [INFO] sqlalchemy.engine.Engine: [cached since 17.65s ago] ()
2025-07-14 13:22:33,166 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:33,166 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:33,166 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:33,167 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:33,168 [INFO] uvicorn.access: 172.20.0.1:44840 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:34,429 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:34,429 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:34,430 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:34,433 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:34,434 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:34,434 [INFO] sqlalchemy.engine.Engine: [cached since 18.92s ago] ()
2025-07-14 13:22:34,436 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:34,436 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:34,437 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:34,437 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:34,438 [INFO] uvicorn.access: 172.20.0.1:44840 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:35,639 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:35,640 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:35,640 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:35,642 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:35,642 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:35,643 [INFO] sqlalchemy.engine.Engine: [cached since 20.12s ago] ()
2025-07-14 13:22:35,644 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:35,644 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:35,645 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:35,645 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:35,646 [INFO] uvicorn.access: 172.20.0.1:44840 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:36,128 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:36,129 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:36,129 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:36,131 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:36,133 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:36,133 [INFO] sqlalchemy.engine.Engine: [cached since 20.61s ago] ()
2025-07-14 13:22:36,135 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:36,135 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:36,136 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:36,136 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:36,137 [INFO] uvicorn.access: 172.20.0.1:44840 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:36,319 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:36,320 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:36,320 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:36,321 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:36,322 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:36,322 [INFO] sqlalchemy.engine.Engine: [cached since 20.8s ago] ()
2025-07-14 13:22:36,323 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:36,324 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:36,324 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:36,325 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:36,325 [INFO] uvicorn.access: 172.20.0.1:44840 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:40,515 [INFO] uvicorn.access: 172.20.0.1:44840 - "OPTIONS /api/tasks HTTP/1.1" 200
2025-07-14 13:22:40,520 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:40,521 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:40,521 [INFO] uvicorn.access: 172.20.0.1:52972 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 13:22:43,815 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:43,815 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:43,816 [INFO] uvicorn.access: 172.20.0.1:52972 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 13:23:12,426 [INFO] uvicorn.error: Shutting down
2025-07-14 13:23:12,527 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:23:12,527 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:23:12,528 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:23:12,528 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:23:12,532 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:23:12,532 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:23:12,532 [INFO] uvicorn.error: Finished server process [10]
2025-07-14 13:23:13,371 [INFO] uvicorn.error: Started server process [12]
2025-07-14 13:23:13,371 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:23:13,371 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:23:13,372 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:23:13,375 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:23:13,375 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:23:13,376 [INFO] app.core.logging_config: Session opened
2025-07-14 13:23:13,376 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:23:13,376 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:23:13,377 [INFO] app.core.logging_config: Session closed
2025-07-14 13:23:19,896 [INFO] uvicorn.error: Shutting down
2025-07-14 13:23:19,997 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:23:19,997 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:23:19,997 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:23:19,997 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:23:19,998 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:23:19,998 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:23:19,998 [INFO] uvicorn.error: Finished server process [12]
2025-07-14 13:23:20,934 [INFO] uvicorn.error: Started server process [14]
2025-07-14 13:23:20,934 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:23:20,935 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:23:20,935 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:23:20,939 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:23:20,939 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:23:20,939 [INFO] app.core.logging_config: Session opened
2025-07-14 13:23:20,940 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:23:20,940 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:23:20,940 [INFO] app.core.logging_config: Session closed
2025-07-14 13:25:28,347 [INFO] uvicorn.error: Shutting down
2025-07-14 13:25:28,447 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:25:28,447 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:25:28,447 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:25:28,448 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:25:28,448 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:25:28,448 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:25:28,449 [INFO] uvicorn.error: Finished server process [14]
2025-07-14 13:25:29,256 [INFO] uvicorn.error: Started server process [16]
2025-07-14 13:25:29,256 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:25:29,256 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:25:29,256 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:25:29,259 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:25:29,259 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:25:29,260 [INFO] app.core.logging_config: Session opened
2025-07-14 13:25:29,260 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:25:29,260 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:25:29,260 [INFO] app.core.logging_config: Session closed
2025-07-14 13:26:24,213 [INFO] uvicorn.error: Shutting down
2025-07-14 13:26:24,314 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:26:24,315 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:26:24,316 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:26:24,316 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:26:24,317 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:26:24,318 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:26:24,318 [INFO] uvicorn.error: Finished server process [16]
2025-07-14 13:27:29,493 [INFO] uvicorn.error: Started server process [21]
2025-07-14 13:27:29,493 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:27:29,493 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:27:29,493 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:27:29,497 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:27:29,497 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:27:29,497 [INFO] app.core.logging_config: Session opened
2025-07-14 13:27:29,497 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:27:29,498 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:27:29,498 [INFO] app.core.logging_config: Session closed
2025-07-14 14:22:31,015 [INFO] app.core.logging_config: Session opened
2025-07-14 14:22:31,015 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 14:22:31,016 [INFO] app.service.task: Fetching all tasks
2025-07-14 14:22:31,056 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 14:22:31,056 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:22:31,059 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 14:22:31,059 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:22:31,060 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 14:22:31,060 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:22:31,061 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 14:22:31,070 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 14:22:31,070 [INFO] sqlalchemy.engine.Engine: [generated in 0.00072s] ()
2025-07-14 14:22:31,079 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 14:22:31,079 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 14:22:31,079 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 14:22:31,080 [INFO] app.core.logging_config: Session closed
2025-07-14 14:22:31,081 [INFO] uvicorn.access: 172.20.0.1:60452 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 14:27:12,997 [INFO] uvicorn.error: Shutting down
2025-07-14 14:27:13,098 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:27:13,098 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:27:13,099 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:27:13,099 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:27:13,103 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:27:13,104 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:27:13,104 [INFO] uvicorn.error: Finished server process [21]
2025-07-14 14:27:14,297 [INFO] uvicorn.error: Started server process [23]
2025-07-14 14:27:14,297 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:27:14,298 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:27:14,298 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:27:14,302 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:27:14,302 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:27:14,302 [INFO] app.core.logging_config: Session opened
2025-07-14 14:27:14,303 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:27:14,303 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:27:14,303 [INFO] app.core.logging_config: Session closed
2025-07-14 14:27:32,952 [INFO] uvicorn.error: Shutting down
2025-07-14 14:27:33,053 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:27:33,053 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:27:33,053 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:27:33,054 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:27:33,055 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:27:33,055 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:27:33,055 [INFO] uvicorn.error: Finished server process [23]
2025-07-14 14:27:34,170 [INFO] uvicorn.error: Started server process [25]
2025-07-14 14:27:34,171 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:27:34,171 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:27:34,171 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:27:34,175 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:27:34,175 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:27:34,175 [INFO] app.core.logging_config: Session opened
2025-07-14 14:27:34,176 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:27:34,176 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:27:34,176 [INFO] app.core.logging_config: Session closed
2025-07-14 14:28:19,399 [INFO] uvicorn.error: Shutting down
2025-07-14 14:28:19,499 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:28:19,500 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:28:19,500 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:28:19,500 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:28:19,501 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:28:19,501 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:28:19,501 [INFO] uvicorn.error: Finished server process [25]
2025-07-14 14:28:20,547 [INFO] uvicorn.error: Started server process [27]
2025-07-14 14:28:20,547 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:28:20,547 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:28:20,547 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:28:20,551 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:28:20,552 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:28:20,552 [INFO] app.core.logging_config: Session opened
2025-07-14 14:28:20,552 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:28:20,552 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:28:20,553 [INFO] app.core.logging_config: Session closed
2025-07-14 14:28:42,113 [INFO] uvicorn.error: Shutting down
2025-07-14 14:28:42,214 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:28:42,214 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:28:42,214 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:28:42,215 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:28:42,216 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:28:42,216 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:28:42,216 [INFO] uvicorn.error: Finished server process [27]
2025-07-14 14:36:16,563 [INFO] uvicorn.error: Started server process [36]
2025-07-14 14:36:16,563 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:36:16,564 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:36:16,564 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:36:16,567 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:36:16,567 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:36:16,568 [INFO] app.core.logging_config: Session opened
2025-07-14 14:36:16,568 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:36:16,568 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:36:16,568 [INFO] app.core.logging_config: Session closed
2025-07-14 14:36:23,967 [INFO] app.core.logging_config: Session opened
2025-07-14 14:36:23,967 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 14:36:23,967 [INFO] app.service.task: Fetching all tasks
2025-07-14 14:36:24,006 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 14:36:24,006 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:36:24,007 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 14:36:24,007 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:36:24,009 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 14:36:24,009 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:36:24,010 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 14:36:24,021 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 14:36:24,021 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] ()
2025-07-14 14:36:24,024 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 14:36:24,024 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 14:36:24,025 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 14:36:24,025 [INFO] app.core.logging_config: Session closed
2025-07-14 14:36:24,025 [INFO] uvicorn.access: 172.20.0.1:48862 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 14:36:24,026 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'list_type', 'loc': ('response',), 'msg': 'Input should be a valid list', 'input': {'status': 'success', 'data': []}}

2025-07-14 14:36:26,352 [INFO] uvicorn.access: 172.20.0.1:48868 - "GET /docs HTTP/1.1" 200
2025-07-14 14:36:26,457 [INFO] uvicorn.access: 172.20.0.1:48868 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 14:36:32,282 [INFO] app.core.logging_config: Session opened
2025-07-14 14:36:32,282 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 14:36:32,282 [INFO] app.service.task: Fetching all tasks
2025-07-14 14:36:32,284 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 14:36:32,285 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 14:36:32,285 [INFO] sqlalchemy.engine.Engine: [cached since 8.265s ago] ()
2025-07-14 14:36:32,286 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 14:36:32,286 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 14:36:32,287 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 14:36:32,287 [INFO] app.core.logging_config: Session closed
2025-07-14 14:36:32,287 [INFO] uvicorn.access: 172.20.0.1:49380 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 14:36:32,288 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'list_type', 'loc': ('response',), 'msg': 'Input should be a valid list', 'input': {'status': 'success', 'data': []}}

2025-07-14 14:36:52,180 [INFO] uvicorn.error: Shutting down
2025-07-14 14:36:52,280 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:36:52,280 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:36:52,280 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:36:52,281 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:36:52,284 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:36:52,284 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:36:52,284 [INFO] uvicorn.error: Finished server process [36]
2025-07-14 14:37:00,676 [INFO] uvicorn.error: Started server process [39]
2025-07-14 14:37:00,676 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:37:00,676 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:37:00,676 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:37:00,679 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:37:00,679 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:37:00,680 [INFO] app.core.logging_config: Session opened
2025-07-14 14:37:00,680 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:37:00,680 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:37:00,680 [INFO] app.core.logging_config: Session closed
2025-07-14 14:37:02,131 [INFO] app.core.logging_config: Session opened
2025-07-14 14:37:02,131 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 14:37:02,131 [INFO] app.service.task: Fetching all tasks
2025-07-14 14:37:02,165 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 14:37:02,165 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:37:02,167 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 14:37:02,167 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:37:02,169 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 14:37:02,169 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:37:02,170 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 14:37:02,178 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 14:37:02,178 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ()
2025-07-14 14:37:02,182 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 14:37:02,182 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 14:37:02,183 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 14:37:02,183 [INFO] app.core.logging_config: Session closed
2025-07-14 14:37:02,184 [INFO] uvicorn.access: 172.20.0.1:40772 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 14:37:07,197 [INFO] uvicorn.error: Shutting down
2025-07-14 14:37:07,298 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:37:07,298 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:37:07,298 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:37:07,299 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:37:07,302 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:37:07,303 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:37:07,303 [INFO] uvicorn.error: Finished server process [39]
2025-07-14 14:37:08,059 [INFO] uvicorn.error: Started server process [41]
2025-07-14 14:37:08,059 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:37:08,059 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:37:08,059 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:37:08,062 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:37:08,063 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:37:08,063 [INFO] app.core.logging_config: Session opened
2025-07-14 14:37:08,063 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:37:08,063 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:37:08,063 [INFO] app.core.logging_config: Session closed
2025-07-14 14:38:22,059 [INFO] uvicorn.error: Shutting down
2025-07-14 14:38:22,159 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:38:22,159 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:38:22,159 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:38:22,160 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:38:22,161 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:38:22,161 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:38:22,161 [INFO] uvicorn.error: Finished server process [41]
2025-07-14 14:41:01,102 [INFO] uvicorn.error: Started server process [44]
2025-07-14 14:41:01,102 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:41:01,102 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:41:01,103 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:41:01,108 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:41:01,108 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:41:01,108 [INFO] app.core.logging_config: Session opened
2025-07-14 14:41:01,109 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:41:01,109 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:41:01,109 [INFO] app.core.logging_config: Session closed
2025-07-14 14:51:29,751 [INFO] uvicorn.error: Shutting down
2025-07-14 14:51:29,852 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:51:29,852 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:51:29,852 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:51:29,853 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:51:29,854 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:51:29,854 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:51:29,854 [INFO] uvicorn.error: Finished server process [44]
2025-07-14 14:51:30,996 [INFO] uvicorn.error: Started server process [46]
2025-07-14 14:51:30,997 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:51:30,997 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:51:30,997 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:51:31,001 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:51:31,001 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:51:31,001 [INFO] app.core.logging_config: Session opened
2025-07-14 14:51:31,001 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:51:31,002 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:51:31,002 [INFO] app.core.logging_config: Session closed
2025-07-14 14:51:45,640 [INFO] uvicorn.error: Shutting down
2025-07-14 14:51:45,741 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:51:45,741 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:51:45,741 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:51:45,742 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:51:45,743 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:51:45,744 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:51:45,744 [INFO] uvicorn.error: Finished server process [46]
2025-07-14 14:51:46,835 [INFO] uvicorn.error: Started server process [48]
2025-07-14 14:51:46,835 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:51:46,836 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:51:46,836 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:51:46,847 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:51:46,848 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:51:46,848 [INFO] app.core.logging_config: Session opened
2025-07-14 14:51:46,848 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:51:46,848 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:51:46,849 [INFO] app.core.logging_config: Session closed
2025-07-14 14:51:59,487 [INFO] uvicorn.error: Shutting down
2025-07-14 14:51:59,588 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:51:59,588 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:51:59,589 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:51:59,589 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:51:59,590 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:51:59,591 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:51:59,591 [INFO] uvicorn.error: Finished server process [48]
2025-07-14 15:06:14,192 [INFO] uvicorn.error: Started server process [73]
2025-07-14 15:06:14,192 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:14,192 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:14,192 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:14,196 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:14,196 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:14,196 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:14,196 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:14,197 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:14,197 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:24,323 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:24,424 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:24,424 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:24,424 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:24,424 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:24,425 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:24,425 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:24,425 [INFO] uvicorn.error: Finished server process [73]
2025-07-14 15:06:25,419 [INFO] uvicorn.error: Started server process [75]
2025-07-14 15:06:25,419 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:25,420 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:25,420 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:25,425 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:25,425 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:25,425 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:25,425 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:25,426 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:25,426 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:30,642 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:30,742 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:30,743 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:30,743 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:30,743 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:30,744 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:30,745 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:30,745 [INFO] uvicorn.error: Finished server process [75]
2025-07-14 15:06:31,667 [INFO] uvicorn.error: Started server process [77]
2025-07-14 15:06:31,667 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:31,667 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:31,667 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:31,672 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:31,672 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:31,672 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:31,672 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:31,672 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:31,673 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:43,503 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:43,603 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:43,603 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:43,603 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:43,604 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:43,604 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:43,604 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:43,605 [INFO] uvicorn.error: Finished server process [77]
2025-07-14 15:06:44,366 [INFO] uvicorn.error: Started server process [79]
2025-07-14 15:06:44,366 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:44,367 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:44,367 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:44,370 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:44,370 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:44,370 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:44,370 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:44,370 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:44,371 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:48,481 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:48,582 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:48,582 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:48,582 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:48,583 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:48,583 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:48,583 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:48,583 [INFO] uvicorn.error: Finished server process [79]
2025-07-14 15:06:49,388 [INFO] uvicorn.error: Started server process [81]
2025-07-14 15:06:49,388 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:49,388 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:49,388 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:49,392 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:49,392 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:49,392 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:49,392 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:49,392 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:49,393 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:49,794 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:49,895 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:49,895 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:49,895 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:49,896 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:49,897 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:49,897 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:49,897 [INFO] uvicorn.error: Finished server process [81]
2025-07-14 15:06:50,677 [INFO] uvicorn.error: Started server process [83]
2025-07-14 15:06:50,677 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:50,678 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:50,678 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:50,682 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:50,682 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:50,682 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:50,682 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:50,683 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:50,683 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:59,005 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:59,105 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:59,106 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:59,106 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:59,106 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:59,107 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:59,107 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:59,107 [INFO] uvicorn.error: Finished server process [83]
2025-07-14 15:06:59,965 [INFO] uvicorn.error: Started server process [85]
2025-07-14 15:06:59,966 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:59,966 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:59,966 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:59,970 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:59,970 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:59,971 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:59,971 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:59,971 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:59,972 [INFO] app.core.logging_config: Session closed
2025-07-14 15:07:12,405 [INFO] uvicorn.error: Shutting down
2025-07-14 15:07:12,505 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:07:12,506 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:07:12,507 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:07:12,507 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:07:12,508 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:07:12,508 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:07:12,509 [INFO] uvicorn.error: Finished server process [85]
2025-07-14 15:07:13,445 [INFO] uvicorn.error: Started server process [87]
2025-07-14 15:07:13,446 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:07:13,446 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:07:13,446 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:07:13,450 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:07:13,450 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:07:13,450 [INFO] app.core.logging_config: Session opened
2025-07-14 15:07:13,451 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:07:13,451 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:07:13,451 [INFO] app.core.logging_config: Session closed
2025-07-14 15:07:16,659 [INFO] uvicorn.error: Shutting down
2025-07-14 15:07:16,760 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:07:16,760 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:07:16,760 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:07:16,761 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:07:16,761 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:07:16,761 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:07:16,761 [INFO] uvicorn.error: Finished server process [87]
2025-07-14 15:07:17,649 [INFO] uvicorn.error: Started server process [89]
2025-07-14 15:07:17,649 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:07:17,649 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:07:17,649 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:07:17,653 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:07:17,653 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:07:17,653 [INFO] app.core.logging_config: Session opened
2025-07-14 15:07:17,654 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:07:17,654 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:07:17,655 [INFO] app.core.logging_config: Session closed
2025-07-14 15:07:22,068 [INFO] uvicorn.error: Shutting down
2025-07-14 15:07:22,168 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:07:22,168 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:07:22,169 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:07:22,169 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:07:22,170 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:07:22,170 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:07:22,170 [INFO] uvicorn.error: Finished server process [89]
2025-07-14 15:07:39,393 [INFO] uvicorn.error: Started server process [9]
2025-07-14 15:07:39,393 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:07:39,394 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:07:39,394 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:07:39,398 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:07:39,399 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:07:39,399 [INFO] app.core.logging_config: Session opened
2025-07-14 15:07:39,399 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:07:39,399 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:07:39,399 [INFO] app.core.logging_config: Session closed
2025-07-14 15:09:17,956 [INFO] uvicorn.error: Shutting down
2025-07-14 15:09:18,057 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:09:18,057 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:09:18,057 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:09:18,057 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:09:18,058 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:09:18,058 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:09:18,058 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 15:09:19,072 [INFO] uvicorn.error: Started server process [11]
2025-07-14 15:09:19,072 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:09:19,072 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:09:19,073 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:09:19,076 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:09:19,076 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:09:19,076 [INFO] app.core.logging_config: Session opened
2025-07-14 15:09:19,076 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:09:19,076 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:09:19,077 [INFO] app.core.logging_config: Session closed
2025-07-14 15:09:27,200 [INFO] uvicorn.error: Shutting down
2025-07-14 15:09:27,300 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:09:27,301 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:09:27,301 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:09:27,301 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:09:27,302 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:09:27,302 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:09:27,302 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 15:09:28,014 [INFO] uvicorn.error: Started server process [13]
2025-07-14 15:09:28,014 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:09:28,014 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:09:28,014 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:09:28,017 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:09:28,017 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:09:28,017 [INFO] app.core.logging_config: Session opened
2025-07-14 15:09:28,017 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:09:28,017 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:09:28,018 [INFO] app.core.logging_config: Session closed
2025-07-14 15:09:31,228 [INFO] uvicorn.error: Shutting down
2025-07-14 15:09:31,328 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:09:31,328 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:09:31,328 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:09:31,329 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:09:31,329 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:09:31,329 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:09:31,329 [INFO] uvicorn.error: Finished server process [13]
2025-07-14 15:09:32,113 [INFO] uvicorn.error: Started server process [15]
2025-07-14 15:09:32,113 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:09:32,113 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:09:32,113 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:09:32,116 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:09:32,116 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:09:32,117 [INFO] app.core.logging_config: Session opened
2025-07-14 15:09:32,117 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:09:32,117 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:09:32,117 [INFO] app.core.logging_config: Session closed
2025-07-14 15:11:40,775 [INFO] uvicorn.error: Shutting down
2025-07-14 15:11:40,875 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:11:40,876 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:11:40,876 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:11:40,876 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:11:40,877 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:11:40,877 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:11:40,877 [INFO] uvicorn.error: Finished server process [15]
2025-07-14 15:11:41,606 [INFO] uvicorn.error: Started server process [17]
2025-07-14 15:11:41,606 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:11:41,606 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:11:41,606 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:11:41,609 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:11:41,609 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:11:41,609 [INFO] app.core.logging_config: Session opened
2025-07-14 15:11:41,609 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:11:41,610 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:11:41,610 [INFO] app.core.logging_config: Session closed
2025-07-14 15:11:48,631 [INFO] uvicorn.error: Shutting down
2025-07-14 15:11:48,732 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:11:48,732 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:11:48,732 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:11:48,732 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:11:48,733 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:11:48,733 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:11:48,733 [INFO] uvicorn.error: Finished server process [17]
2025-07-14 15:11:49,488 [INFO] uvicorn.error: Started server process [19]
2025-07-14 15:11:49,488 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:11:49,488 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:11:49,488 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:11:49,491 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:11:49,491 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:11:49,491 [INFO] app.core.logging_config: Session opened
2025-07-14 15:11:49,491 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:11:49,492 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:11:49,492 [INFO] app.core.logging_config: Session closed
2025-07-14 15:40:29,295 [INFO] uvicorn.error: Shutting down
2025-07-14 15:40:29,396 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:40:29,396 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:40:29,396 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:40:29,397 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:40:29,398 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:40:29,398 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:40:29,398 [INFO] uvicorn.error: Finished server process [19]
2025-07-14 15:40:30,246 [INFO] uvicorn.error: Started server process [21]
2025-07-14 15:40:30,246 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:40:30,246 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:40:30,246 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:40:30,250 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:40:30,250 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:40:30,251 [INFO] app.core.logging_config: Session opened
2025-07-14 15:40:30,251 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:40:30,251 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:40:30,251 [INFO] app.core.logging_config: Session closed
2025-07-14 15:41:54,883 [INFO] uvicorn.error: Shutting down
2025-07-14 15:41:54,983 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:41:54,983 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:41:54,983 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:41:54,984 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:41:54,984 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:41:54,985 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:41:54,985 [INFO] uvicorn.error: Finished server process [21]
2025-07-14 15:41:55,853 [INFO] uvicorn.error: Started server process [23]
2025-07-14 15:41:55,853 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:41:55,853 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:41:55,853 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:41:55,857 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:41:55,857 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:41:55,858 [INFO] app.core.logging_config: Session opened
2025-07-14 15:41:55,858 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:41:55,858 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:41:55,858 [INFO] app.core.logging_config: Session closed
2025-07-14 15:42:09,896 [INFO] uvicorn.error: Shutting down
2025-07-14 15:42:09,997 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:42:09,997 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:42:09,997 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:42:09,997 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:42:09,998 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:42:09,998 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:42:09,998 [INFO] uvicorn.error: Finished server process [23]
2025-07-14 15:45:49,115 [INFO] uvicorn.error: Started server process [28]
2025-07-14 15:45:49,115 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:45:49,116 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:45:49,116 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:45:49,120 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:45:49,120 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:45:49,120 [INFO] app.core.logging_config: Session opened
2025-07-14 15:45:49,120 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:45:49,120 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:45:49,121 [INFO] app.core.logging_config: Session closed
2025-07-14 15:54:57,876 [INFO] app.core.logging_config: Session opened
2025-07-14 15:54:57,876 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 15:54:57,877 [INFO] app.service.task: Fetching all tasks
2025-07-14 15:54:57,921 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 15:54:57,921 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 15:54:57,924 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 15:54:57,924 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 15:54:57,926 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 15:54:57,926 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 15:54:57,928 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 15:54:57,934 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 15:54:57,934 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ()
2025-07-14 15:54:57,937 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 15:54:57,937 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 15:54:57,937 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 15:54:57,938 [INFO] app.core.logging_config: Session closed
2025-07-14 15:54:57,938 [INFO] uvicorn.access: 172.20.0.1:55326 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 20:02:35,760 [INFO] app.core.logging_config: Session opened
2025-07-14 20:02:35,760 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 20:02:35,760 [INFO] app.service.task: Fetching all tasks
2025-07-14 20:02:35,762 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 20:02:35,763 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 20:02:35,763 [INFO] sqlalchemy.engine.Engine: [cached since 132.3s ago] ()
2025-07-14 20:02:35,764 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 20:02:35,764 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 20:02:35,765 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 20:02:35,766 [INFO] app.core.logging_config: Session closed
2025-07-14 20:02:35,767 [INFO] uvicorn.access: 172.20.0.1:59938 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 21:29:13,609 [INFO] uvicorn.error: Shutting down
2025-07-14 21:29:13,710 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:29:13,710 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:29:13,710 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:29:13,711 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:29:13,716 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:29:13,716 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:29:13,716 [INFO] uvicorn.error: Finished server process [28]
2025-07-14 21:29:14,512 [INFO] uvicorn.error: Started server process [30]
2025-07-14 21:29:14,512 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:29:14,512 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:29:14,512 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:29:14,516 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:29:14,516 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:29:14,516 [INFO] app.core.logging_config: Session opened
2025-07-14 21:29:14,516 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:29:14,516 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:29:14,517 [INFO] app.core.logging_config: Session closed
2025-07-14 21:31:32,457 [INFO] uvicorn.error: Shutting down
2025-07-14 21:31:32,558 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:31:32,558 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:31:32,558 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:31:32,559 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:31:32,560 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:31:32,560 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:31:32,560 [INFO] uvicorn.error: Finished server process [30]
2025-07-14 21:31:33,323 [INFO] uvicorn.error: Started server process [32]
2025-07-14 21:31:33,323 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:31:33,324 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:31:33,324 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:31:33,328 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:31:33,328 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:31:33,329 [INFO] app.core.logging_config: Session opened
2025-07-14 21:31:33,329 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:31:33,329 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:31:33,330 [INFO] app.core.logging_config: Session closed
2025-07-14 21:36:33,292 [INFO] uvicorn.error: Shutting down
2025-07-14 21:36:33,392 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:36:33,393 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:36:33,393 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:36:33,393 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:36:33,394 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:36:33,394 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:36:33,394 [INFO] uvicorn.error: Finished server process [32]
2025-07-14 21:36:34,203 [INFO] uvicorn.error: Started server process [34]
2025-07-14 21:36:34,204 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:36:34,204 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:36:34,204 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:36:34,207 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:36:34,208 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:36:34,208 [INFO] app.core.logging_config: Session opened
2025-07-14 21:36:34,208 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:36:34,208 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:36:34,209 [INFO] app.core.logging_config: Session closed
2025-07-14 21:37:35,161 [INFO] uvicorn.error: Shutting down
2025-07-14 21:37:35,261 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:37:35,261 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:37:35,262 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:37:35,262 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:37:35,263 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:37:35,263 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:37:35,263 [INFO] uvicorn.error: Finished server process [34]
2025-07-14 21:37:36,066 [INFO] uvicorn.error: Started server process [36]
2025-07-14 21:37:36,066 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:37:36,067 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:37:36,067 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:37:36,071 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:37:36,071 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:37:36,071 [INFO] app.core.logging_config: Session opened
2025-07-14 21:37:36,071 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:37:36,071 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:37:36,072 [INFO] app.core.logging_config: Session closed
2025-07-14 21:37:42,087 [INFO] uvicorn.error: Shutting down
2025-07-14 21:37:42,188 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:37:42,188 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:37:42,188 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:37:42,189 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:37:42,189 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:37:42,190 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:37:42,190 [INFO] uvicorn.error: Finished server process [36]
2025-07-14 21:37:43,005 [INFO] uvicorn.error: Started server process [38]
2025-07-14 21:37:43,005 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:37:43,005 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:37:43,005 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:37:43,009 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:37:43,010 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:37:43,010 [INFO] app.core.logging_config: Session opened
2025-07-14 21:37:43,010 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:37:43,010 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:37:43,011 [INFO] app.core.logging_config: Session closed
2025-07-14 21:40:53,924 [INFO] uvicorn.error: Shutting down
2025-07-14 21:40:54,024 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:40:54,024 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:40:54,025 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:40:54,025 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:40:54,025 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:40:54,026 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:40:54,026 [INFO] uvicorn.error: Finished server process [38]
2025-07-14 21:40:54,750 [INFO] uvicorn.error: Started server process [40]
2025-07-14 21:40:54,750 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:40:54,750 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:40:54,750 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:40:54,754 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:40:54,755 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:40:54,755 [INFO] app.core.logging_config: Session opened
2025-07-14 21:40:54,755 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:40:54,755 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:40:54,756 [INFO] app.core.logging_config: Session closed
2025-07-14 21:40:55,759 [INFO] uvicorn.error: Shutting down
2025-07-14 21:40:55,860 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:40:55,860 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:40:55,860 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:40:55,861 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:40:55,861 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:40:55,862 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:40:55,862 [INFO] uvicorn.error: Finished server process [40]
2025-07-14 21:40:56,616 [INFO] uvicorn.error: Started server process [42]
2025-07-14 21:40:56,616 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:40:56,617 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:40:56,617 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:40:56,620 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:40:56,620 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:40:56,620 [INFO] app.core.logging_config: Session opened
2025-07-14 21:40:56,620 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:40:56,621 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:40:56,621 [INFO] app.core.logging_config: Session closed
2025-07-14 21:41:03,057 [INFO] uvicorn.access: 172.20.0.1:45330 - "GET /docs HTTP/1.1" 200
2025-07-14 21:41:03,197 [INFO] uvicorn.access: 172.20.0.1:45330 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 21:41:31,316 [INFO] uvicorn.error: Shutting down
2025-07-14 21:41:31,416 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:41:31,417 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:41:31,417 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:41:31,417 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:41:31,418 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:41:31,419 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:41:31,419 [INFO] uvicorn.error: Finished server process [42]
2025-07-14 21:55:50,904 [INFO] uvicorn.error: Started server process [13]
2025-07-14 21:55:50,905 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:55:50,905 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:55:50,905 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:55:50,911 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:55:50,911 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:55:50,911 [INFO] app.core.logging_config: Session opened
2025-07-14 21:55:50,911 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:55:50,912 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:55:50,912 [INFO] app.core.logging_config: Session closed
2025-07-14 21:55:55,729 [INFO] uvicorn.error: Shutting down
2025-07-14 21:55:55,830 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:55:55,830 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:55:55,830 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:55:55,831 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:55:55,832 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:55:55,832 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:55:55,832 [INFO] uvicorn.error: Finished server process [13]
2025-07-14 21:55:56,586 [INFO] uvicorn.error: Started server process [15]
2025-07-14 21:55:56,586 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:55:56,587 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:55:56,587 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:55:56,590 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:55:56,590 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:55:56,590 [INFO] app.core.logging_config: Session opened
2025-07-14 21:55:56,590 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:55:56,591 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:55:56,591 [INFO] app.core.logging_config: Session closed
2025-07-14 21:56:00,734 [INFO] uvicorn.access: 172.20.0.1:33352 - "GET /docs HTTP/1.1" 200
2025-07-14 21:56:01,908 [INFO] uvicorn.access: 172.20.0.1:33352 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 21:57:49,397 [INFO] uvicorn.error: Shutting down
2025-07-14 21:57:49,498 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:57:49,498 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:57:49,498 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:57:49,499 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:57:49,500 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:57:49,500 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:57:49,500 [INFO] uvicorn.error: Finished server process [15]
2025-07-14 21:57:50,291 [INFO] uvicorn.error: Started server process [17]
2025-07-14 21:57:50,291 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:57:50,291 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:57:50,291 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:57:50,294 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:57:50,295 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:57:50,295 [INFO] app.core.logging_config: Session opened
2025-07-14 21:57:50,295 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:57:50,295 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:57:50,295 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:07,745 [INFO] uvicorn.error: Shutting down
2025-07-14 21:58:07,846 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:58:07,846 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:58:07,846 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:58:07,847 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:58:07,847 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:58:07,848 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:58:07,848 [INFO] uvicorn.error: Finished server process [17]
2025-07-14 21:58:08,588 [INFO] uvicorn.error: Started server process [19]
2025-07-14 21:58:08,589 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:58:08,589 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:58:08,589 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:58:08,592 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:58:08,592 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:58:08,592 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:08,592 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:58:08,593 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:58:08,593 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:11,803 [INFO] uvicorn.error: Shutting down
2025-07-14 21:58:11,903 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:58:11,903 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:58:11,904 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:58:11,904 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:58:11,905 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:58:11,905 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:58:11,905 [INFO] uvicorn.error: Finished server process [19]
2025-07-14 21:58:12,663 [INFO] uvicorn.error: Started server process [21]
2025-07-14 21:58:12,663 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:58:12,664 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:58:12,664 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:58:12,667 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:58:12,668 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:58:12,668 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:12,668 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:58:12,668 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:58:12,668 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:19,788 [INFO] uvicorn.error: Shutting down
2025-07-14 21:58:19,889 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:58:19,889 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:58:19,889 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:58:19,889 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:58:19,890 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:58:19,891 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:58:19,891 [INFO] uvicorn.error: Finished server process [21]
2025-07-14 21:58:20,655 [INFO] uvicorn.error: Started server process [23]
2025-07-14 21:58:20,655 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:58:20,655 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:58:20,655 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:58:20,658 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:58:20,658 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:58:20,659 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:20,659 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:58:20,659 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:58:20,659 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:26,577 [INFO] uvicorn.error: Shutting down
2025-07-14 21:58:26,677 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:58:26,678 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:58:26,678 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:58:26,678 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:58:26,679 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:58:26,679 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:58:26,679 [INFO] uvicorn.error: Finished server process [23]
2025-07-14 21:58:27,431 [INFO] uvicorn.error: Started server process [25]
2025-07-14 21:58:27,431 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:58:27,431 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:58:27,431 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:58:27,435 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:58:27,435 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:58:27,436 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:27,436 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:58:27,436 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:58:27,436 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:32,250 [INFO] uvicorn.error: Shutting down
2025-07-14 21:58:32,350 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:58:32,351 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:58:32,351 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:58:32,351 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:58:32,352 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:58:32,353 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:58:32,353 [INFO] uvicorn.error: Finished server process [25]
2025-07-14 21:58:33,107 [INFO] uvicorn.error: Started server process [27]
2025-07-14 21:58:33,107 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:58:33,108 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:58:33,108 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:58:33,112 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:58:33,112 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:58:33,112 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:33,112 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:58:33,112 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:58:33,113 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:42,246 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:42,251 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 21:58:42,251 [INFO] app.service.task: Fetching all tasks
2025-07-14 21:58:42,289 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 21:58:42,290 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 21:58:42,292 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 21:58:42,292 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 21:58:42,294 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 21:58:42,295 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 21:58:42,296 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 21:58:42,304 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 21:58:42,304 [INFO] sqlalchemy.engine.Engine: [generated in 0.00025s] ()
2025-07-14 21:58:42,309 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 21:58:42,309 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 21:58:42,309 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 21:58:42,310 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:42,310 [INFO] uvicorn.access: 172.20.0.1:59660 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 22:00:22,105 [INFO] uvicorn.error: Shutting down
2025-07-14 22:00:22,206 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:00:22,207 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:00:22,207 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:00:22,207 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:00:22,211 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:00:22,212 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:00:22,212 [INFO] uvicorn.error: Finished server process [27]
2025-07-14 22:00:22,975 [INFO] uvicorn.error: Started server process [30]
2025-07-14 22:00:22,976 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:00:22,976 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:00:22,976 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:00:22,980 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:00:22,980 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:00:22,980 [INFO] app.core.logging_config: Session opened
2025-07-14 22:00:22,980 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:00:22,980 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:00:22,981 [INFO] app.core.logging_config: Session closed
2025-07-14 22:00:46,749 [INFO] uvicorn.error: Shutting down
2025-07-14 22:00:46,850 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:00:46,850 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:00:46,850 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:00:46,851 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:00:46,851 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:00:46,851 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:00:46,851 [INFO] uvicorn.error: Finished server process [30]
2025-07-14 22:00:47,672 [INFO] uvicorn.error: Started server process [32]
2025-07-14 22:00:47,672 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:00:47,672 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:00:47,672 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:00:47,676 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:00:47,676 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:00:47,677 [INFO] app.core.logging_config: Session opened
2025-07-14 22:00:47,677 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:00:47,677 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:00:47,677 [INFO] app.core.logging_config: Session closed
2025-07-14 22:10:03,496 [INFO] uvicorn.error: Shutting down
2025-07-14 22:10:03,596 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:10:03,597 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:10:03,597 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:10:03,597 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:10:03,598 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:10:03,599 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:10:03,599 [INFO] uvicorn.error: Finished server process [32]
2025-07-14 22:10:04,346 [INFO] uvicorn.error: Started server process [34]
2025-07-14 22:10:04,346 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:10:04,347 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:10:04,347 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:10:04,352 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:10:04,352 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:10:04,352 [INFO] app.core.logging_config: Session opened
2025-07-14 22:10:04,352 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:10:04,352 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:10:04,353 [INFO] app.core.logging_config: Session closed
2025-07-14 22:14:26,075 [INFO] uvicorn.error: Shutting down
2025-07-14 22:14:26,175 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:14:26,175 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:14:26,176 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:14:26,176 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:14:26,177 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:14:26,178 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:14:26,178 [INFO] uvicorn.error: Finished server process [34]
2025-07-14 22:15:16,735 [INFO] uvicorn.error: Started server process [37]
2025-07-14 22:15:16,735 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:15:16,736 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:15:16,736 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:15:16,739 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:15:16,739 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:15:16,739 [INFO] app.core.logging_config: Session opened
2025-07-14 22:15:16,739 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:15:16,740 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:15:16,740 [INFO] app.core.logging_config: Session closed
2025-07-14 22:21:51,439 [INFO] uvicorn.error: Shutting down
2025-07-14 22:21:51,539 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:21:51,539 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:21:51,540 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:21:51,540 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:21:51,541 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:21:51,541 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:21:51,541 [INFO] uvicorn.error: Finished server process [37]
2025-07-14 22:21:52,287 [INFO] uvicorn.error: Started server process [39]
2025-07-14 22:21:52,287 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:21:52,287 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:21:52,287 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:21:52,290 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:21:52,291 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:21:52,291 [INFO] app.core.logging_config: Session opened
2025-07-14 22:21:52,291 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:21:52,291 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:21:52,292 [INFO] app.core.logging_config: Session closed
2025-07-14 22:21:53,797 [INFO] uvicorn.error: Shutting down
2025-07-14 22:21:53,898 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:21:53,898 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:21:53,898 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:21:53,898 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:21:53,899 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:21:53,899 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:21:53,899 [INFO] uvicorn.error: Finished server process [39]
2025-07-14 22:21:54,650 [INFO] uvicorn.error: Started server process [41]
2025-07-14 22:21:54,650 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:21:54,650 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:21:54,650 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:21:54,654 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:21:54,654 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:21:54,654 [INFO] app.core.logging_config: Session opened
2025-07-14 22:21:54,654 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:21:54,654 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:21:54,654 [INFO] app.core.logging_config: Session closed
2025-07-14 22:22:06,286 [INFO] uvicorn.error: Shutting down
2025-07-14 22:22:06,386 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:22:06,387 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:22:06,387 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:22:06,387 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:22:06,388 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:22:06,389 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:22:06,389 [INFO] uvicorn.error: Finished server process [41]
2025-07-14 22:22:07,161 [INFO] uvicorn.error: Started server process [43]
2025-07-14 22:22:07,161 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:22:07,161 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:22:07,161 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:22:07,165 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:22:07,165 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:22:07,165 [INFO] app.core.logging_config: Session opened
2025-07-14 22:22:07,165 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:22:07,165 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:22:07,166 [INFO] app.core.logging_config: Session closed
2025-07-14 22:26:31,192 [INFO] uvicorn.error: Shutting down
2025-07-14 22:26:31,293 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:26:31,293 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:26:31,293 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:26:31,294 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:26:31,295 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:26:31,295 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:26:31,295 [INFO] uvicorn.error: Finished server process [43]
