2025-07-12 18:34:52,668 [INFO] uvicorn.error: Started server process [1]
2025-07-12 18:34:52,668 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 18:34:52,668 [INFO] app.core.logging_config: Initializing application...
2025-07-12 18:34:52,668 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 18:34:52,674 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 18:34:52,674 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 18:34:52,675 [INFO] app.core.logging_config: Session opened
2025-07-12 18:34:52,675 [INFO] app.core.logging_config: Database connection verified
2025-07-12 18:34:52,675 [INFO] uvicorn.error: Application startup complete.
2025-07-12 18:34:52,676 [INFO] app.core.logging_config: Session closed
2025-07-12 18:34:52,677 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 18:36:06,024 [INFO] uvicorn.access: 172.20.0.1:58318 - "GET /docs HTTP/1.1" 200
2025-07-12 18:36:07,066 [INFO] uvicorn.access: 172.20.0.1:58318 - "GET /openapi.json HTTP/1.1" 200
2025-07-12 18:36:13,005 [INFO] app.core.logging_config: Session opened
2025-07-12 18:36:13,005 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 18:36:13,005 [INFO] app.service.task: Fetching all tasks
2025-07-12 18:36:13,054 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-12 18:36:13,055 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 18:36:13,057 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-12 18:36:13,057 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 18:36:13,060 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-12 18:36:13,060 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 18:36:13,061 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 18:36:13,066 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 18:36:13,066 [INFO] sqlalchemy.engine.Engine: [generated in 0.00030s] ()
2025-07-12 18:36:13,070 [INFO] app.service.task: Fetched 3 tasks successfully
2025-07-12 18:36:13,071 [INFO] app.handlers.tasks: Fetched 3 tasks successfully
2025-07-12 18:36:13,071 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 18:36:13,072 [INFO] app.core.logging_config: Session closed
2025-07-12 18:36:13,072 [INFO] uvicorn.access: 172.20.0.1:58312 - "GET /tasks/ HTTP/1.1" 200
2025-07-12 18:36:33,211 [INFO] uvicorn.error: Shutting down
2025-07-12 18:36:33,311 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 18:36:33,312 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 18:36:33,312 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 18:36:33,322 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 34, in lifespan
    await app.state.redis.wait_closed()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Redis' object has no attribute 'wait_closed'

2025-07-12 18:36:33,322 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 18:36:33,322 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 18:38:46,307 [INFO] uvicorn.error: Started server process [1]
2025-07-12 18:38:46,307 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 18:38:46,307 [INFO] app.core.logging_config: Initializing application...
2025-07-12 18:38:46,307 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 18:38:46,313 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 18:38:46,313 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 18:38:46,313 [INFO] app.core.logging_config: Session opened
2025-07-12 18:38:46,313 [INFO] app.core.logging_config: Database connection verified
2025-07-12 18:38:46,313 [INFO] uvicorn.error: Application startup complete.
2025-07-12 18:38:46,314 [INFO] app.core.logging_config: Session closed
2025-07-12 18:38:46,314 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 18:38:59,246 [INFO] uvicorn.error: Shutting down
2025-07-12 18:38:59,347 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 18:38:59,347 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 18:38:59,347 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 18:38:59,356 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 34, in lifespan
    await app.state.redis.wait_closed()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Redis' object has no attribute 'wait_closed'

2025-07-12 18:38:59,357 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 18:38:59,357 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 18:39:07,074 [INFO] uvicorn.error: Started server process [1]
2025-07-12 18:39:07,074 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 18:39:07,074 [INFO] app.core.logging_config: Initializing application...
2025-07-12 18:39:07,074 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 18:39:07,078 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 18:39:07,079 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 18:39:07,079 [INFO] app.core.logging_config: Session opened
2025-07-12 18:39:07,079 [INFO] app.core.logging_config: Database connection verified
2025-07-12 18:39:07,079 [INFO] uvicorn.error: Application startup complete.
2025-07-12 18:39:07,080 [INFO] app.core.logging_config: Session closed
2025-07-12 18:39:07,080 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 18:39:21,777 [INFO] uvicorn.access: 172.20.0.1:44768 - "GET /api/tasks HTTP/1.1" 404
2025-07-12 18:39:58,228 [INFO] uvicorn.access: 172.20.0.1:48378 - "GET /tasks HTTP/1.1" 307
2025-07-12 18:40:15,097 [INFO] uvicorn.access: 172.20.0.1:58448 - "GET /tasks HTTP/1.1" 307
2025-07-12 18:40:25,104 [INFO] uvicorn.access: 172.20.0.1:57510 - "GET /tasks HTTP/1.1" 307
2025-07-12 18:40:34,190 [INFO] uvicorn.access: 172.20.0.1:42872 - "GET /tasks/all HTTP/1.1" 405
2025-07-12 18:41:07,186 [INFO] app.core.logging_config: Session opened
2025-07-12 18:41:07,187 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 18:41:07,187 [INFO] app.service.task: Fetching all tasks
2025-07-12 18:41:07,232 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-12 18:41:07,232 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 18:41:07,236 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-12 18:41:07,237 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 18:41:07,241 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-12 18:41:07,241 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 18:41:07,243 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 18:41:07,249 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 18:41:07,249 [INFO] sqlalchemy.engine.Engine: [generated in 0.00040s] ()
2025-07-12 18:41:07,252 [INFO] app.service.task: Fetched 3 tasks successfully
2025-07-12 18:41:07,254 [INFO] app.handlers.tasks: Fetched 3 tasks successfully
2025-07-12 18:41:07,255 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 18:41:07,256 [INFO] app.core.logging_config: Session closed
2025-07-12 18:41:07,256 [INFO] uvicorn.access: 172.20.0.1:53640 - "GET /tasks/ HTTP/1.1" 200
2025-07-12 18:43:00,298 [INFO] uvicorn.error: Shutting down
2025-07-12 18:43:00,399 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 18:43:00,399 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 18:43:00,399 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 18:43:00,411 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 34, in lifespan
    await app.state.redis.wait_closed()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Redis' object has no attribute 'wait_closed'

2025-07-12 18:43:00,411 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 18:43:00,411 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 18:43:02,401 [INFO] uvicorn.error: Started server process [1]
2025-07-12 18:43:02,402 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 18:43:02,402 [INFO] app.core.logging_config: Initializing application...
2025-07-12 18:43:02,402 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 18:43:02,408 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 18:43:02,408 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 18:43:02,409 [INFO] app.core.logging_config: Session opened
2025-07-12 18:43:02,409 [INFO] app.core.logging_config: Database connection verified
2025-07-12 18:43:02,409 [INFO] uvicorn.error: Application startup complete.
2025-07-12 18:43:02,410 [INFO] app.core.logging_config: Session closed
2025-07-12 18:43:02,410 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 18:43:23,726 [INFO] uvicorn.access: 172.20.0.1:41592 - "GET /api/tasks HTTP/1.1" 307
2025-07-12 18:43:42,330 [INFO] uvicorn.error: Shutting down
2025-07-12 18:43:42,431 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 18:43:42,431 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 18:43:42,431 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 18:43:42,440 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 34, in lifespan
    await app.state.redis.wait_closed()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Redis' object has no attribute 'wait_closed'

2025-07-12 18:43:42,440 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 18:43:42,440 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 18:43:44,090 [INFO] uvicorn.error: Started server process [1]
2025-07-12 18:43:44,090 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 18:43:44,091 [INFO] app.core.logging_config: Initializing application...
2025-07-12 18:43:44,091 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 18:43:44,098 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 18:43:44,098 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 18:43:44,098 [INFO] app.core.logging_config: Session opened
2025-07-12 18:43:44,098 [INFO] app.core.logging_config: Database connection verified
2025-07-12 18:43:44,099 [INFO] uvicorn.error: Application startup complete.
2025-07-12 18:43:44,099 [INFO] app.core.logging_config: Session closed
2025-07-12 18:43:44,099 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 18:43:44,592 [INFO] uvicorn.access: 172.20.0.1:48758 - "GET /api/tasks HTTP/1.1" 307
2025-07-12 18:43:48,220 [INFO] uvicorn.access: 172.20.0.1:42076 - "GET /api/tasks HTTP/1.1" 307
2025-07-12 18:43:57,370 [INFO] app.core.logging_config: Session opened
2025-07-12 18:43:57,371 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 18:43:57,371 [INFO] app.service.task: Fetching all tasks
2025-07-12 18:43:57,421 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-12 18:43:57,421 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 18:43:57,423 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-12 18:43:57,423 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 18:43:57,425 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-12 18:43:57,425 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 18:43:57,427 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 18:43:57,436 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 18:43:57,437 [INFO] sqlalchemy.engine.Engine: [generated in 0.00066s] ()
2025-07-12 18:43:57,441 [INFO] app.service.task: Fetched 3 tasks successfully
2025-07-12 18:43:57,442 [INFO] app.handlers.tasks: Fetched 3 tasks successfully
2025-07-12 18:43:57,443 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 18:43:57,444 [INFO] app.core.logging_config: Session closed
2025-07-12 18:43:57,444 [INFO] uvicorn.access: 172.20.0.1:58078 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 18:44:58,186 [INFO] uvicorn.access: 172.20.0.5:36182 - "GET /api/tasks HTTP/1.1" 307
2025-07-12 18:45:55,556 [INFO] uvicorn.error: Shutting down
2025-07-12 18:45:55,657 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 18:45:55,657 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 18:45:55,657 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 18:45:55,666 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 34, in lifespan
    await app.state.redis.wait_closed()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Redis' object has no attribute 'wait_closed'

2025-07-12 18:45:55,667 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 18:45:55,667 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 18:46:36,907 [INFO] uvicorn.error: Started server process [1]
2025-07-12 18:46:36,907 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 18:46:36,907 [INFO] app.core.logging_config: Initializing application...
2025-07-12 18:46:36,907 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 18:46:36,913 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 18:46:36,914 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 18:46:36,914 [INFO] app.core.logging_config: Session opened
2025-07-12 18:46:36,914 [INFO] app.core.logging_config: Database connection verified
2025-07-12 18:46:36,914 [INFO] uvicorn.error: Application startup complete.
2025-07-12 18:46:36,915 [INFO] app.core.logging_config: Session closed
2025-07-12 18:46:36,916 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 18:46:43,588 [INFO] uvicorn.access: 172.20.0.1:35650 - "GET / HTTP/1.1" 404
2025-07-12 18:46:53,295 [INFO] uvicorn.access: 172.20.0.1:35654 - "GET /docs HTTP/1.1" 200
2025-07-12 18:46:53,519 [INFO] uvicorn.access: 172.20.0.1:35654 - "GET /openapi.json HTTP/1.1" 200
2025-07-12 18:49:12,708 [INFO] uvicorn.error: Shutting down
2025-07-12 18:49:12,809 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 18:49:12,809 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 18:49:12,809 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 18:49:12,819 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 34, in lifespan
    await app.state.redis.wait_closed()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Redis' object has no attribute 'wait_closed'

2025-07-12 18:49:12,819 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 18:49:12,819 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 18:49:14,730 [INFO] uvicorn.error: Started server process [1]
2025-07-12 18:49:14,730 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 18:49:14,730 [INFO] app.core.logging_config: Initializing application...
2025-07-12 18:49:14,730 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 18:49:14,737 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 18:49:14,737 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 18:49:14,737 [INFO] app.core.logging_config: Session opened
2025-07-12 18:49:14,737 [INFO] app.core.logging_config: Database connection verified
2025-07-12 18:49:14,737 [INFO] uvicorn.error: Application startup complete.
2025-07-12 18:49:14,738 [INFO] app.core.logging_config: Session closed
2025-07-12 18:49:14,739 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 18:52:01,994 [INFO] uvicorn.error: Shutting down
2025-07-12 18:52:02,094 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 18:52:02,095 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 18:52:02,095 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 18:52:02,104 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 34, in lifespan
AttributeError: 'Redis' object has no attribute 'wait_closed'

2025-07-12 18:52:02,104 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 18:52:02,104 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 18:52:04,033 [INFO] uvicorn.error: Started server process [1]
2025-07-12 18:52:04,033 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 18:52:04,033 [INFO] app.core.logging_config: Initializing application...
2025-07-12 18:52:04,034 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 18:52:04,039 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 18:52:04,039 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 18:52:04,039 [INFO] app.core.logging_config: Session opened
2025-07-12 18:52:04,040 [INFO] app.core.logging_config: Database connection verified
2025-07-12 18:52:04,040 [INFO] uvicorn.error: Application startup complete.
2025-07-12 18:52:04,040 [INFO] app.core.logging_config: Session closed
2025-07-12 18:52:04,041 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 19:16:30,030 [INFO] uvicorn.error: Shutting down
2025-07-12 19:16:30,131 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 19:16:30,131 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 19:16:30,131 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 19:16:30,132 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 19:16:30,134 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 36, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 19:16:30,134 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 19:16:30,135 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 19:16:31,919 [INFO] uvicorn.error: Started server process [1]
2025-07-12 19:16:31,919 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 19:16:31,920 [INFO] app.core.logging_config: Initializing application...
2025-07-12 19:16:31,920 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 19:16:31,928 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 19:16:31,928 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 19:16:31,928 [INFO] app.core.logging_config: Session opened
2025-07-12 19:16:31,929 [INFO] app.core.logging_config: Database connection verified
2025-07-12 19:16:31,929 [INFO] uvicorn.error: Application startup complete.
2025-07-12 19:16:31,929 [INFO] app.core.logging_config: Session closed
2025-07-12 19:16:31,929 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 19:17:36,087 [INFO] uvicorn.error: Shutting down
2025-07-12 19:17:36,187 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 19:17:36,188 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 19:17:36,188 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 19:17:36,188 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 19:17:36,191 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 36, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 19:17:36,192 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 19:17:36,192 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 19:20:30,641 [INFO] uvicorn.error: Started server process [1]
2025-07-12 19:20:30,642 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 19:20:30,642 [INFO] app.core.logging_config: Initializing application...
2025-07-12 19:20:30,642 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 19:20:30,647 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 19:20:30,647 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 19:20:30,647 [INFO] app.core.logging_config: Session opened
2025-07-12 19:20:30,648 [INFO] app.core.logging_config: Database connection verified
2025-07-12 19:20:30,648 [INFO] uvicorn.error: Application startup complete.
2025-07-12 19:20:30,648 [INFO] app.core.logging_config: Session closed
2025-07-12 19:20:30,649 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 19:20:41,549 [INFO] uvicorn.access: 172.20.0.1:41252 - "GET / HTTP/1.1" 404
2025-07-12 19:21:27,252 [INFO] uvicorn.error: Shutting down
2025-07-12 19:21:27,353 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 19:21:27,354 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 19:21:27,354 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 19:21:27,355 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 19:21:27,358 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 36, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 19:21:27,358 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 19:21:27,358 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 20:10:17,647 [INFO] uvicorn.error: Started server process [1]
2025-07-12 20:10:17,647 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:10:17,648 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:10:17,648 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:10:17,653 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:10:17,654 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:10:17,654 [INFO] app.core.logging_config: Session opened
2025-07-12 20:10:17,654 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:10:17,654 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:10:17,655 [INFO] app.core.logging_config: Session closed
2025-07-12 20:10:17,655 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 20:10:50,265 [INFO] uvicorn.access: 172.20.0.1:53958 - "GET /docs HTTP/1.1" 200
2025-07-12 20:10:50,509 [INFO] uvicorn.access: 172.20.0.1:53958 - "GET /openapi.json HTTP/1.1" 200
2025-07-12 20:10:57,747 [INFO] app.core.logging_config: Session opened
2025-07-12 20:10:57,747 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 20:10:57,747 [INFO] app.service.task: Fetching all tasks
2025-07-12 20:10:57,793 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-12 20:10:57,794 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:10:57,795 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-12 20:10:57,796 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:10:57,798 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-12 20:10:57,799 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:10:57,800 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 20:10:57,806 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 20:10:57,806 [INFO] sqlalchemy.engine.Engine: [generated in 0.00049s] ()
2025-07-12 20:10:57,810 [INFO] app.service.task: Fetched 3 tasks successfully
2025-07-12 20:10:57,811 [INFO] app.handlers.tasks: Fetched 3 tasks successfully
2025-07-12 20:10:57,811 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 20:10:57,812 [INFO] app.core.logging_config: Session closed
2025-07-12 20:10:57,813 [INFO] uvicorn.access: 172.20.0.1:53962 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 20:11:06,632 [INFO] app.core.logging_config: Session opened
2025-07-12 20:11:06,632 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 20:11:06,632 [INFO] app.service.task: Fetching all tasks
2025-07-12 20:11:06,634 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 20:11:06,635 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 20:11:06,635 [INFO] sqlalchemy.engine.Engine: [cached since 8.829s ago] ()
2025-07-12 20:11:06,636 [INFO] app.service.task: Fetched 3 tasks successfully
2025-07-12 20:11:06,636 [INFO] app.handlers.tasks: Fetched 3 tasks successfully
2025-07-12 20:11:06,636 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 20:11:06,637 [INFO] app.core.logging_config: Session closed
2025-07-12 20:11:06,637 [INFO] uvicorn.access: 172.20.0.1:56772 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 20:16:31,212 [INFO] uvicorn.error: Shutting down
2025-07-12 20:16:31,313 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:16:31,313 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:16:31,313 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:16:31,314 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:16:31,320 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 36, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:16:31,320 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:16:31,320 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 20:17:09,807 [INFO] uvicorn.error: Started server process [1]
2025-07-12 20:17:09,808 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:17:09,808 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:17:09,808 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:17:09,814 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:17:09,814 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:17:09,814 [INFO] app.core.logging_config: Session opened
2025-07-12 20:17:09,814 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:17:09,814 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:17:09,815 [INFO] app.core.logging_config: Session closed
2025-07-12 20:17:09,815 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 20:19:30,210 [INFO] uvicorn.error: Shutting down
2025-07-12 20:19:30,311 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:19:30,312 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:19:30,312 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:19:30,312 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:19:30,315 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 36, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:19:30,315 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:19:30,315 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 20:19:34,670 [INFO] uvicorn.error: Started server process [1]
2025-07-12 20:19:34,670 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:19:34,670 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:19:34,670 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:19:34,675 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:19:34,675 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:19:34,676 [INFO] app.core.logging_config: Session opened
2025-07-12 20:19:34,676 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:19:34,676 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:19:34,677 [INFO] app.core.logging_config: Session closed
2025-07-12 20:19:34,678 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 20:22:38,306 [INFO] uvicorn.error: Shutting down
2025-07-12 20:22:38,407 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:22:38,408 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:22:38,408 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:22:38,408 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:22:38,411 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 36, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:22:38,411 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:22:38,411 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 20:22:43,702 [INFO] uvicorn.error: Started server process [1]
2025-07-12 20:22:43,702 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:22:43,702 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:22:43,702 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:22:43,709 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:22:43,709 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:22:43,710 [INFO] app.core.logging_config: Session opened
2025-07-12 20:22:43,710 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:22:43,710 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:22:43,711 [INFO] app.core.logging_config: Session closed
2025-07-12 20:22:43,711 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 20:22:52,345 [INFO] uvicorn.error: Shutting down
2025-07-12 20:22:52,446 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:22:52,446 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:22:52,447 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:22:52,447 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:22:52,450 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 36, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:22:52,450 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:22:52,450 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 20:22:59,829 [INFO] uvicorn.error: Started server process [1]
2025-07-12 20:22:59,829 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:22:59,829 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:22:59,829 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:22:59,838 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:22:59,839 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:22:59,839 [INFO] app.core.logging_config: Session opened
2025-07-12 20:22:59,839 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:22:59,839 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:22:59,840 [INFO] app.core.logging_config: Session closed
2025-07-12 20:22:59,840 [INFO] uvicorn.error: Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
2025-07-12 20:26:29,387 [INFO] uvicorn.error: Shutting down
2025-07-12 20:26:29,488 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:26:29,488 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:26:29,488 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:26:29,488 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:26:29,491 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 36, in lifespan
    logger.info("Disposing database engine...")
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:26:29,491 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:26:29,492 [INFO] uvicorn.error: Finished server process [1]
2025-07-12 20:27:36,741 [INFO] uvicorn.error: Started server process [8]
2025-07-12 20:27:36,741 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:27:36,741 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:27:36,741 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:27:36,749 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:27:36,750 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:27:36,750 [INFO] app.core.logging_config: Session opened
2025-07-12 20:27:36,750 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:27:36,750 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:27:36,751 [INFO] app.core.logging_config: Session closed
2025-07-12 20:30:08,804 [INFO] uvicorn.access: 172.20.0.1:43284 - "GET / HTTP/1.1" 404
2025-07-12 20:30:08,839 [INFO] uvicorn.access: 172.20.0.1:43284 - "GET /favicon.ico HTTP/1.1" 404
2025-07-12 20:31:13,712 [INFO] uvicorn.error: Shutting down
2025-07-12 20:31:13,813 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:31:13,814 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:31:13,814 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:31:13,815 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:31:13,818 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:31:13,818 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:31:13,818 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 20:31:14,548 [INFO] uvicorn.error: Started server process [10]
2025-07-12 20:31:14,548 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:31:14,548 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:31:14,548 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:31:14,554 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:31:14,554 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:31:14,554 [INFO] app.core.logging_config: Session opened
2025-07-12 20:31:14,554 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:31:14,554 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:31:14,555 [INFO] app.core.logging_config: Session closed
2025-07-12 20:32:42,716 [INFO] uvicorn.error: Shutting down
2025-07-12 20:32:42,817 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:32:42,818 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:32:42,818 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:32:42,818 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:32:42,822 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:32:42,822 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:32:42,822 [INFO] uvicorn.error: Finished server process [10]
2025-07-12 20:32:43,679 [INFO] uvicorn.error: Started server process [12]
2025-07-12 20:32:43,679 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:32:43,680 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:32:43,680 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:32:43,688 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:32:43,688 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:32:43,688 [INFO] app.core.logging_config: Session opened
2025-07-12 20:32:43,689 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:32:43,689 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:32:43,689 [INFO] app.core.logging_config: Session closed
2025-07-12 20:33:02,152 [INFO] uvicorn.error: Shutting down
2025-07-12 20:33:02,253 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:33:02,253 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:33:02,254 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:33:02,254 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:33:02,258 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:33:02,259 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:33:02,259 [INFO] uvicorn.error: Finished server process [12]
2025-07-12 20:33:08,806 [INFO] uvicorn.error: Started server process [8]
2025-07-12 20:33:08,806 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:33:08,806 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:33:08,807 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:33:08,817 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:33:08,817 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:33:08,817 [INFO] app.core.logging_config: Session opened
2025-07-12 20:33:08,817 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:33:08,817 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:33:08,818 [INFO] app.core.logging_config: Session closed
2025-07-12 20:37:56,052 [INFO] uvicorn.error: Shutting down
2025-07-12 20:37:56,153 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:37:56,153 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:37:56,153 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:37:56,154 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:37:56,156 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:37:56,156 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:37:56,156 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 20:42:01,470 [INFO] uvicorn.error: Started server process [11]
2025-07-12 20:42:01,470 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:42:01,471 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:42:01,471 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:42:01,478 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:42:01,478 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:42:01,478 [INFO] app.core.logging_config: Session opened
2025-07-12 20:42:01,478 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:42:01,479 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:42:01,479 [INFO] app.core.logging_config: Session closed
2025-07-12 20:43:02,387 [INFO] uvicorn.error: Shutting down
2025-07-12 20:43:02,488 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:43:02,488 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:43:02,488 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:43:02,489 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:43:02,492 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:43:02,492 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:43:02,493 [INFO] uvicorn.error: Finished server process [11]
2025-07-12 20:43:03,193 [INFO] uvicorn.error: Started server process [13]
2025-07-12 20:43:03,193 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:43:03,194 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:43:03,194 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:43:03,197 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:43:03,197 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:43:03,198 [INFO] app.core.logging_config: Session opened
2025-07-12 20:43:03,198 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:43:03,198 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:43:03,198 [INFO] app.core.logging_config: Session closed
2025-07-12 20:48:26,063 [INFO] uvicorn.error: Shutting down
2025-07-12 20:48:26,164 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:48:26,165 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:48:26,165 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:48:26,165 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:48:26,169 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:48:26,170 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:48:26,170 [INFO] uvicorn.error: Finished server process [13]
2025-07-12 20:48:32,906 [INFO] uvicorn.error: Started server process [8]
2025-07-12 20:48:32,907 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:48:32,907 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:48:32,907 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:48:32,913 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:48:32,914 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:48:32,914 [INFO] app.core.logging_config: Session opened
2025-07-12 20:48:32,914 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:48:32,914 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:48:32,914 [INFO] app.core.logging_config: Session closed
2025-07-12 20:48:34,951 [INFO] uvicorn.access: 172.20.0.1:49344 - "OPTIONS /api/tasks/ HTTP/1.1" 200
2025-07-12 20:48:34,957 [INFO] app.core.logging_config: Session opened
2025-07-12 20:48:34,957 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 20:48:34,957 [INFO] app.service.task: Fetching all tasks
2025-07-12 20:48:35,005 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-12 20:48:35,005 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:48:35,009 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-12 20:48:35,010 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:48:35,014 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-12 20:48:35,014 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:48:35,016 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 20:48:35,020 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 20:48:35,021 [INFO] sqlalchemy.engine.Engine: [generated in 0.00032s] ()
2025-07-12 20:48:35,023 [ERROR] app.service.task: Error fetching tasks: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist
[SQL: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-12 20:48:35,024 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 20:48:35,025 [INFO] app.core.logging_config: Session closed
2025-07-12 20:48:35,025 [INFO] uvicorn.access: 172.20.0.1:49352 - "GET /api/tasks/ HTTP/1.1" 500
2025-07-12 20:48:35,026 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "tasks" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist
[SQL: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 48, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-12 20:48:58,064 [INFO] uvicorn.access: 172.20.0.1:38462 - "GET /docs HTTP/1.1" 200
2025-07-12 20:48:58,178 [INFO] uvicorn.access: 172.20.0.1:38462 - "GET /openapi.json HTTP/1.1" 200
2025-07-12 20:49:04,408 [INFO] app.core.logging_config: Session opened
2025-07-12 20:49:04,409 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 20:49:04,409 [INFO] app.service.task: Fetching all tasks
2025-07-12 20:49:04,411 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 20:49:04,411 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 20:49:04,412 [INFO] sqlalchemy.engine.Engine: [cached since 29.39s ago] ()
2025-07-12 20:49:04,413 [ERROR] app.service.task: Error fetching tasks: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist
[SQL: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-12 20:49:04,413 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 20:49:04,414 [INFO] app.core.logging_config: Session closed
2025-07-12 20:49:04,414 [INFO] uvicorn.access: 172.20.0.1:38470 - "GET /api/tasks/ HTTP/1.1" 500
2025-07-12 20:49:04,414 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "tasks" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist
[SQL: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 48, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-12 20:50:06,137 [INFO] uvicorn.error: Shutting down
2025-07-12 20:50:06,238 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:50:06,238 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:50:06,238 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:50:06,239 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:50:06,241 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:50:06,241 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:50:06,241 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 20:50:11,166 [INFO] uvicorn.error: Started server process [8]
2025-07-12 20:50:11,166 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:50:11,167 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:50:11,167 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:50:11,174 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:50:11,174 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:50:11,174 [INFO] app.core.logging_config: Session opened
2025-07-12 20:50:11,174 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:50:11,175 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:50:11,175 [INFO] app.core.logging_config: Session closed
2025-07-12 20:50:17,104 [INFO] app.core.logging_config: Session opened
2025-07-12 20:50:17,104 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 20:50:17,104 [INFO] app.service.task: Fetching all tasks
2025-07-12 20:50:17,145 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-12 20:50:17,145 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:50:17,146 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-12 20:50:17,146 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:50:17,148 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-12 20:50:17,148 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:50:17,149 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 20:50:17,152 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 20:50:17,152 [INFO] sqlalchemy.engine.Engine: [generated in 0.00021s] ()
2025-07-12 20:50:17,153 [ERROR] app.service.task: Error fetching tasks: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist
[SQL: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-12 20:50:17,153 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 20:50:17,154 [INFO] app.core.logging_config: Session closed
2025-07-12 20:50:17,154 [INFO] uvicorn.access: 172.20.0.1:32792 - "GET /api/tasks/ HTTP/1.1" 500
2025-07-12 20:50:17,155 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "tasks" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist
[SQL: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 48, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-12 20:53:26,928 [INFO] uvicorn.error: Shutting down
2025-07-12 20:53:27,029 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:53:27,029 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:53:27,029 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:53:27,030 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:53:27,032 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:53:27,032 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:53:27,032 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 20:53:32,506 [INFO] uvicorn.error: Started server process [8]
2025-07-12 20:53:32,507 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 20:53:32,507 [INFO] app.core.logging_config: Initializing application...
2025-07-12 20:53:32,507 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 20:53:32,512 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 20:53:32,513 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 20:53:32,513 [INFO] app.core.logging_config: Session opened
2025-07-12 20:53:32,513 [INFO] app.core.logging_config: Database connection verified
2025-07-12 20:53:32,513 [INFO] uvicorn.error: Application startup complete.
2025-07-12 20:53:32,514 [INFO] app.core.logging_config: Session closed
2025-07-12 20:53:36,935 [INFO] app.core.logging_config: Session opened
2025-07-12 20:53:36,936 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 20:53:36,936 [INFO] app.service.task: Fetching all tasks
2025-07-12 20:53:36,973 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-12 20:53:36,973 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:53:36,975 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-12 20:53:36,975 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:53:36,977 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-12 20:53:36,977 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 20:53:36,979 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 20:53:36,982 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 20:53:36,982 [INFO] sqlalchemy.engine.Engine: [generated in 0.00026s] ()
2025-07-12 20:53:36,984 [ERROR] app.service.task: Error fetching tasks: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist
[SQL: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-12 20:53:36,985 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 20:53:36,985 [INFO] app.core.logging_config: Session closed
2025-07-12 20:53:36,986 [INFO] uvicorn.access: 172.20.0.1:60928 - "GET /api/tasks/ HTTP/1.1" 500
2025-07-12 20:53:36,987 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "tasks" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "tasks" does not exist
[SQL: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC]
(Background on this error at: https://sqlalche.me/e/20/f405)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 48, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-12 20:53:54,900 [INFO] uvicorn.error: Shutting down
2025-07-12 20:53:55,001 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 20:53:55,001 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 20:53:55,001 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 20:53:55,002 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 20:53:55,004 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 20:53:55,004 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 20:53:55,004 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 21:00:21,490 [INFO] uvicorn.error: Started server process [8]
2025-07-12 21:00:21,490 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 21:00:21,491 [INFO] app.core.logging_config: Initializing application...
2025-07-12 21:00:21,491 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 21:00:21,498 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 21:00:21,499 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 21:00:21,499 [INFO] app.core.logging_config: Session opened
2025-07-12 21:00:21,499 [INFO] app.core.logging_config: Database connection verified
2025-07-12 21:00:21,499 [INFO] uvicorn.error: Application startup complete.
2025-07-12 21:00:21,500 [INFO] app.core.logging_config: Session closed
2025-07-12 21:00:28,854 [INFO] app.core.logging_config: Session opened
2025-07-12 21:00:28,854 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:00:28,854 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:00:28,892 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-12 21:00:28,893 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 21:00:28,895 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-12 21:00:28,895 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 21:00:28,897 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-12 21:00:28,897 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 21:00:28,898 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:00:28,903 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:00:28,903 [INFO] sqlalchemy.engine.Engine: [generated in 0.00030s] ()
2025-07-12 21:00:28,906 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-12 21:00:28,906 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-12 21:00:28,907 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:00:28,907 [INFO] app.core.logging_config: Session closed
2025-07-12 21:00:28,908 [INFO] uvicorn.access: 172.20.0.1:51120 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:00:32,144 [INFO] uvicorn.access: 172.20.0.1:51128 - "OPTIONS /api/tasks/ HTTP/1.1" 200
2025-07-12 21:00:32,148 [INFO] app.core.logging_config: Session opened
2025-07-12 21:00:32,149 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:00:32,149 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:00:32,150 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:00:32,151 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:00:32,151 [INFO] sqlalchemy.engine.Engine: [cached since 3.248s ago] ()
2025-07-12 21:00:32,151 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-12 21:00:32,152 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-12 21:00:32,152 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:00:32,153 [INFO] app.core.logging_config: Session closed
2025-07-12 21:00:32,153 [INFO] uvicorn.access: 172.20.0.1:51130 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:00:33,186 [INFO] app.core.logging_config: Session opened
2025-07-12 21:00:33,187 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:00:33,187 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:00:33,188 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:00:33,188 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:00:33,189 [INFO] sqlalchemy.engine.Engine: [cached since 4.286s ago] ()
2025-07-12 21:00:33,190 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-12 21:00:33,190 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-12 21:00:33,191 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:00:33,192 [INFO] app.core.logging_config: Session closed
2025-07-12 21:00:33,192 [INFO] uvicorn.access: 172.20.0.1:51130 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:00:37,777 [INFO] app.core.logging_config: Session opened
2025-07-12 21:00:37,778 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:00:37,778 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:00:37,779 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:00:37,779 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:00:37,779 [INFO] sqlalchemy.engine.Engine: [cached since 8.876s ago] ()
2025-07-12 21:00:37,780 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-12 21:00:37,781 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-12 21:00:37,781 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:00:37,781 [INFO] app.core.logging_config: Session closed
2025-07-12 21:00:37,782 [INFO] uvicorn.access: 172.20.0.1:51130 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:00:45,174 [INFO] app.core.logging_config: Session opened
2025-07-12 21:00:45,175 [INFO] app.handlers.tasks: Creating task with data: name='1' pomodoro_count=2 category_id=2 description='12'
2025-07-12 21:00:45,175 [INFO] app.service.task: Creating task with data: {'name': '1', 'pomodoro_count': 2, 'category_id': 2, 'description': '12'}
2025-07-12 21:00:45,177 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:00:45,179 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-12 21:00:45,180 [INFO] sqlalchemy.engine.Engine: [generated in 0.00041s] ('1', 2, 2, '12', False)
2025-07-12 21:00:45,184 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-12 21:00:45,187 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:00:45,189 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-12 21:00:45,189 [INFO] sqlalchemy.engine.Engine: [generated in 0.00029s] (1,)
2025-07-12 21:00:45,190 [INFO] app.service.task: Task created successfully with ID: 1
2025-07-12 21:00:45,191 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:00:45,192 [INFO] app.core.logging_config: Session closed
2025-07-12 21:00:45,192 [INFO] uvicorn.access: 172.20.0.1:47526 - "POST /api/tasks/ HTTP/1.1" 201
2025-07-12 21:00:48,957 [INFO] uvicorn.access: 172.20.0.1:47526 - "OPTIONS /api/tasks/1 HTTP/1.1" 200
2025-07-12 21:00:48,962 [INFO] app.core.logging_config: Session opened
2025-07-12 21:00:48,962 [INFO] app.handlers.tasks: Deleting task with ID: 1
2025-07-12 21:00:48,963 [INFO] app.service.task: Deleting task with ID: 1
2025-07-12 21:00:48,964 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:00:48,965 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-12 21:00:48,965 [INFO] sqlalchemy.engine.Engine: [generated in 0.00019s] (1,)
2025-07-12 21:00:48,967 [INFO] sqlalchemy.engine.Engine: DELETE FROM tasks WHERE tasks.id = $1::INTEGER
2025-07-12 21:00:48,967 [INFO] sqlalchemy.engine.Engine: [generated in 0.00025s] (1,)
2025-07-12 21:00:48,977 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-12 21:00:48,979 [INFO] app.service.task: Task deleted successfully: 1
2025-07-12 21:00:48,979 [INFO] app.handlers.tasks: Task deleted successfully: 1
2025-07-12 21:00:48,979 [INFO] app.core.logging_config: Session closed
2025-07-12 21:00:48,980 [INFO] uvicorn.access: 172.20.0.1:58730 - "DELETE /api/tasks/1 HTTP/1.1" 204
2025-07-12 21:00:52,862 [INFO] app.core.logging_config: Session opened
2025-07-12 21:00:52,863 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:00:52,863 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:00:52,864 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:00:52,865 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:00:52,865 [INFO] sqlalchemy.engine.Engine: [cached since 23.96s ago] ()
2025-07-12 21:00:52,867 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-12 21:00:52,867 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-12 21:00:52,867 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:00:52,868 [INFO] app.core.logging_config: Session closed
2025-07-12 21:00:52,868 [INFO] uvicorn.access: 172.20.0.1:58730 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:00:53,650 [INFO] app.core.logging_config: Session opened
2025-07-12 21:00:53,650 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:00:53,650 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:00:53,651 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:00:53,652 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:00:53,652 [INFO] sqlalchemy.engine.Engine: [cached since 24.75s ago] ()
2025-07-12 21:00:53,652 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-12 21:00:53,653 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-12 21:00:53,653 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:00:53,654 [INFO] app.core.logging_config: Session closed
2025-07-12 21:00:53,654 [INFO] uvicorn.access: 172.20.0.1:58740 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:00:54,964 [INFO] app.core.logging_config: Session opened
2025-07-12 21:00:54,965 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:00:54,965 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:00:54,966 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:00:54,967 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:00:54,967 [INFO] sqlalchemy.engine.Engine: [cached since 26.06s ago] ()
2025-07-12 21:00:54,968 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-12 21:00:54,968 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-12 21:00:54,968 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:00:54,969 [INFO] app.core.logging_config: Session closed
2025-07-12 21:00:54,969 [INFO] uvicorn.access: 172.20.0.1:58740 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:01:04,419 [INFO] app.core.logging_config: Session opened
2025-07-12 21:01:04,420 [INFO] app.handlers.tasks: Creating task with data: name='2121' pomodoro_count=12 category_id=12 description='12'
2025-07-12 21:01:04,420 [INFO] app.service.task: Creating task with data: {'name': '2121', 'pomodoro_count': 12, 'category_id': 12, 'description': '12'}
2025-07-12 21:01:04,421 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:01:04,422 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-12 21:01:04,422 [INFO] sqlalchemy.engine.Engine: [cached since 19.24s ago] ('2121', 12, 12, '12', False)
2025-07-12 21:01:04,424 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-12 21:01:04,435 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:01:04,436 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-12 21:01:04,436 [INFO] sqlalchemy.engine.Engine: [cached since 19.25s ago] (2,)
2025-07-12 21:01:04,438 [INFO] app.service.task: Task created successfully with ID: 2
2025-07-12 21:01:04,438 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:01:04,439 [INFO] app.core.logging_config: Session closed
2025-07-12 21:01:04,439 [INFO] uvicorn.access: 172.20.0.1:58640 - "POST /api/tasks/ HTTP/1.1" 201
2025-07-12 21:01:15,623 [INFO] app.core.logging_config: Session opened
2025-07-12 21:01:15,623 [INFO] app.handlers.tasks: Creating task with data: name='12' pomodoro_count=111 category_id=1 description='sd'
2025-07-12 21:01:15,623 [INFO] app.service.task: Creating task with data: {'name': '12', 'pomodoro_count': 111, 'category_id': 1, 'description': 'sd'}
2025-07-12 21:01:15,625 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:01:15,626 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-12 21:01:15,626 [INFO] sqlalchemy.engine.Engine: [cached since 30.45s ago] ('12', 111, 1, 'sd', False)
2025-07-12 21:01:15,628 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-12 21:01:15,638 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:01:15,639 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-12 21:01:15,640 [INFO] sqlalchemy.engine.Engine: [cached since 30.45s ago] (3,)
2025-07-12 21:01:15,642 [INFO] app.service.task: Task created successfully with ID: 3
2025-07-12 21:01:15,643 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:01:15,643 [INFO] app.core.logging_config: Session closed
2025-07-12 21:01:15,644 [INFO] uvicorn.access: 172.20.0.1:58560 - "POST /api/tasks/ HTTP/1.1" 201
2025-07-12 21:01:22,337 [INFO] uvicorn.access: 172.20.0.1:54364 - "OPTIONS /api/tasks/2 HTTP/1.1" 200
2025-07-12 21:01:22,341 [INFO] app.core.logging_config: Session opened
2025-07-12 21:01:22,341 [INFO] app.handlers.tasks: Deleting task with ID: 2
2025-07-12 21:01:22,342 [INFO] app.service.task: Deleting task with ID: 2
2025-07-12 21:01:22,343 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:01:22,343 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-12 21:01:22,343 [INFO] sqlalchemy.engine.Engine: [cached since 33.38s ago] (2,)
2025-07-12 21:01:22,345 [INFO] sqlalchemy.engine.Engine: DELETE FROM tasks WHERE tasks.id = $1::INTEGER
2025-07-12 21:01:22,345 [INFO] sqlalchemy.engine.Engine: [cached since 33.38s ago] (2,)
2025-07-12 21:01:22,346 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-12 21:01:22,358 [INFO] app.service.task: Task deleted successfully: 2
2025-07-12 21:01:22,358 [INFO] app.handlers.tasks: Task deleted successfully: 2
2025-07-12 21:01:22,359 [INFO] app.core.logging_config: Session closed
2025-07-12 21:01:22,359 [INFO] uvicorn.access: 172.20.0.1:54370 - "DELETE /api/tasks/2 HTTP/1.1" 204
2025-07-12 21:01:32,021 [INFO] app.core.logging_config: Session opened
2025-07-12 21:01:32,021 [INFO] app.handlers.tasks: Deleting task with ID: 2
2025-07-12 21:01:32,021 [INFO] app.service.task: Deleting task with ID: 2
2025-07-12 21:01:32,023 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:01:32,023 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-12 21:01:32,023 [INFO] sqlalchemy.engine.Engine: [cached since 43.06s ago] (2,)
2025-07-12 21:01:32,024 [ERROR] app.service.task: Task not found: 2
2025-07-12 21:01:32,025 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:01:32,025 [INFO] app.core.logging_config: Session closed
2025-07-12 21:01:32,025 [INFO] uvicorn.access: 172.20.0.1:42418 - "DELETE /api/tasks/2 HTTP/1.1" 500
2025-07-12 21:01:32,026 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 127, in delete_task
    await service.delete_task(task_id)
  File "/app/app/service/task.py", line 73, in delete_task
    raise TaskNotFoundError(f"Task {task_id} not found")
app.core.exceptions.TaskNotFoundError: Task 2 not found
2025-07-12 21:01:43,540 [INFO] app.core.logging_config: Session opened
2025-07-12 21:01:43,540 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:01:43,541 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:01:43,542 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:01:43,543 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:01:43,543 [INFO] sqlalchemy.engine.Engine: [cached since 74.64s ago] ()
2025-07-12 21:01:43,545 [INFO] app.service.task: Fetched 1 tasks successfully
2025-07-12 21:01:43,545 [INFO] app.handlers.tasks: Fetched 1 tasks successfully
2025-07-12 21:01:43,545 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:01:43,546 [INFO] app.core.logging_config: Session closed
2025-07-12 21:01:43,546 [INFO] uvicorn.access: 172.20.0.1:37626 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:03:25,120 [INFO] app.core.logging_config: Session opened
2025-07-12 21:03:25,120 [INFO] app.handlers.tasks: Deleting task with ID: 2
2025-07-12 21:03:25,120 [INFO] app.service.task: Deleting task with ID: 2
2025-07-12 21:03:25,121 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:03:25,122 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-12 21:03:25,122 [INFO] sqlalchemy.engine.Engine: [cached since 156.2s ago] (2,)
2025-07-12 21:03:25,123 [ERROR] app.service.task: Task not found: 2
2025-07-12 21:03:25,123 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:03:25,123 [INFO] app.core.logging_config: Session closed
2025-07-12 21:03:25,124 [INFO] uvicorn.access: 172.20.0.1:53342 - "DELETE /api/tasks/2 HTTP/1.1" 500
2025-07-12 21:03:25,124 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 127, in delete_task
    await service.delete_task(task_id)
  File "/app/app/service/task.py", line 73, in delete_task
    raise TaskNotFoundError(f"Task {task_id} not found")
app.core.exceptions.TaskNotFoundError: Task 2 not found
2025-07-12 21:03:26,726 [INFO] uvicorn.access: 172.20.0.1:53350 - "OPTIONS /api/tasks/3 HTTP/1.1" 200
2025-07-12 21:03:26,729 [INFO] app.core.logging_config: Session opened
2025-07-12 21:03:26,729 [INFO] app.handlers.tasks: Deleting task with ID: 3
2025-07-12 21:03:26,729 [INFO] app.service.task: Deleting task with ID: 3
2025-07-12 21:03:26,730 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:03:26,731 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-12 21:03:26,731 [INFO] sqlalchemy.engine.Engine: [cached since 157.8s ago] (3,)
2025-07-12 21:03:26,732 [INFO] sqlalchemy.engine.Engine: DELETE FROM tasks WHERE tasks.id = $1::INTEGER
2025-07-12 21:03:26,732 [INFO] sqlalchemy.engine.Engine: [cached since 157.8s ago] (3,)
2025-07-12 21:03:26,733 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-12 21:03:26,742 [INFO] app.service.task: Task deleted successfully: 3
2025-07-12 21:03:26,742 [INFO] app.handlers.tasks: Task deleted successfully: 3
2025-07-12 21:03:26,742 [INFO] app.core.logging_config: Session closed
2025-07-12 21:03:26,743 [INFO] uvicorn.access: 172.20.0.1:53364 - "DELETE /api/tasks/3 HTTP/1.1" 204
2025-07-12 21:03:28,565 [INFO] app.core.logging_config: Session opened
2025-07-12 21:03:28,565 [INFO] app.handlers.tasks: Deleting task with ID: 2
2025-07-12 21:03:28,565 [INFO] app.service.task: Deleting task with ID: 2
2025-07-12 21:03:28,566 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:03:28,566 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-12 21:03:28,567 [INFO] sqlalchemy.engine.Engine: [cached since 159.6s ago] (2,)
2025-07-12 21:03:28,568 [ERROR] app.service.task: Task not found: 2
2025-07-12 21:03:28,568 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:03:28,568 [INFO] app.core.logging_config: Session closed
2025-07-12 21:03:28,569 [INFO] uvicorn.access: 172.20.0.1:53364 - "DELETE /api/tasks/2 HTTP/1.1" 500
2025-07-12 21:03:28,569 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 127, in delete_task
    await service.delete_task(task_id)
  File "/app/app/service/task.py", line 73, in delete_task
    raise TaskNotFoundError(f"Task {task_id} not found")
app.core.exceptions.TaskNotFoundError: Task 2 not found
2025-07-12 21:06:09,335 [INFO] app.core.logging_config: Session opened
2025-07-12 21:06:09,335 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:06:09,336 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:06:09,337 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:06:09,337 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:06:09,337 [INFO] sqlalchemy.engine.Engine: [cached since 340.4s ago] ()
2025-07-12 21:06:09,338 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-12 21:06:09,338 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-12 21:06:09,338 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:06:09,338 [INFO] app.core.logging_config: Session closed
2025-07-12 21:06:09,339 [INFO] uvicorn.access: 172.20.0.1:45940 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:06:10,190 [INFO] app.core.logging_config: Session opened
2025-07-12 21:06:10,190 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:06:10,190 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:06:10,191 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:06:10,192 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:06:10,192 [INFO] sqlalchemy.engine.Engine: [cached since 341.3s ago] ()
2025-07-12 21:06:10,192 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-12 21:06:10,192 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-12 21:06:10,193 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:06:10,193 [INFO] app.core.logging_config: Session closed
2025-07-12 21:06:10,193 [INFO] uvicorn.access: 172.20.0.1:45940 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:06:16,378 [INFO] app.core.logging_config: Session opened
2025-07-12 21:06:16,384 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:06:16,385 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:06:16,386 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:06:16,386 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:06:16,386 [INFO] sqlalchemy.engine.Engine: [cached since 347.5s ago] ()
2025-07-12 21:06:16,387 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-12 21:06:16,388 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-12 21:06:16,388 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:06:16,389 [INFO] app.core.logging_config: Session closed
2025-07-12 21:06:16,390 [INFO] uvicorn.access: 172.20.0.1:45946 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:06:28,643 [INFO] app.core.logging_config: Session opened
2025-07-12 21:06:28,643 [INFO] app.handlers.tasks: Creating task with data: name='1' pomodoro_count=12 category_id=3 description='some'
2025-07-12 21:06:28,643 [INFO] app.service.task: Creating task with data: {'name': '1', 'pomodoro_count': 12, 'category_id': 3, 'description': 'some'}
2025-07-12 21:06:28,644 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:06:28,644 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-12 21:06:28,644 [INFO] sqlalchemy.engine.Engine: [cached since 343.5s ago] ('1', 12, 3, 'some', False)
2025-07-12 21:06:28,645 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-12 21:06:28,655 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:06:28,655 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-12 21:06:28,655 [INFO] sqlalchemy.engine.Engine: [cached since 343.5s ago] (4,)
2025-07-12 21:06:28,656 [INFO] app.service.task: Task created successfully with ID: 4
2025-07-12 21:06:28,657 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:06:28,657 [INFO] app.core.logging_config: Session closed
2025-07-12 21:06:28,658 [INFO] uvicorn.access: 172.20.0.1:52224 - "POST /api/tasks/ HTTP/1.1" 201
2025-07-12 21:07:27,140 [INFO] uvicorn.error: Shutting down
2025-07-12 21:07:27,241 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 21:07:27,242 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 21:07:27,242 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 21:07:27,243 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 21:07:27,246 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 21:07:27,247 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 21:07:27,247 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 21:07:39,070 [INFO] uvicorn.error: Started server process [8]
2025-07-12 21:07:39,070 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 21:07:39,070 [INFO] app.core.logging_config: Initializing application...
2025-07-12 21:07:39,070 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 21:07:39,080 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 21:07:39,081 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 21:07:39,081 [INFO] app.core.logging_config: Session opened
2025-07-12 21:07:39,081 [INFO] app.core.logging_config: Database connection verified
2025-07-12 21:07:39,081 [INFO] uvicorn.error: Application startup complete.
2025-07-12 21:07:39,082 [INFO] app.core.logging_config: Session closed
2025-07-12 21:07:46,160 [INFO] app.core.logging_config: Session opened
2025-07-12 21:07:46,160 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-12 21:07:46,161 [INFO] app.service.task: Fetching all tasks
2025-07-12 21:07:46,198 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-12 21:07:46,198 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 21:07:46,200 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-12 21:07:46,200 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 21:07:46,201 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-12 21:07:46,202 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-12 21:07:46,203 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-12 21:07:46,210 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-12 21:07:46,210 [INFO] sqlalchemy.engine.Engine: [generated in 0.00042s] ()
2025-07-12 21:07:46,214 [INFO] app.service.task: Fetched 1 tasks successfully
2025-07-12 21:07:46,215 [INFO] app.handlers.tasks: Fetched 1 tasks successfully
2025-07-12 21:07:46,216 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-12 21:07:46,216 [INFO] app.core.logging_config: Session closed
2025-07-12 21:07:46,217 [INFO] uvicorn.access: 172.20.0.1:38482 - "GET /api/tasks/ HTTP/1.1" 200
2025-07-12 21:10:25,944 [INFO] uvicorn.error: Shutting down
2025-07-12 21:10:26,045 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 21:10:26,045 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 21:10:26,045 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 21:10:26,046 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 21:10:26,049 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 21:10:26,049 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 21:10:26,049 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 21:10:57,998 [INFO] uvicorn.error: Started server process [8]
2025-07-12 21:10:57,998 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 21:10:57,998 [INFO] app.core.logging_config: Initializing application...
2025-07-12 21:10:57,998 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 21:10:58,008 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 21:10:58,008 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 21:10:58,008 [INFO] app.core.logging_config: Session opened
2025-07-12 21:10:58,008 [INFO] app.core.logging_config: Database connection verified
2025-07-12 21:10:58,009 [INFO] uvicorn.error: Application startup complete.
2025-07-12 21:10:58,009 [INFO] app.core.logging_config: Session closed
2025-07-12 21:12:22,973 [INFO] uvicorn.error: Shutting down
2025-07-12 21:12:23,073 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 21:12:23,074 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 21:12:23,074 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 21:12:23,074 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 21:12:23,077 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 21:12:23,077 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 21:12:23,078 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 21:18:54,150 [INFO] uvicorn.error: Started server process [8]
2025-07-12 21:18:54,151 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 21:18:54,151 [INFO] app.core.logging_config: Initializing application...
2025-07-12 21:18:54,151 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 21:18:54,158 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 21:18:54,158 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 21:18:54,159 [INFO] app.core.logging_config: Session opened
2025-07-12 21:18:54,159 [INFO] app.core.logging_config: Database connection verified
2025-07-12 21:18:54,159 [INFO] uvicorn.error: Application startup complete.
2025-07-12 21:18:54,160 [INFO] app.core.logging_config: Session closed
2025-07-12 21:19:26,765 [INFO] uvicorn.error: Shutting down
2025-07-12 21:19:26,865 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 21:19:26,865 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 21:19:26,866 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 21:19:26,866 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 21:19:26,877 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 21:19:26,878 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 21:19:26,878 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 21:20:01,292 [INFO] uvicorn.error: Started server process [8]
2025-07-12 21:20:01,292 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 21:20:01,292 [INFO] app.core.logging_config: Initializing application...
2025-07-12 21:20:01,292 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 21:20:01,301 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 21:20:01,301 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 21:20:01,302 [INFO] app.core.logging_config: Session opened
2025-07-12 21:20:01,302 [INFO] app.core.logging_config: Database connection verified
2025-07-12 21:20:01,302 [INFO] uvicorn.error: Application startup complete.
2025-07-12 21:20:01,302 [INFO] app.core.logging_config: Session closed
2025-07-12 21:20:44,038 [INFO] uvicorn.error: Shutting down
2025-07-12 21:20:44,139 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 21:20:44,139 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 21:20:44,139 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 21:20:44,140 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 21:20:44,142 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 21:20:44,143 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 21:20:44,143 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 21:21:08,562 [INFO] uvicorn.error: Started server process [8]
2025-07-12 21:21:08,562 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 21:21:08,563 [INFO] app.core.logging_config: Initializing application...
2025-07-12 21:21:08,563 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 21:21:08,572 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 21:21:08,572 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 21:21:08,573 [INFO] app.core.logging_config: Session opened
2025-07-12 21:21:08,573 [INFO] app.core.logging_config: Database connection verified
2025-07-12 21:21:08,573 [INFO] uvicorn.error: Application startup complete.
2025-07-12 21:21:08,574 [INFO] app.core.logging_config: Session closed
2025-07-12 21:21:50,112 [INFO] uvicorn.error: Shutting down
2025-07-12 21:21:50,212 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 21:21:50,213 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 21:21:50,213 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 21:21:50,213 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 21:21:50,216 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 21:21:50,216 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 21:21:50,217 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 21:22:00,244 [INFO] uvicorn.error: Started server process [8]
2025-07-12 21:22:00,244 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 21:22:00,245 [INFO] app.core.logging_config: Initializing application...
2025-07-12 21:22:00,245 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 21:22:00,253 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 21:22:00,253 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 21:22:00,253 [INFO] app.core.logging_config: Session opened
2025-07-12 21:22:00,254 [INFO] app.core.logging_config: Database connection verified
2025-07-12 21:22:00,254 [INFO] uvicorn.error: Application startup complete.
2025-07-12 21:22:00,254 [INFO] app.core.logging_config: Session closed
2025-07-12 21:23:02,837 [INFO] uvicorn.error: Shutting down
2025-07-12 21:23:02,938 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 21:23:02,938 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 21:23:02,939 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 21:23:02,939 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 21:23:02,942 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 21:23:02,942 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 21:23:02,942 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 21:23:13,589 [INFO] uvicorn.error: Started server process [8]
2025-07-12 21:23:13,589 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 21:23:13,589 [INFO] app.core.logging_config: Initializing application...
2025-07-12 21:23:13,590 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 21:23:13,597 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 21:23:13,597 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 21:23:13,598 [INFO] app.core.logging_config: Session opened
2025-07-12 21:23:13,598 [INFO] app.core.logging_config: Database connection verified
2025-07-12 21:23:13,598 [INFO] uvicorn.error: Application startup complete.
2025-07-12 21:23:13,599 [INFO] app.core.logging_config: Session closed
2025-07-12 21:25:47,965 [INFO] uvicorn.error: Shutting down
2025-07-12 21:25:48,066 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-12 21:25:48,066 [INFO] app.core.logging_config: Shutting down application...
2025-07-12 21:25:48,066 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-12 21:25:48,067 [INFO] app.core.logging_config: Disposing database engine...
2025-07-12 21:25:48,070 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-12 21:25:48,070 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-12 21:25:48,070 [INFO] uvicorn.error: Finished server process [8]
2025-07-12 21:33:51,345 [INFO] uvicorn.error: Started server process [8]
2025-07-12 21:33:51,345 [INFO] uvicorn.error: Waiting for application startup.
2025-07-12 21:33:51,345 [INFO] app.core.logging_config: Initializing application...
2025-07-12 21:33:51,345 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-12 21:33:51,351 [INFO] app.core.logging_config: Redis connected successfully
2025-07-12 21:33:51,351 [INFO] app.core.logging_config: Verifying database connection...
2025-07-12 21:33:51,352 [INFO] app.core.logging_config: Session opened
2025-07-12 21:33:51,352 [INFO] app.core.logging_config: Database connection verified
2025-07-12 21:33:51,352 [INFO] uvicorn.error: Application startup complete.
2025-07-12 21:33:51,352 [INFO] app.core.logging_config: Session closed
2025-07-13 09:20:20,849 [INFO] uvicorn.error: Shutting down
2025-07-13 09:20:20,949 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-13 09:20:20,950 [INFO] app.core.logging_config: Shutting down application...
2025-07-13 09:20:20,950 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-13 09:20:20,950 [INFO] app.core.logging_config: Disposing database engine...
2025-07-13 09:20:20,953 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-13 09:20:20,953 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-13 09:20:20,953 [INFO] uvicorn.error: Finished server process [8]
2025-07-13 09:20:22,705 [INFO] uvicorn.error: Started server process [8]
2025-07-13 09:20:22,706 [INFO] uvicorn.error: Waiting for application startup.
2025-07-13 09:20:22,706 [INFO] app.core.logging_config: Initializing application...
2025-07-13 09:20:22,706 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-13 09:20:22,712 [INFO] app.core.logging_config: Redis connected successfully
2025-07-13 09:20:22,712 [INFO] app.core.logging_config: Verifying database connection...
2025-07-13 09:20:22,713 [INFO] app.core.logging_config: Session opened
2025-07-13 09:20:22,713 [INFO] app.core.logging_config: Database connection verified
2025-07-13 09:20:22,713 [INFO] uvicorn.error: Application startup complete.
2025-07-13 09:20:22,714 [INFO] app.core.logging_config: Session closed
2025-07-13 09:22:10,513 [INFO] uvicorn.error: Shutting down
2025-07-13 09:22:10,614 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-13 09:22:10,614 [INFO] app.core.logging_config: Shutting down application...
2025-07-13 09:22:10,614 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-13 09:22:10,614 [INFO] app.core.logging_config: Disposing database engine...
2025-07-13 09:22:10,617 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-13 09:22:10,618 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-13 09:22:10,618 [INFO] uvicorn.error: Finished server process [8]
2025-07-13 09:22:29,280 [INFO] uvicorn.error: Started server process [8]
2025-07-13 09:22:29,280 [INFO] uvicorn.error: Waiting for application startup.
2025-07-13 09:22:29,281 [INFO] app.core.logging_config: Initializing application...
2025-07-13 09:22:29,281 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-13 09:22:29,287 [INFO] app.core.logging_config: Redis connected successfully
2025-07-13 09:22:29,287 [INFO] app.core.logging_config: Verifying database connection...
2025-07-13 09:22:29,287 [INFO] app.core.logging_config: Session opened
2025-07-13 09:22:29,287 [INFO] app.core.logging_config: Database connection verified
2025-07-13 09:22:29,287 [INFO] uvicorn.error: Application startup complete.
2025-07-13 09:22:29,288 [INFO] app.core.logging_config: Session closed
2025-07-13 09:28:11,911 [INFO] uvicorn.error: Shutting down
2025-07-13 09:28:12,012 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-13 09:28:12,012 [INFO] app.core.logging_config: Shutting down application...
2025-07-13 09:28:12,012 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-13 09:28:12,012 [INFO] app.core.logging_config: Disposing database engine...
2025-07-13 09:28:12,015 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-13 09:28:12,015 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-13 09:28:12,015 [INFO] uvicorn.error: Finished server process [8]
2025-07-13 09:35:22,739 [INFO] uvicorn.error: Started server process [8]
2025-07-13 09:35:22,740 [INFO] uvicorn.error: Waiting for application startup.
2025-07-13 09:35:22,740 [INFO] app.core.logging_config: Initializing application...
2025-07-13 09:35:22,740 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-13 09:35:22,746 [INFO] app.core.logging_config: Redis connected successfully
2025-07-13 09:35:22,746 [INFO] app.core.logging_config: Verifying database connection...
2025-07-13 09:35:22,747 [INFO] app.core.logging_config: Session opened
2025-07-13 09:35:22,747 [INFO] app.core.logging_config: Database connection verified
2025-07-13 09:35:22,747 [INFO] uvicorn.error: Application startup complete.
2025-07-13 09:35:22,747 [INFO] app.core.logging_config: Session closed
2025-07-13 09:35:34,848 [INFO] uvicorn.access: 172.20.0.1:37484 - "GET /tasks HTTP/1.1" 404
2025-07-13 09:35:36,358 [INFO] uvicorn.access: 172.20.0.1:37484 - "GET /ping HTTP/1.1" 404
2025-07-13 09:35:40,210 [INFO] uvicorn.access: 172.20.0.1:37484 - "GET /ping HTTP/1.1" 404
2025-07-13 09:35:40,733 [INFO] uvicorn.access: 172.20.0.1:37484 - "GET /ping HTTP/1.1" 404
2025-07-13 09:35:40,914 [INFO] uvicorn.access: 172.20.0.1:37484 - "GET /ping HTTP/1.1" 404
2025-07-13 09:35:41,608 [INFO] uvicorn.access: 172.20.0.1:37484 - "GET /tasks HTTP/1.1" 404
2025-07-13 09:35:50,471 [INFO] uvicorn.access: 172.20.0.1:50476 - "GET /tasks HTTP/1.1" 404
2025-07-13 09:37:04,022 [INFO] uvicorn.error: Shutting down
2025-07-13 09:37:04,123 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-13 09:37:04,123 [INFO] app.core.logging_config: Shutting down application...
2025-07-13 09:37:04,123 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-13 09:37:04,123 [INFO] app.core.logging_config: Disposing database engine...
2025-07-13 09:37:04,126 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-13 09:37:04,126 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-13 09:37:04,126 [INFO] uvicorn.error: Finished server process [8]
2025-07-13 09:37:04,810 [INFO] uvicorn.error: Started server process [10]
2025-07-13 09:37:04,810 [INFO] uvicorn.error: Waiting for application startup.
2025-07-13 09:37:04,810 [INFO] app.core.logging_config: Initializing application...
2025-07-13 09:37:04,810 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-13 09:37:04,814 [INFO] app.core.logging_config: Redis connected successfully
2025-07-13 09:37:04,814 [INFO] app.core.logging_config: Verifying database connection...
2025-07-13 09:37:04,814 [INFO] app.core.logging_config: Session opened
2025-07-13 09:37:04,815 [INFO] app.core.logging_config: Database connection verified
2025-07-13 09:37:04,815 [INFO] uvicorn.error: Application startup complete.
2025-07-13 09:37:04,815 [INFO] app.core.logging_config: Session closed
2025-07-13 09:37:20,558 [INFO] uvicorn.error: Shutting down
2025-07-13 09:37:20,658 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-13 09:37:20,659 [INFO] app.core.logging_config: Shutting down application...
2025-07-13 09:37:20,659 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-13 09:37:20,659 [INFO] app.core.logging_config: Disposing database engine...
2025-07-13 09:37:20,662 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-13 09:37:20,663 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-13 09:37:20,663 [INFO] uvicorn.error: Finished server process [10]
2025-07-13 09:37:21,334 [INFO] uvicorn.error: Started server process [12]
2025-07-13 09:37:21,334 [INFO] uvicorn.error: Waiting for application startup.
2025-07-13 09:37:21,334 [INFO] app.core.logging_config: Initializing application...
2025-07-13 09:37:21,334 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-13 09:37:21,338 [INFO] app.core.logging_config: Redis connected successfully
2025-07-13 09:37:21,339 [INFO] app.core.logging_config: Verifying database connection...
2025-07-13 09:37:21,339 [INFO] app.core.logging_config: Session opened
2025-07-13 09:37:21,339 [INFO] app.core.logging_config: Database connection verified
2025-07-13 09:37:21,339 [INFO] uvicorn.error: Application startup complete.
2025-07-13 09:37:21,340 [INFO] app.core.logging_config: Session closed
2025-07-13 09:37:23,846 [INFO] uvicorn.error: Shutting down
2025-07-13 09:37:23,947 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-13 09:37:23,947 [INFO] app.core.logging_config: Shutting down application...
2025-07-13 09:37:23,947 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-13 09:37:23,948 [INFO] app.core.logging_config: Disposing database engine...
2025-07-13 09:37:23,950 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-13 09:37:23,951 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-13 09:37:23,951 [INFO] uvicorn.error: Finished server process [12]
2025-07-13 09:37:24,602 [INFO] uvicorn.error: Started server process [14]
2025-07-13 09:37:24,602 [INFO] uvicorn.error: Waiting for application startup.
2025-07-13 09:37:24,603 [INFO] app.core.logging_config: Initializing application...
2025-07-13 09:37:24,603 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-13 09:37:24,609 [INFO] app.core.logging_config: Redis connected successfully
2025-07-13 09:37:24,609 [INFO] app.core.logging_config: Verifying database connection...
2025-07-13 09:37:24,609 [INFO] app.core.logging_config: Session opened
2025-07-13 09:37:24,609 [INFO] app.core.logging_config: Database connection verified
2025-07-13 09:37:24,609 [INFO] uvicorn.error: Application startup complete.
2025-07-13 09:37:24,610 [INFO] app.core.logging_config: Session closed
2025-07-13 09:38:00,918 [INFO] uvicorn.error: Shutting down
2025-07-13 09:38:01,019 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-13 09:38:01,019 [INFO] app.core.logging_config: Shutting down application...
2025-07-13 09:38:01,019 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-13 09:38:01,020 [INFO] app.core.logging_config: Disposing database engine...
2025-07-13 09:38:01,022 [ERROR] uvicorn.error: Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 692, in lifespan
    async with self.lifespan_context(app) as maybe_state:
               ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 133, in merged_lifespan
    async with original_context(app) as maybe_original_state:
               ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/app/app/core/main.py", line 37, in lifespan
    await engine.dispose()
          ^^^^^^
NameError: name 'engine' is not defined

2025-07-13 09:38:01,022 [ERROR] uvicorn.error: Application shutdown failed. Exiting.
2025-07-13 09:38:01,022 [INFO] uvicorn.error: Finished server process [14]
2025-07-13 09:38:01,689 [INFO] uvicorn.error: Started server process [16]
2025-07-13 09:38:01,689 [INFO] uvicorn.error: Waiting for application startup.
2025-07-13 09:38:01,690 [INFO] app.core.logging_config: Initializing application...
2025-07-13 09:38:01,690 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-13 09:38:01,693 [INFO] app.core.logging_config: Redis connected successfully
2025-07-13 09:38:01,693 [INFO] app.core.logging_config: Verifying database connection...
2025-07-13 09:38:01,693 [INFO] app.core.logging_config: Session opened
2025-07-13 09:38:01,693 [INFO] app.core.logging_config: Database connection verified
2025-07-13 09:38:01,693 [INFO] uvicorn.error: Application startup complete.
2025-07-13 09:38:01,694 [INFO] app.core.logging_config: Session closed
2025-07-13 09:38:02,096 [INFO] uvicorn.error: Shutting down
2025-07-13 09:38:02,196 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-13 09:38:02,197 [INFO] app.core.logging_config: Shutting down application...
2025-07-13 09:38:02,197 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-13 09:38:02,197 [INFO] app.core.logging_config: Disposing database engine...
2025-07-13 09:38:02,197 [INFO] app.core.logging_config: Shutdown completed
2025-07-13 09:38:02,197 [INFO] uvicorn.error: Application shutdown complete.
2025-07-13 09:38:02,198 [INFO] uvicorn.error: Finished server process [16]
2025-07-13 09:38:21,794 [INFO] uvicorn.error: Started server process [8]
2025-07-13 09:38:21,795 [INFO] uvicorn.error: Waiting for application startup.
2025-07-13 09:38:21,795 [INFO] app.core.logging_config: Initializing application...
2025-07-13 09:38:21,795 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-13 09:38:21,802 [INFO] app.core.logging_config: Redis connected successfully
2025-07-13 09:38:21,803 [INFO] app.core.logging_config: Verifying database connection...
2025-07-13 09:38:21,803 [INFO] app.core.logging_config: Session opened
2025-07-13 09:38:21,803 [INFO] app.core.logging_config: Database connection verified
2025-07-13 09:38:21,803 [INFO] uvicorn.error: Application startup complete.
2025-07-13 09:38:21,804 [INFO] app.core.logging_config: Session closed
2025-07-13 09:38:24,477 [INFO] uvicorn.access: 172.20.0.1:46230 - "GET /ping/db HTTP/1.1" 200
2025-07-13 09:38:25,887 [INFO] app.core.logging_config: Session opened
2025-07-13 09:38:25,887 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-13 09:38:25,887 [INFO] app.service.task: Fetching all tasks
2025-07-13 09:38:25,932 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-13 09:38:25,932 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-13 09:38:25,934 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-13 09:38:25,934 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-13 09:38:25,936 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-13 09:38:25,936 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-13 09:38:25,937 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-13 09:38:25,940 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-13 09:38:25,941 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ()
2025-07-13 09:38:25,945 [INFO] app.service.task: Fetched 1 tasks successfully
2025-07-13 09:38:25,945 [INFO] app.handlers.tasks: Fetched 1 tasks successfully
2025-07-13 09:38:25,946 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-13 09:38:25,947 [INFO] app.core.logging_config: Session closed
2025-07-13 09:38:25,948 [INFO] uvicorn.access: 172.20.0.1:46230 - "GET /api/tasks HTTP/1.1" 200
2025-07-13 09:38:31,043 [INFO] app.core.logging_config: Session opened
2025-07-13 09:38:31,043 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-13 09:38:31,043 [INFO] app.service.task: Fetching all tasks
2025-07-13 09:38:31,044 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-13 09:38:31,045 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-13 09:38:31,045 [INFO] sqlalchemy.engine.Engine: [cached since 5.104s ago] ()
2025-07-13 09:38:31,046 [INFO] app.service.task: Fetched 1 tasks successfully
2025-07-13 09:38:31,046 [INFO] app.handlers.tasks: Fetched 1 tasks successfully
2025-07-13 09:38:31,046 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-13 09:38:31,047 [INFO] app.core.logging_config: Session closed
2025-07-13 09:38:31,047 [INFO] uvicorn.access: 172.20.0.1:33946 - "GET /api/tasks HTTP/1.1" 200
2025-07-13 09:40:02,414 [INFO] uvicorn.error: Shutting down
2025-07-13 09:40:02,514 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-13 09:40:02,515 [INFO] app.core.logging_config: Shutting down application...
2025-07-13 09:40:02,515 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-13 09:40:02,515 [INFO] app.core.logging_config: Disposing database engine...
2025-07-13 09:40:02,519 [INFO] app.core.logging_config: Shutdown completed
2025-07-13 09:40:02,519 [INFO] uvicorn.error: Application shutdown complete.
2025-07-13 09:40:02,519 [INFO] uvicorn.error: Finished server process [8]
