2025-07-14 11:10:37,205 [ERROR] fastapi: Form data requires "python-multipart" to be installed. 
You can install "python-multipart" with: 

pip install python-multipart

2025-07-14 11:13:03,018 [INFO] uvicorn.error: Started server process [8]
2025-07-14 11:13:03,019 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 11:13:03,019 [INFO] app.core.logging_config: Initializing application...
2025-07-14 11:13:03,019 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 11:13:03,027 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 11:13:03,027 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 11:13:03,027 [INFO] app.core.logging_config: Session opened
2025-07-14 11:13:03,027 [INFO] app.core.logging_config: Database connection verified
2025-07-14 11:13:03,028 [INFO] uvicorn.error: Application startup complete.
2025-07-14 11:13:03,028 [INFO] app.core.logging_config: Session closed
2025-07-14 11:13:09,772 [INFO] uvicorn.access: 172.20.0.1:53718 - "GET /docs HTTP/1.1" 200
2025-07-14 11:13:09,896 [INFO] uvicorn.access: 172.20.0.1:53718 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 11:13:17,841 [INFO] app.core.logging_config: Session opened
2025-07-14 11:13:17,896 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 11:13:17,896 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 11:13:17,898 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 11:13:17,899 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 11:13:17,902 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 11:13:17,902 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 11:13:17,904 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 11:13:17,907 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 11:13:17,908 [INFO] app.core.logging_config: Session closed
2025-07-14 11:13:17,908 [INFO] uvicorn.access: 172.20.0.1:53724 - "POST /auth/register HTTP/1.1" 500
2025-07-14 11:13:17,908 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2435, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/selectable.py", line 1444, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'users' and 'tasks'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 11, in register_user
    existing_user = await self.repository.get_user_by_email(user.email)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 12, in get_user_by_email
    result = await self.db.execute(select(User).filter(User.email == email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1658, in do_init
    self._setup_join_conditions()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1896, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2322, in __init__
    self._determine_joins()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2456, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 11:14:06,825 [INFO] app.core.logging_config: Session opened
2025-07-14 11:14:06,827 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 11:14:06,828 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 11:14:06,829 [INFO] app.core.logging_config: Session closed
2025-07-14 11:14:06,829 [INFO] uvicorn.access: 172.20.0.1:55968 - "POST /auth/login HTTP/1.1" 500
2025-07-14 11:14:06,829 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 20, in login_user
    user = await service.repository.get_user_by_email(form_data.username)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 12, in get_user_by_email
    result = await self.db.execute(select(User).filter(User.email == email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 11:14:14,610 [INFO] app.core.logging_config: Session opened
2025-07-14 11:14:14,611 [INFO] app.core.logging_config: Session closed
2025-07-14 11:14:14,611 [INFO] uvicorn.access: 172.20.0.1:55970 - "POST /auth/refresh?refresh_token=qwqeweq HTTP/1.1" 500
2025-07-14 11:14:14,611 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 31, in refresh_token
    return await service.refresh_token(refresh_token)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 21, in refresh_token
    raise ValueError("Invalid refresh token")
ValueError: Invalid refresh token
2025-07-14 11:14:28,713 [INFO] app.core.logging_config: Session opened
2025-07-14 11:14:28,713 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 11:14:28,713 [INFO] app.service.task: Fetching all tasks
2025-07-14 11:14:28,715 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 11:14:28,717 [ERROR] app.service.task: Error fetching tasks: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 11:14:28,718 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 11:14:28,718 [INFO] app.core.logging_config: Session closed
2025-07-14 11:14:28,718 [INFO] uvicorn.access: 172.20.0.1:34306 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 11:14:28,719 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 11:15:30,563 [INFO] uvicorn.error: Shutting down
2025-07-14 11:15:30,664 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 11:15:30,664 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 11:15:30,664 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 11:15:30,665 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 11:15:30,669 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 11:15:30,669 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 11:15:30,669 [INFO] uvicorn.error: Finished server process [8]
2025-07-14 11:16:23,468 [INFO] uvicorn.error: Started server process [8]
2025-07-14 11:16:23,468 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 11:16:23,469 [INFO] app.core.logging_config: Initializing application...
2025-07-14 11:16:23,469 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 11:16:23,472 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 11:16:23,472 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 11:16:23,472 [INFO] app.core.logging_config: Session opened
2025-07-14 11:16:23,472 [INFO] app.core.logging_config: Database connection verified
2025-07-14 11:16:23,472 [INFO] uvicorn.error: Application startup complete.
2025-07-14 11:16:23,473 [INFO] app.core.logging_config: Session closed
2025-07-14 11:20:23,784 [INFO] uvicorn.error: Shutting down
2025-07-14 11:20:23,885 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 11:20:23,885 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 11:20:23,886 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 11:20:23,886 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 11:20:23,887 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 11:20:23,887 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 11:20:23,887 [INFO] uvicorn.error: Finished server process [8]
2025-07-14 11:21:26,069 [INFO] uvicorn.error: Started server process [8]
2025-07-14 11:21:26,069 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 11:21:26,070 [INFO] app.core.logging_config: Initializing application...
2025-07-14 11:21:26,070 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 11:21:26,072 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 11:21:26,073 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 11:21:26,073 [INFO] app.core.logging_config: Session opened
2025-07-14 11:21:26,073 [INFO] app.core.logging_config: Database connection verified
2025-07-14 11:21:26,073 [INFO] uvicorn.error: Application startup complete.
2025-07-14 11:21:26,073 [INFO] app.core.logging_config: Session closed
2025-07-14 11:21:35,300 [INFO] uvicorn.error: Shutting down
2025-07-14 11:21:35,401 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 11:21:35,401 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 11:21:35,401 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 11:21:35,402 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 11:21:35,402 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 11:21:35,402 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 11:21:35,402 [INFO] uvicorn.error: Finished server process [8]
2025-07-14 12:09:11,325 [INFO] uvicorn.error: Started server process [9]
2025-07-14 12:09:11,325 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:09:11,326 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:09:11,326 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:09:11,332 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:09:11,332 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:09:11,332 [INFO] app.core.logging_config: Session opened
2025-07-14 12:09:11,332 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:09:11,332 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:09:11,333 [INFO] app.core.logging_config: Session closed
2025-07-14 12:09:16,486 [INFO] uvicorn.access: 172.20.0.1:38566 - "GET /docs HTTP/1.1" 200
2025-07-14 12:09:16,610 [INFO] uvicorn.access: 172.20.0.1:38566 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:09:19,930 [INFO] app.core.logging_config: Session opened
2025-07-14 12:09:19,931 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:09:19,931 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:09:19,971 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:09:19,971 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:09:19,973 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:09:19,973 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:09:19,974 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:09:19,974 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:09:19,975 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:09:19,979 [ERROR] app.service.task: Error fetching tasks: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 12:09:19,979 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:09:19,979 [INFO] app.core.logging_config: Session closed
2025-07-14 12:09:19,979 [INFO] uvicorn.access: 172.20.0.1:38566 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 12:09:19,980 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2435, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/selectable.py", line 1444, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'users' and 'tasks'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1658, in do_init
    self._setup_join_conditions()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1896, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2322, in __init__
    self._determine_joins()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2456, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 12:11:34,328 [INFO] uvicorn.access: 172.20.0.1:43830 - "GET /docs HTTP/1.1" 200
2025-07-14 12:11:34,397 [INFO] uvicorn.access: 172.20.0.1:43830 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:11:36,689 [INFO] app.core.logging_config: Session opened
2025-07-14 12:11:36,690 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:11:36,690 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:11:36,692 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:11:36,694 [ERROR] app.service.task: Error fetching tasks: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 12:11:36,695 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:11:36,695 [INFO] app.core.logging_config: Session closed
2025-07-14 12:11:36,695 [INFO] uvicorn.access: 172.20.0.1:43830 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 12:11:36,696 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[User(users)]'. Original exception was: Could not determine join condition between parent/child tables on relationship User.tasks - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 12:11:56,223 [INFO] uvicorn.error: Shutting down
2025-07-14 12:11:56,324 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:11:56,324 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:11:56,324 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:11:56,325 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:11:56,332 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:11:56,332 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:11:56,332 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 12:13:19,853 [INFO] uvicorn.error: Started server process [11]
2025-07-14 12:13:19,854 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:13:19,854 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:13:19,854 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:13:19,862 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:13:19,862 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:13:19,862 [INFO] app.core.logging_config: Session opened
2025-07-14 12:13:19,863 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:13:19,863 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:13:19,863 [INFO] app.core.logging_config: Session closed
2025-07-14 12:13:22,570 [INFO] uvicorn.error: Shutting down
2025-07-14 12:13:22,671 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:13:22,671 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:13:22,671 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:13:22,672 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:13:22,672 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:13:22,672 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:13:22,673 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 12:13:23,595 [INFO] uvicorn.error: Started server process [13]
2025-07-14 12:13:23,595 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:13:23,595 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:13:23,595 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:13:23,599 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:13:23,599 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:13:23,599 [INFO] app.core.logging_config: Session opened
2025-07-14 12:13:23,599 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:13:23,600 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:13:23,600 [INFO] app.core.logging_config: Session closed
2025-07-14 12:13:31,362 [INFO] app.core.logging_config: Session opened
2025-07-14 12:13:31,362 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:13:31,362 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:13:31,407 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:13:31,407 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:13:31,410 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:13:31,410 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:13:31,412 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:13:31,412 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:13:31,413 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:13:31,415 [ERROR] app.service.task: Error fetching tasks: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 12:13:31,416 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:13:31,416 [INFO] app.core.logging_config: Session closed
2025-07-14 12:13:31,416 [INFO] uvicorn.access: 172.20.0.1:58476 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 12:13:31,417 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2435, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/selectable.py", line 1444, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'tasks' and 'users'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1658, in do_init
    self._setup_join_conditions()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1896, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2322, in __init__
    self._determine_joins()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2456, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 12:13:41,796 [INFO] app.core.logging_config: Session opened
2025-07-14 12:13:41,796 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:13:41,796 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:13:41,798 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:13:41,799 [ERROR] app.service.task: Error fetching tasks: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Task(tasks)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 12:13:41,800 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:13:41,800 [INFO] app.core.logging_config: Session closed
2025-07-14 12:13:41,800 [INFO] uvicorn.access: 172.20.0.1:53960 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 12:13:41,801 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4251, in _do_configure_registries
    raise e
sqlalchemy.exc.InvalidRequestError: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[Task(tasks)]'. Original exception was: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 12:13:48,592 [INFO] uvicorn.error: Shutting down
2025-07-14 12:13:48,692 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:13:48,693 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:13:48,693 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:13:48,693 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:13:48,698 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:13:48,698 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:13:48,698 [INFO] uvicorn.error: Finished server process [13]
2025-07-14 12:14:00,970 [INFO] uvicorn.error: Started server process [9]
2025-07-14 12:14:00,971 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:14:00,972 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:14:00,972 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:14:00,980 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:14:00,980 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:14:00,980 [INFO] app.core.logging_config: Session opened
2025-07-14 12:14:00,981 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:14:00,981 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:14:00,981 [INFO] app.core.logging_config: Session closed
2025-07-14 12:14:15,802 [INFO] uvicorn.access: 172.20.0.1:48474 - "GET /docs HTTP/1.1" 200
2025-07-14 12:14:15,866 [INFO] uvicorn.access: 172.20.0.1:48474 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:14:19,232 [INFO] app.core.logging_config: Session opened
2025-07-14 12:14:19,232 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:14:19,233 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:14:19,269 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:14:19,269 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:14:19,271 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:14:19,271 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:14:19,272 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:14:19,272 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:14:19,273 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:14:19,275 [ERROR] app.service.task: Error fetching tasks: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
2025-07-14 12:14:19,276 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:14:19,276 [INFO] app.core.logging_config: Session closed
2025-07-14 12:14:19,276 [INFO] uvicorn.access: 172.20.0.1:48474 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 12:14:19,276 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2435, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/util.py", line 123, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/selectable.py", line 1444, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'tasks' and 'users'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 55, in get_all_tasks
    tasks = await self.repository.get_all()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 54, in get_all
    result = await self.db_session.scalars(query)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 576, in scalars
    result = await self.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1629, in _execute_clauseelement
    compiled_sql, extracted_params, cache_hit = elem._compile_w_cache(
                                                ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 711, in _compile_w_cache
    compiled_sql = self._compiler(
                   ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 320, in _compiler
    return dialect.statement_compiler(dialect, self, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 1446, in __init__
    Compiled.__init__(self, dialect, statement, **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 886, in __init__
    self.string = self.process(self.statement, **compile_kwargs)
                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 932, in process
    return obj._compiler_dispatch(self, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/visitors.py", line 141, in _compiler_dispatch
    return meth(self, **kw)  # type: ignore  # noqa: E501
           ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/compiler.py", line 4728, in visit_select
    compile_state = select_stmt._compile_state_factory(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/base.py", line 687, in create_for_statement
    return klass.create_for_statement(statement, compiler, **kw)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 447, in create_for_statement
    return cls._create_orm_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 1175, in _create_orm_context
    _QueryEntity.to_compile_state(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2628, in to_compile_state
    _MapperEntity(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 2708, in __init__
    entity._post_inspect
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 1338, in __get__
    obj.__dict__[self.__name__] = result = self.fget(obj)
                                           ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2724, in _post_inspect
    self._check_configure()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4214, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 4255, in _do_configure_registries
    mapper._post_configure_properties()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/interfaces.py", line 589, in init
    self.do_init()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1658, in do_init
    self._setup_join_conditions()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 1896, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2322, in __init__
    self._determine_joins()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/relationships.py", line 2456, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship Task.owner - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 51, in get_all_tasks
    tasks = await service.get_all_tasks()
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 65, in get_all_tasks
    raise DatabaseError("Failed to get tasks") from e
app.core.exceptions.DatabaseError: Failed to get tasks
2025-07-14 12:15:00,191 [INFO] uvicorn.error: Shutting down
2025-07-14 12:15:00,292 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:15:00,292 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:15:00,292 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:15:00,293 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:15:00,297 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:15:00,297 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:15:00,297 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 12:15:01,278 [INFO] uvicorn.error: Started server process [11]
2025-07-14 12:15:01,278 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:15:01,278 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:15:01,278 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:15:01,283 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:15:01,283 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:15:01,283 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:01,283 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:15:01,283 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:15:01,284 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:28,687 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:28,687 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:15:28,687 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:15:28,725 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:15:28,726 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:15:28,728 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:15:28,728 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:15:28,730 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:15:28,730 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:15:28,732 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:15:28,741 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 12:15:28,741 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ()
2025-07-14 12:15:28,744 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 12:15:28,744 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 12:15:28,744 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:15:28,745 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:28,745 [INFO] uvicorn.access: 172.20.0.1:39372 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 12:15:38,558 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:38,559 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:15:38,559 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:15:38,561 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:15:38,562 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 12:15:38,562 [INFO] sqlalchemy.engine.Engine: [cached since 9.821s ago] ()
2025-07-14 12:15:38,564 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 12:15:38,564 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 12:15:38,564 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:15:38,565 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:38,566 [INFO] uvicorn.access: 172.20.0.1:58292 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 12:15:40,626 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:40,626 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:15:40,626 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:15:40,628 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:15:40,629 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 12:15:40,629 [INFO] sqlalchemy.engine.Engine: [cached since 11.89s ago] ()
2025-07-14 12:15:40,631 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 12:15:40,631 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 12:15:40,631 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:15:40,633 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:40,635 [INFO] uvicorn.access: 172.20.0.1:58292 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 12:15:44,439 [INFO] uvicorn.access: 172.20.0.1:58292 - "OPTIONS /api/tasks HTTP/1.1" 200
2025-07-14 12:15:44,444 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:44,445 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:44,446 [INFO] uvicorn.access: 172.20.0.1:58294 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 12:15:46,735 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:46,735 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:46,735 [INFO] uvicorn.access: 172.20.0.1:58294 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 12:15:54,797 [INFO] app.core.logging_config: Session opened
2025-07-14 12:15:54,797 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:15:54,797 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:15:54,800 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:15:54,800 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 12:15:54,801 [INFO] sqlalchemy.engine.Engine: [cached since 26.06s ago] ()
2025-07-14 12:15:54,802 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 12:15:54,802 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 12:15:54,803 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:15:54,803 [INFO] app.core.logging_config: Session closed
2025-07-14 12:15:54,804 [INFO] uvicorn.access: 172.20.0.1:39740 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 12:16:10,766 [INFO] uvicorn.access: 172.20.0.1:52788 - "GET /docs HTTP/1.1" 200
2025-07-14 12:16:10,880 [INFO] uvicorn.access: 172.20.0.1:52788 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:16:17,053 [INFO] app.core.logging_config: Session opened
2025-07-14 12:16:17,053 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 12:16:17,053 [INFO] app.service.task: Fetching all tasks
2025-07-14 12:16:17,055 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:16:17,055 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 12:16:17,055 [INFO] sqlalchemy.engine.Engine: [cached since 48.31s ago] ()
2025-07-14 12:16:17,057 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 12:16:17,057 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 12:16:17,057 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:16:17,058 [INFO] app.core.logging_config: Session closed
2025-07-14 12:16:17,058 [INFO] uvicorn.access: 172.20.0.1:48588 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 12:16:21,909 [INFO] app.core.logging_config: Session opened
2025-07-14 12:16:21,910 [INFO] app.core.logging_config: Session closed
2025-07-14 12:16:21,910 [INFO] uvicorn.access: 172.20.0.1:48588 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 12:16:23,245 [INFO] app.core.logging_config: Session opened
2025-07-14 12:16:23,246 [INFO] app.core.logging_config: Session closed
2025-07-14 12:16:23,246 [INFO] uvicorn.access: 172.20.0.1:48588 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 12:16:48,470 [INFO] app.core.logging_config: Session opened
2025-07-14 12:16:48,471 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:16:48,474 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:16:48,475 [INFO] sqlalchemy.engine.Engine: [generated in 0.00036s] ('gshjis',)
2025-07-14 12:16:48,490 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:16:48,491 [INFO] app.core.logging_config: Session closed
2025-07-14 12:16:48,491 [INFO] uvicorn.access: 172.20.0.1:38928 - "POST /auth/login HTTP/1.1" 401
2025-07-14 12:16:50,980 [INFO] app.core.logging_config: Session opened
2025-07-14 12:16:50,982 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:16:50,983 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:16:50,983 [INFO] sqlalchemy.engine.Engine: [cached since 2.508s ago] ('gshjis',)
2025-07-14 12:16:50,985 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:16:50,985 [INFO] app.core.logging_config: Session closed
2025-07-14 12:16:50,986 [INFO] uvicorn.access: 172.20.0.1:38928 - "POST /auth/login HTTP/1.1" 401
2025-07-14 12:16:55,766 [INFO] uvicorn.error: Shutting down
2025-07-14 12:16:55,866 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:16:55,867 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:16:55,867 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:16:55,867 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:16:55,872 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:16:55,873 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:16:55,873 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 12:42:00,279 [INFO] uvicorn.error: Started server process [9]
2025-07-14 12:42:00,279 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:42:00,279 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:42:00,280 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:42:00,288 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:42:00,288 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:42:00,288 [INFO] app.core.logging_config: Session opened
2025-07-14 12:42:00,288 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:42:00,289 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:42:00,289 [INFO] app.core.logging_config: Session closed
2025-07-14 12:42:25,020 [INFO] uvicorn.access: 172.20.0.1:52708 - "GET /docs HTTP/1.1" 200
2025-07-14 12:42:25,142 [INFO] uvicorn.access: 172.20.0.1:52708 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:42:32,377 [INFO] app.core.logging_config: Session opened
2025-07-14 12:42:32,425 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:42:32,425 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:42:32,427 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:42:32,427 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:42:32,428 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:42:32,428 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:42:32,429 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:42:32,436 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:42:32,437 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] ('user@example.com',)
2025-07-14 12:42:32,661 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:42:32,662 [INFO] app.core.logging_config: Session closed
2025-07-14 12:42:32,662 [INFO] uvicorn.access: 172.20.0.1:52722 - "POST /auth/register HTTP/1.1" 500
2025-07-14 12:42:32,663 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
TypeError: unhashable type: 'list'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 15, in register_user
    db_user = await self.repository.create_user(user)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 23, in create_user
    await self.db.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
sqlalchemy.exc.StatementError: (builtins.TypeError) unhashable type: 'list'
[SQL: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::permission, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at]
[parameters: [{'hashed_password': '$2b$12$IqhjcL8V.OeOO1u3tmgNMOG5E1r3lGSn6oZUEzDpcNERSyp5m3D/W', 'email': 'user@example.com', 'username': 'string'}]]
2025-07-14 12:49:10,605 [INFO] uvicorn.error: Shutting down
2025-07-14 12:49:10,706 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:49:10,706 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:49:10,706 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:49:10,707 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:49:10,712 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:49:10,712 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:49:10,713 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 12:49:24,244 [INFO] uvicorn.error: Started server process [12]
2025-07-14 12:49:24,245 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:49:24,245 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:49:24,245 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:49:24,250 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:49:24,250 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:49:24,250 [INFO] app.core.logging_config: Session opened
2025-07-14 12:49:24,251 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:49:24,251 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:49:24,251 [INFO] app.core.logging_config: Session closed
2025-07-14 12:49:24,254 [INFO] uvicorn.access: 172.20.0.1:51786 - "GET /docs HTTP/1.1" 200
2025-07-14 12:49:24,255 [INFO] uvicorn.access: 172.20.0.1:51792 - "GET /docs HTTP/1.1" 200
2025-07-14 12:49:24,255 [INFO] uvicorn.access: 172.20.0.1:51250 - "GET /docs HTTP/1.1" 200
2025-07-14 12:49:24,408 [INFO] uvicorn.access: 172.20.0.1:51250 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 12:50:47,295 [INFO] uvicorn.error: Shutting down
2025-07-14 12:50:47,396 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:50:47,396 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:50:47,396 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:50:47,397 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:50:47,398 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:50:47,398 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:50:47,398 [INFO] uvicorn.error: Finished server process [12]
2025-07-14 12:50:48,154 [INFO] uvicorn.error: Started server process [14]
2025-07-14 12:50:48,154 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:50:48,155 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:50:48,155 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:50:48,159 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:50:48,159 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:50:48,159 [INFO] app.core.logging_config: Session opened
2025-07-14 12:50:48,159 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:50:48,159 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:50:48,160 [INFO] app.core.logging_config: Session closed
2025-07-14 12:50:51,771 [INFO] uvicorn.error: Shutting down
2025-07-14 12:50:51,872 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:50:51,872 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:50:51,872 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:50:51,873 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:50:51,874 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:50:51,874 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:50:51,874 [INFO] uvicorn.error: Finished server process [14]
2025-07-14 12:50:52,614 [INFO] uvicorn.error: Started server process [16]
2025-07-14 12:50:52,614 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:50:52,614 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:50:52,614 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:50:52,617 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:50:52,617 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:50:52,617 [INFO] app.core.logging_config: Session opened
2025-07-14 12:50:52,618 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:50:52,618 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:50:52,618 [INFO] app.core.logging_config: Session closed
2025-07-14 12:51:33,202 [INFO] app.core.logging_config: Session opened
2025-07-14 12:51:33,250 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:51:33,250 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:33,252 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:51:33,252 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:33,254 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:51:33,254 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:33,255 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:51:33,262 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:51:33,262 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ('user@example.com',)
2025-07-14 12:51:33,482 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:51:33,483 [INFO] app.core.logging_config: Session closed
2025-07-14 12:51:33,484 [INFO] uvicorn.access: 172.20.0.1:46918 - "POST /auth/register HTTP/1.1" 500
2025-07-14 12:51:33,484 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
TypeError: unhashable type: 'list'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 15, in register_user
    db_user = await self.repository.create_user(user)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 23, in create_user
    await self.db.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
sqlalchemy.exc.StatementError: (builtins.TypeError) unhashable type: 'list'
[SQL: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::permission, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at]
[parameters: [{'hashed_password': '$2b$12$.a1JumW9X7W1gRT6sNdgUuLjl0Ijr5.oNC7BXzc1E4NyGy/KZzvkO', 'username': 'string', 'email': 'user@example.com'}]]
2025-07-14 12:51:42,009 [INFO] uvicorn.error: Shutting down
2025-07-14 12:51:42,110 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:51:42,110 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:51:42,110 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:51:42,111 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:51:42,115 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:51:42,115 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:51:42,115 [INFO] uvicorn.error: Finished server process [16]
2025-07-14 12:51:54,732 [INFO] uvicorn.error: Started server process [9]
2025-07-14 12:51:54,732 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:51:54,733 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:51:54,733 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:51:54,739 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:51:54,740 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:51:54,740 [INFO] app.core.logging_config: Session opened
2025-07-14 12:51:54,740 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:51:54,740 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:51:54,741 [INFO] app.core.logging_config: Session closed
2025-07-14 12:51:56,363 [INFO] app.core.logging_config: Session opened
2025-07-14 12:51:56,407 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:51:56,407 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:56,409 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:51:56,410 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:56,411 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:51:56,412 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:51:56,413 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:51:56,423 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:51:56,424 [INFO] sqlalchemy.engine.Engine: [generated in 0.00071s] ('user@example.com',)
2025-07-14 12:51:56,646 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:51:56,647 [INFO] app.core.logging_config: Session closed
2025-07-14 12:51:56,648 [INFO] uvicorn.access: 172.20.0.1:44094 - "POST /auth/register HTTP/1.1" 500
2025-07-14 12:51:56,648 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
TypeError: unhashable type: 'list'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 15, in register_user
    db_user = await self.repository.create_user(user)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 23, in create_user
    await self.db.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1817, in _execute_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1811, in _execute_context
    context = constructor(
              ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 1485, in _init_compiled
    flattened_processors[key](compiled_params[key])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1806, in process
    value = self._db_value_for_elem(value)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/sqltypes.py", line 1657, in _db_value_for_elem
    return self._valid_lookup[elem]
           ~~~~~~~~~~~~~~~~~~^^^^^^
sqlalchemy.exc.StatementError: (builtins.TypeError) unhashable type: 'list'
[SQL: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::permission, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at]
[parameters: [{'hashed_password': '$2b$12$ZpqJBDcCsR76tq3lmkCJA.GpE7/9ojPlpHVcoql9Fy900Zy7yvLE2', 'username': 'string', 'email': 'user@example.com'}]]
2025-07-14 12:52:16,105 [INFO] uvicorn.error: Shutting down
2025-07-14 12:52:16,206 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:52:16,206 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:52:16,206 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:52:16,206 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:52:16,210 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:52:16,210 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:52:16,210 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 12:52:16,955 [INFO] uvicorn.error: Started server process [11]
2025-07-14 12:52:16,956 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:52:16,956 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:52:16,956 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:52:16,960 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:52:16,960 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:52:16,960 [INFO] app.core.logging_config: Session opened
2025-07-14 12:52:16,960 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:52:16,961 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:52:16,961 [INFO] app.core.logging_config: Session closed
2025-07-14 12:52:29,493 [INFO] uvicorn.error: Shutting down
2025-07-14 12:52:29,593 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:52:29,594 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:52:29,594 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:52:29,594 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:52:29,595 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:52:29,595 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:52:29,596 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 12:53:52,138 [INFO] uvicorn.error: Started server process [14]
2025-07-14 12:53:52,138 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:53:52,139 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:53:52,139 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:53:52,144 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:53:52,144 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:53:52,144 [INFO] app.core.logging_config: Session opened
2025-07-14 12:53:52,144 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:53:52,145 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:53:52,145 [INFO] app.core.logging_config: Session closed
2025-07-14 12:54:08,289 [INFO] uvicorn.error: Shutting down
2025-07-14 12:54:08,390 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:54:08,390 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:54:08,391 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:54:08,393 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:54:08,393 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:54:08,394 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:54:08,394 [INFO] uvicorn.error: Finished server process [14]
2025-07-14 12:54:47,988 [INFO] uvicorn.error: Started server process [18]
2025-07-14 12:54:47,988 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:54:47,989 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:54:47,989 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:54:47,993 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:54:47,994 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:54:47,994 [INFO] app.core.logging_config: Session opened
2025-07-14 12:54:47,994 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:54:47,994 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:54:47,994 [INFO] app.core.logging_config: Session closed
2025-07-14 12:55:27,092 [INFO] uvicorn.error: Shutting down
2025-07-14 12:55:27,192 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:55:27,193 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:55:27,193 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:55:27,193 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:55:27,194 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:55:27,195 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:55:27,195 [INFO] uvicorn.error: Finished server process [18]
2025-07-14 12:55:28,010 [INFO] uvicorn.error: Started server process [20]
2025-07-14 12:55:28,010 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:55:28,011 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:55:28,011 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:55:28,014 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:55:28,015 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:55:28,015 [INFO] app.core.logging_config: Session opened
2025-07-14 12:55:28,015 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:55:28,015 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:55:28,015 [INFO] app.core.logging_config: Session closed
2025-07-14 12:58:50,771 [INFO] uvicorn.error: Shutting down
2025-07-14 12:58:50,872 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:58:50,872 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:58:50,872 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:58:50,873 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:58:50,874 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:58:50,874 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:58:50,875 [INFO] uvicorn.error: Finished server process [20]
2025-07-14 12:58:51,819 [INFO] uvicorn.error: Started server process [22]
2025-07-14 12:58:51,819 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 12:58:51,820 [INFO] app.core.logging_config: Initializing application...
2025-07-14 12:58:51,820 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 12:58:51,825 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 12:58:51,825 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 12:58:51,825 [INFO] app.core.logging_config: Session opened
2025-07-14 12:58:51,826 [INFO] app.core.logging_config: Database connection verified
2025-07-14 12:58:51,826 [INFO] uvicorn.error: Application startup complete.
2025-07-14 12:58:51,827 [INFO] app.core.logging_config: Session closed
2025-07-14 12:59:15,961 [INFO] app.core.logging_config: Session opened
2025-07-14 12:59:16,012 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 12:59:16,012 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:59:16,014 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 12:59:16,014 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:59:16,015 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 12:59:16,015 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 12:59:16,016 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:59:16,023 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 12:59:16,023 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] ('user@example.com',)
2025-07-14 12:59:16,246 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 12:59:16,246 [INFO] sqlalchemy.engine.Engine: [generated in 0.00034s] ('string', 'user@example.com', '$2b$12$ZCvnnfAxxiZBId.P9D/GDe0ZRcFBoWWQdK4NbAgrIqbC/Ctyp/CbK', True, False, 'USER', '["read"]', False)
2025-07-14 12:59:16,248 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-14 12:59:16,259 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 12:59:16,261 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-14 12:59:16,261 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] (1,)
2025-07-14 12:59:16,263 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 12:59:16,264 [INFO] app.core.logging_config: Session closed
2025-07-14 12:59:16,265 [INFO] uvicorn.access: 172.20.0.1:51948 - "POST /auth/register HTTP/1.1" 500
2025-07-14 12:59:16,265 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 16, in register_user
    return UserOut.from_orm(db_user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/pydantic/main.py", line 1437, in from_orm
    raise PydanticUserError(
pydantic.errors.PydanticUserError: You must set the config attribute `from_attributes=True` to use from_orm
2025-07-14 12:59:52,062 [INFO] uvicorn.error: Shutting down
2025-07-14 12:59:52,162 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 12:59:52,163 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 12:59:52,163 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 12:59:52,163 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 12:59:52,167 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 12:59:52,167 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 12:59:52,167 [INFO] uvicorn.error: Finished server process [22]
2025-07-14 13:00:03,451 [INFO] uvicorn.error: Started server process [9]
2025-07-14 13:00:03,452 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:00:03,452 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:00:03,452 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:00:03,458 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:00:03,458 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:00:03,459 [INFO] app.core.logging_config: Session opened
2025-07-14 13:00:03,459 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:00:03,459 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:00:03,459 [INFO] app.core.logging_config: Session closed
2025-07-14 13:00:08,842 [INFO] app.core.logging_config: Session opened
2025-07-14 13:00:08,889 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:00:08,889 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:00:08,892 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:00:08,892 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:00:08,894 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:00:08,894 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:00:08,895 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:00:08,903 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:00:08,903 [INFO] sqlalchemy.engine.Engine: [generated in 0.00034s] ('user@example.com',)
2025-07-14 13:00:08,918 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:00:08,919 [INFO] app.core.logging_config: Session closed
2025-07-14 13:00:08,920 [INFO] uvicorn.access: 172.20.0.1:56152 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:00:08,921 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 13, in register_user
    raise ValueError("User with this email already exists")
ValueError: User with this email already exists
2025-07-14 13:00:39,069 [INFO] uvicorn.error: Shutting down
2025-07-14 13:00:39,169 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:00:39,170 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:00:39,170 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:00:39,170 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:00:39,175 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:00:39,175 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:00:39,175 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 13:00:39,941 [INFO] uvicorn.error: Started server process [11]
2025-07-14 13:00:39,941 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:00:39,941 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:00:39,941 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:00:39,946 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:00:39,946 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:00:39,946 [INFO] app.core.logging_config: Session opened
2025-07-14 13:00:39,946 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:00:39,947 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:00:39,947 [INFO] app.core.logging_config: Session closed
2025-07-14 13:00:44,259 [INFO] uvicorn.error: Shutting down
2025-07-14 13:00:44,360 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:00:44,360 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:00:44,360 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:00:44,360 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:00:44,361 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:00:44,361 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:00:44,361 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 13:00:45,135 [INFO] uvicorn.error: Started server process [13]
2025-07-14 13:00:45,135 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:00:45,135 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:00:45,135 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:00:45,139 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:00:45,140 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:00:45,140 [INFO] app.core.logging_config: Session opened
2025-07-14 13:00:45,140 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:00:45,140 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:00:45,141 [INFO] app.core.logging_config: Session closed
2025-07-14 13:02:23,916 [INFO] uvicorn.error: Shutting down
2025-07-14 13:02:24,017 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:02:24,017 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:02:24,017 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:02:24,018 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:02:24,019 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:02:24,019 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:02:24,019 [INFO] uvicorn.error: Finished server process [13]
2025-07-14 13:02:24,877 [INFO] uvicorn.error: Started server process [15]
2025-07-14 13:02:24,878 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:02:24,878 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:02:24,878 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:02:24,882 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:02:24,883 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:02:24,883 [INFO] app.core.logging_config: Session opened
2025-07-14 13:02:24,883 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:02:24,883 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:02:24,883 [INFO] app.core.logging_config: Session closed
2025-07-14 13:04:05,163 [INFO] uvicorn.error: Shutting down
2025-07-14 13:04:05,263 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:04:05,264 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:04:05,264 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:04:05,264 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:04:05,265 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:04:05,265 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:04:05,265 [INFO] uvicorn.error: Finished server process [15]
2025-07-14 13:04:06,273 [INFO] uvicorn.error: Started server process [17]
2025-07-14 13:04:06,273 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:04:06,273 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:04:06,273 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:04:06,279 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:04:06,279 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:04:06,279 [INFO] app.core.logging_config: Session opened
2025-07-14 13:04:06,279 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:04:06,279 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:04:06,280 [INFO] app.core.logging_config: Session closed
2025-07-14 13:04:21,923 [INFO] uvicorn.error: Shutting down
2025-07-14 13:04:22,023 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:04:22,024 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:04:22,024 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:04:22,024 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:04:22,025 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:04:22,025 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:04:22,026 [INFO] uvicorn.error: Finished server process [17]
2025-07-14 13:04:43,872 [INFO] uvicorn.error: Started server process [20]
2025-07-14 13:04:43,872 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:04:43,872 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:04:43,872 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:04:43,876 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:04:43,876 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:04:43,876 [INFO] app.core.logging_config: Session opened
2025-07-14 13:04:43,876 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:04:43,877 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:04:43,877 [INFO] app.core.logging_config: Session closed
2025-07-14 13:04:49,105 [INFO] app.core.logging_config: Session opened
2025-07-14 13:04:49,148 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:04:49,148 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:04:49,150 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:04:49,150 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:04:49,151 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:04:49,151 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:04:49,152 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:04:49,164 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:04:49,164 [INFO] sqlalchemy.engine.Engine: [generated in 0.00054s] ('user@example.com',)
2025-07-14 13:04:49,175 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:04:49,175 [INFO] app.core.logging_config: Session closed
2025-07-14 13:04:49,176 [INFO] uvicorn.access: 172.20.0.1:32962 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:04:49,177 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 15, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 15, in register_user
    raise UserAlreadyExistsError("User with this email already exists")
app.core.exceptions.UserAlreadyExistsError: User with this email already exists
2025-07-14 13:08:46,414 [INFO] uvicorn.error: Shutting down
2025-07-14 13:08:46,514 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:08:46,515 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:08:46,515 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:08:46,515 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:08:46,520 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:08:46,520 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:08:46,520 [INFO] uvicorn.error: Finished server process [20]
2025-07-14 13:09:28,657 [INFO] uvicorn.error: Started server process [24]
2025-07-14 13:09:28,657 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:09:28,658 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:09:28,658 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:09:28,661 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:09:28,661 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:09:28,661 [INFO] app.core.logging_config: Session opened
2025-07-14 13:09:28,661 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:09:28,661 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:09:28,662 [INFO] app.core.logging_config: Session closed
2025-07-14 13:09:28,663 [INFO] uvicorn.access: 172.20.0.1:35840 - "GET /docs HTTP/1.1" 200
2025-07-14 13:09:28,829 [INFO] uvicorn.access: 172.20.0.1:35840 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 13:09:32,002 [INFO] uvicorn.access: 172.20.0.1:35840 - "GET /docs HTTP/1.1" 200
2025-07-14 13:09:32,110 [INFO] uvicorn.access: 172.20.0.1:35840 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 13:09:38,338 [INFO] app.core.logging_config: Session opened
2025-07-14 13:09:38,379 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:09:38,379 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:09:38,380 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:09:38,381 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:09:38,381 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:09:38,382 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:09:38,383 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:09:38,391 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:09:38,391 [INFO] sqlalchemy.engine.Engine: [generated in 0.00032s] ('user@example.com',)
2025-07-14 13:09:38,402 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:09:38,403 [INFO] app.core.logging_config: Session closed
2025-07-14 13:09:38,404 [INFO] uvicorn.access: 172.20.0.1:35856 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:09:51,676 [INFO] app.core.logging_config: Session opened
2025-07-14 13:09:51,679 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:09:51,680 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:09:51,681 [INFO] sqlalchemy.engine.Engine: [cached since 13.29s ago] ('user@exampple.com',)
2025-07-14 13:09:51,909 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 13:09:51,910 [INFO] sqlalchemy.engine.Engine: [generated in 0.00062s] ('string', 'user@exampple.com', '$2b$12$l6okr.p7YyivWyJ3R2tXY.LqsOfut0JJPFu7AOjBNapy/z6AR5uZy', True, False, 'USER', '["read"]', False)
2025-07-14 13:09:51,913 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:09:51,914 [INFO] app.core.logging_config: Session closed
2025-07-14 13:09:51,915 [INFO] uvicorn.access: 172.20.0.1:37528 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:09:51,915 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.UniqueViolationError: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 18, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 17, in register_user
    db_user = await self.repository.create_user(user)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 23, in create_user
    await self.db.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.
[SQL: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('string', 'user@exampple.com', '$2b$12$l6okr.p7YyivWyJ3R2tXY.LqsOfut0JJPFu7AOjBNapy/z6AR5uZy', True, False, 'USER', '["read"]', False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-14 13:10:07,513 [INFO] app.core.logging_config: Session opened
2025-07-14 13:10:07,515 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:10:07,516 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:10:07,516 [INFO] sqlalchemy.engine.Engine: [cached since 29.13s ago] ('user@exampple.com',)
2025-07-14 13:10:07,707 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 13:10:07,707 [INFO] sqlalchemy.engine.Engine: [cached since 15.8s ago] ('string2', 'user@exampple.com', '$2b$12$n37sCjza.MLoFnpyOcDZwuzxJ9S/eUiNtzP2hH5qmdp0no8Bm0c9G', True, False, 'USER', '["read"]', False)
2025-07-14 13:10:07,709 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-14 13:10:07,719 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:10:07,724 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-14 13:10:07,724 [INFO] sqlalchemy.engine.Engine: [generated in 0.00035s] (3,)
2025-07-14 13:10:07,728 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:10:07,730 [INFO] app.core.logging_config: Session closed
2025-07-14 13:10:07,730 [INFO] uvicorn.access: 172.20.0.1:60312 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:10:07,731 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 18, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 18, in register_user
    return UserOut.from_orm(db_user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/pydantic/main.py", line 1437, in from_orm
    raise PydanticUserError(
pydantic.errors.PydanticUserError: You must set the config attribute `from_attributes=True` to use from_orm
2025-07-14 13:10:11,257 [INFO] app.core.logging_config: Session opened
2025-07-14 13:10:11,259 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:10:11,261 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:10:11,261 [INFO] sqlalchemy.engine.Engine: [cached since 32.87s ago] ('user@exampple.com',)
2025-07-14 13:10:11,267 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:10:11,268 [INFO] app.core.logging_config: Session closed
2025-07-14 13:10:11,269 [INFO] uvicorn.access: 172.20.0.1:60324 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:10:57,443 [INFO] app.core.logging_config: Session opened
2025-07-14 13:10:57,445 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:10:57,446 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:10:57,446 [INFO] sqlalchemy.engine.Engine: [cached since 79.06s ago] ('user@exampple.com',)
2025-07-14 13:10:57,640 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 13:10:57,640 [INFO] sqlalchemy.engine.Engine: [cached since 65.73s ago] ('string2', 'user@exampple.com', '$2b$12$C4GoZEc..nkkwK6wSWHil.U9JlmLVfQ0STSobQKAUofhkK1AdsFd.', True, False, 'USER', '["read"]', False)
2025-07-14 13:10:57,641 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-14 13:10:57,643 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:10:57,643 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-14 13:10:57,643 [INFO] sqlalchemy.engine.Engine: [cached since 49.92s ago] (4,)
2025-07-14 13:10:57,644 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:10:57,644 [INFO] app.core.logging_config: Session closed
2025-07-14 13:10:57,645 [INFO] uvicorn.access: 172.20.0.1:33680 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:10:57,645 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 18, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 18, in register_user
    return UserOut.from_orm(db_user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/pydantic/main.py", line 1437, in from_orm
    raise PydanticUserError(
pydantic.errors.PydanticUserError: You must set the config attribute `from_attributes=True` to use from_orm
2025-07-14 13:11:05,970 [INFO] uvicorn.error: Shutting down
2025-07-14 13:11:06,070 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:11:06,070 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:11:06,071 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:11:06,071 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:11:06,076 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:11:06,076 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:11:06,076 [INFO] uvicorn.error: Finished server process [24]
2025-07-14 13:11:18,549 [INFO] uvicorn.error: Started server process [9]
2025-07-14 13:11:18,549 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:11:18,549 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:11:18,549 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:11:18,555 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:11:18,555 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:11:18,556 [INFO] app.core.logging_config: Session opened
2025-07-14 13:11:18,556 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:11:18,556 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:11:18,557 [INFO] app.core.logging_config: Session closed
2025-07-14 13:11:18,618 [INFO] uvicorn.access: 172.20.0.1:36704 - "GET /docs HTTP/1.1" 200
2025-07-14 13:11:18,724 [INFO] uvicorn.access: 172.20.0.1:36704 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 13:13:03,442 [INFO] app.core.logging_config: Session opened
2025-07-14 13:13:03,484 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:13:03,484 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:03,486 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:13:03,486 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:03,488 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:13:03,488 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:03,489 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:03,497 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:13:03,497 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ('user@example.com',)
2025-07-14 13:13:03,721 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 13:13:03,722 [INFO] sqlalchemy.engine.Engine: [generated in 0.00032s] ('string', 'user@example.com', '$2b$12$hzTXdDZNKAlNJNyKi5odCOCekhFR7vA9v4EdgN9SisTv.wBAd.6zu', True, False, 'USER', '["read"]', False)
2025-07-14 13:13:03,723 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-14 13:13:03,739 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:03,741 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-14 13:13:03,741 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] (5,)
2025-07-14 13:13:03,743 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:13:03,744 [INFO] app.core.logging_config: Session closed
2025-07-14 13:13:03,744 [INFO] uvicorn.access: 172.20.0.1:50530 - "POST /auth/register HTTP/1.1" 500
2025-07-14 13:13:03,745 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 18, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 18, in register_user
    return UserOut.from_orm(db_user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/pydantic/main.py", line 1437, in from_orm
    raise PydanticUserError(
pydantic.errors.PydanticUserError: You must set the config attribute `from_attributes=True` to use from_orm
2025-07-14 13:13:36,119 [INFO] uvicorn.error: Shutting down
2025-07-14 13:13:36,220 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:13:36,220 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:13:36,220 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:13:36,221 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:13:36,227 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:13:36,228 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:13:36,228 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 13:13:37,114 [INFO] uvicorn.error: Started server process [11]
2025-07-14 13:13:37,114 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:13:37,114 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:13:37,114 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:13:37,118 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:13:37,118 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:13:37,118 [INFO] app.core.logging_config: Session opened
2025-07-14 13:13:37,118 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:13:37,119 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:13:37,119 [INFO] app.core.logging_config: Session closed
2025-07-14 13:13:46,638 [INFO] app.core.logging_config: Session opened
2025-07-14 13:13:46,701 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:13:46,701 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:46,704 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:13:46,704 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:46,707 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:13:46,707 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:13:46,709 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:46,726 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:13:46,727 [INFO] sqlalchemy.engine.Engine: [generated in 0.00093s] ('user@example.com',)
2025-07-14 13:13:46,743 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:13:46,744 [INFO] app.core.logging_config: Session closed
2025-07-14 13:13:46,745 [INFO] uvicorn.access: 172.20.0.1:51966 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:13:51,787 [INFO] app.core.logging_config: Session opened
2025-07-14 13:13:51,790 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:51,791 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:13:51,791 [INFO] sqlalchemy.engine.Engine: [cached since 5.065s ago] ('user@example.com',)
2025-07-14 13:13:51,793 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:13:51,795 [INFO] app.core.logging_config: Session closed
2025-07-14 13:13:51,796 [INFO] uvicorn.access: 172.20.0.1:51978 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:13:59,231 [INFO] app.core.logging_config: Session opened
2025-07-14 13:13:59,232 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:59,233 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:13:59,234 [INFO] sqlalchemy.engine.Engine: [cached since 12.51s ago] ('user2@example.com',)
2025-07-14 13:13:59,445 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-14 13:13:59,445 [INFO] sqlalchemy.engine.Engine: [generated in 0.00032s] ('string2', 'user2@example.com', '$2b$12$CGyAJZbC3hqlZug3p2h7CuCTcgR/XLolIzPw58x6BkFmIYiZlAZ/O', True, False, 'USER', '["read"]', False)
2025-07-14 13:13:59,447 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-14 13:13:59,458 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:13:59,459 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-14 13:13:59,460 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] (6,)
2025-07-14 13:13:59,461 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:13:59,462 [INFO] app.core.logging_config: Session closed
2025-07-14 13:13:59,462 [INFO] uvicorn.access: 172.20.0.1:59004 - "POST /auth/register HTTP/1.1" 200
2025-07-14 13:14:06,558 [INFO] app.core.logging_config: Session opened
2025-07-14 13:14:06,559 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:14:06,560 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:14:06,560 [INFO] sqlalchemy.engine.Engine: [cached since 19.83s ago] ('user2@example.com',)
2025-07-14 13:14:06,562 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:14:06,562 [INFO] app.core.logging_config: Session closed
2025-07-14 13:14:06,563 [INFO] uvicorn.access: 172.20.0.1:51742 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:14:14,195 [INFO] app.core.logging_config: Session opened
2025-07-14 13:14:14,197 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:14:14,198 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:14:14,198 [INFO] sqlalchemy.engine.Engine: [cached since 27.47s ago] ('user2@example.com',)
2025-07-14 13:14:14,200 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:14:14,201 [INFO] app.core.logging_config: Session closed
2025-07-14 13:14:14,202 [INFO] uvicorn.access: 172.20.0.1:51754 - "POST /auth/register HTTP/1.1" 400
2025-07-14 13:15:02,750 [INFO] uvicorn.error: Shutting down
2025-07-14 13:15:02,850 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:15:02,851 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:15:02,851 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:15:02,851 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:15:02,857 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:15:02,857 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:15:02,857 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 13:15:03,737 [INFO] uvicorn.error: Started server process [13]
2025-07-14 13:15:03,737 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:15:03,737 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:15:03,737 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:15:03,741 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:15:03,741 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:15:03,741 [INFO] app.core.logging_config: Session opened
2025-07-14 13:15:03,741 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:15:03,741 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:15:03,742 [INFO] app.core.logging_config: Session closed
2025-07-14 13:15:46,389 [INFO] app.core.logging_config: Session opened
2025-07-14 13:15:46,390 [INFO] app.core.logging_config: Session closed
2025-07-14 13:15:46,390 [INFO] uvicorn.access: 172.20.0.1:51736 - "POST /auth/login HTTP/1.1" 422
2025-07-14 13:16:02,763 [INFO] app.core.logging_config: Session opened
2025-07-14 13:16:02,800 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:16:02,800 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:16:02,802 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:16:02,802 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:16:02,803 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:16:02,803 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:16:02,804 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:16:02,811 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-14 13:16:02,811 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] ('string',)
2025-07-14 13:16:02,823 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:16:02,823 [INFO] app.core.logging_config: Session closed
2025-07-14 13:16:02,824 [INFO] uvicorn.access: 172.20.0.1:35850 - "POST /auth/login HTTP/1.1" 401
2025-07-14 13:16:13,315 [INFO] app.core.logging_config: Session opened
2025-07-14 13:16:13,316 [INFO] app.core.logging_config: Session closed
2025-07-14 13:16:13,316 [INFO] uvicorn.access: 172.20.0.1:58796 - "POST /auth/refresh?refresh_token=1 HTTP/1.1" 500
2025-07-14 13:16:13,317 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth_handlers.py", line 35, in refresh_token
    return await service.refresh_token(refresh_token)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 23, in refresh_token
    raise ValueError("Invalid refresh token")
ValueError: Invalid refresh token
2025-07-14 13:16:16,363 [INFO] uvicorn.error: Shutting down
2025-07-14 13:16:16,464 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:16:16,464 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:16:16,464 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:16:16,465 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:16:16,472 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:16:16,473 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:16:16,473 [INFO] uvicorn.error: Finished server process [13]
2025-07-14 13:22:15,130 [INFO] uvicorn.error: Started server process [10]
2025-07-14 13:22:15,130 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:22:15,131 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:22:15,131 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:22:15,136 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:22:15,136 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:22:15,137 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:15,137 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:22:15,137 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:22:15,138 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:15,465 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:15,466 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:15,466 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:15,506 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 13:22:15,507 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:22:15,508 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 13:22:15,509 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:22:15,510 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 13:22:15,510 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 13:22:15,511 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:15,518 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:15,519 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ()
2025-07-14 13:22:15,521 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:15,521 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:15,522 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:15,522 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:15,523 [INFO] uvicorn.access: 172.20.0.1:39762 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:25,795 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:25,796 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:25,796 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:25,797 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:25,798 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:25,798 [INFO] sqlalchemy.engine.Engine: [cached since 10.28s ago] ()
2025-07-14 13:22:25,800 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:25,800 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:25,800 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:25,801 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:25,801 [INFO] uvicorn.access: 172.20.0.1:44832 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:28,058 [INFO] uvicorn.access: 172.20.0.1:44836 - "GET /docs HTTP/1.1" 200
2025-07-14 13:22:28,170 [INFO] uvicorn.access: 172.20.0.1:44836 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 13:22:33,162 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:33,162 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:33,162 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:33,164 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:33,164 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:33,165 [INFO] sqlalchemy.engine.Engine: [cached since 17.65s ago] ()
2025-07-14 13:22:33,166 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:33,166 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:33,166 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:33,167 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:33,168 [INFO] uvicorn.access: 172.20.0.1:44840 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:34,429 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:34,429 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:34,430 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:34,433 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:34,434 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:34,434 [INFO] sqlalchemy.engine.Engine: [cached since 18.92s ago] ()
2025-07-14 13:22:34,436 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:34,436 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:34,437 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:34,437 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:34,438 [INFO] uvicorn.access: 172.20.0.1:44840 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:35,639 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:35,640 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:35,640 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:35,642 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:35,642 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:35,643 [INFO] sqlalchemy.engine.Engine: [cached since 20.12s ago] ()
2025-07-14 13:22:35,644 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:35,644 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:35,645 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:35,645 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:35,646 [INFO] uvicorn.access: 172.20.0.1:44840 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:36,128 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:36,129 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:36,129 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:36,131 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:36,133 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:36,133 [INFO] sqlalchemy.engine.Engine: [cached since 20.61s ago] ()
2025-07-14 13:22:36,135 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:36,135 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:36,136 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:36,136 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:36,137 [INFO] uvicorn.access: 172.20.0.1:44840 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:36,319 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:36,320 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 13:22:36,320 [INFO] app.service.task: Fetching all tasks
2025-07-14 13:22:36,321 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 13:22:36,322 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 13:22:36,322 [INFO] sqlalchemy.engine.Engine: [cached since 20.8s ago] ()
2025-07-14 13:22:36,323 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 13:22:36,324 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 13:22:36,324 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 13:22:36,325 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:36,325 [INFO] uvicorn.access: 172.20.0.1:44840 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 13:22:40,515 [INFO] uvicorn.access: 172.20.0.1:44840 - "OPTIONS /api/tasks HTTP/1.1" 200
2025-07-14 13:22:40,520 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:40,521 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:40,521 [INFO] uvicorn.access: 172.20.0.1:52972 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 13:22:43,815 [INFO] app.core.logging_config: Session opened
2025-07-14 13:22:43,815 [INFO] app.core.logging_config: Session closed
2025-07-14 13:22:43,816 [INFO] uvicorn.access: 172.20.0.1:52972 - "POST /api/tasks HTTP/1.1" 401
2025-07-14 13:23:12,426 [INFO] uvicorn.error: Shutting down
2025-07-14 13:23:12,527 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:23:12,527 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:23:12,528 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:23:12,528 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:23:12,532 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:23:12,532 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:23:12,532 [INFO] uvicorn.error: Finished server process [10]
2025-07-14 13:23:13,371 [INFO] uvicorn.error: Started server process [12]
2025-07-14 13:23:13,371 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:23:13,371 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:23:13,372 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:23:13,375 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:23:13,375 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:23:13,376 [INFO] app.core.logging_config: Session opened
2025-07-14 13:23:13,376 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:23:13,376 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:23:13,377 [INFO] app.core.logging_config: Session closed
2025-07-14 13:23:19,896 [INFO] uvicorn.error: Shutting down
2025-07-14 13:23:19,997 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:23:19,997 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:23:19,997 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:23:19,997 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:23:19,998 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:23:19,998 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:23:19,998 [INFO] uvicorn.error: Finished server process [12]
2025-07-14 13:23:20,934 [INFO] uvicorn.error: Started server process [14]
2025-07-14 13:23:20,934 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:23:20,935 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:23:20,935 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:23:20,939 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:23:20,939 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:23:20,939 [INFO] app.core.logging_config: Session opened
2025-07-14 13:23:20,940 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:23:20,940 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:23:20,940 [INFO] app.core.logging_config: Session closed
2025-07-14 13:25:28,347 [INFO] uvicorn.error: Shutting down
2025-07-14 13:25:28,447 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:25:28,447 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:25:28,447 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:25:28,448 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:25:28,448 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:25:28,448 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:25:28,449 [INFO] uvicorn.error: Finished server process [14]
2025-07-14 13:25:29,256 [INFO] uvicorn.error: Started server process [16]
2025-07-14 13:25:29,256 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:25:29,256 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:25:29,256 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:25:29,259 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:25:29,259 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:25:29,260 [INFO] app.core.logging_config: Session opened
2025-07-14 13:25:29,260 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:25:29,260 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:25:29,260 [INFO] app.core.logging_config: Session closed
2025-07-14 13:26:24,213 [INFO] uvicorn.error: Shutting down
2025-07-14 13:26:24,314 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 13:26:24,315 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 13:26:24,316 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 13:26:24,316 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 13:26:24,317 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 13:26:24,318 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 13:26:24,318 [INFO] uvicorn.error: Finished server process [16]
2025-07-14 13:27:29,493 [INFO] uvicorn.error: Started server process [21]
2025-07-14 13:27:29,493 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 13:27:29,493 [INFO] app.core.logging_config: Initializing application...
2025-07-14 13:27:29,493 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 13:27:29,497 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 13:27:29,497 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 13:27:29,497 [INFO] app.core.logging_config: Session opened
2025-07-14 13:27:29,497 [INFO] app.core.logging_config: Database connection verified
2025-07-14 13:27:29,498 [INFO] uvicorn.error: Application startup complete.
2025-07-14 13:27:29,498 [INFO] app.core.logging_config: Session closed
2025-07-14 14:22:31,015 [INFO] app.core.logging_config: Session opened
2025-07-14 14:22:31,015 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 14:22:31,016 [INFO] app.service.task: Fetching all tasks
2025-07-14 14:22:31,056 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 14:22:31,056 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:22:31,059 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 14:22:31,059 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:22:31,060 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 14:22:31,060 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:22:31,061 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 14:22:31,070 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 14:22:31,070 [INFO] sqlalchemy.engine.Engine: [generated in 0.00072s] ()
2025-07-14 14:22:31,079 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 14:22:31,079 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 14:22:31,079 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 14:22:31,080 [INFO] app.core.logging_config: Session closed
2025-07-14 14:22:31,081 [INFO] uvicorn.access: 172.20.0.1:60452 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 14:27:12,997 [INFO] uvicorn.error: Shutting down
2025-07-14 14:27:13,098 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:27:13,098 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:27:13,099 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:27:13,099 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:27:13,103 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:27:13,104 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:27:13,104 [INFO] uvicorn.error: Finished server process [21]
2025-07-14 14:27:14,297 [INFO] uvicorn.error: Started server process [23]
2025-07-14 14:27:14,297 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:27:14,298 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:27:14,298 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:27:14,302 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:27:14,302 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:27:14,302 [INFO] app.core.logging_config: Session opened
2025-07-14 14:27:14,303 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:27:14,303 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:27:14,303 [INFO] app.core.logging_config: Session closed
2025-07-14 14:27:32,952 [INFO] uvicorn.error: Shutting down
2025-07-14 14:27:33,053 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:27:33,053 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:27:33,053 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:27:33,054 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:27:33,055 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:27:33,055 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:27:33,055 [INFO] uvicorn.error: Finished server process [23]
2025-07-14 14:27:34,170 [INFO] uvicorn.error: Started server process [25]
2025-07-14 14:27:34,171 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:27:34,171 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:27:34,171 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:27:34,175 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:27:34,175 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:27:34,175 [INFO] app.core.logging_config: Session opened
2025-07-14 14:27:34,176 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:27:34,176 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:27:34,176 [INFO] app.core.logging_config: Session closed
2025-07-14 14:28:19,399 [INFO] uvicorn.error: Shutting down
2025-07-14 14:28:19,499 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:28:19,500 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:28:19,500 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:28:19,500 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:28:19,501 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:28:19,501 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:28:19,501 [INFO] uvicorn.error: Finished server process [25]
2025-07-14 14:28:20,547 [INFO] uvicorn.error: Started server process [27]
2025-07-14 14:28:20,547 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:28:20,547 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:28:20,547 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:28:20,551 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:28:20,552 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:28:20,552 [INFO] app.core.logging_config: Session opened
2025-07-14 14:28:20,552 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:28:20,552 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:28:20,553 [INFO] app.core.logging_config: Session closed
2025-07-14 14:28:42,113 [INFO] uvicorn.error: Shutting down
2025-07-14 14:28:42,214 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:28:42,214 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:28:42,214 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:28:42,215 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:28:42,216 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:28:42,216 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:28:42,216 [INFO] uvicorn.error: Finished server process [27]
2025-07-14 14:36:16,563 [INFO] uvicorn.error: Started server process [36]
2025-07-14 14:36:16,563 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:36:16,564 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:36:16,564 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:36:16,567 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:36:16,567 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:36:16,568 [INFO] app.core.logging_config: Session opened
2025-07-14 14:36:16,568 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:36:16,568 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:36:16,568 [INFO] app.core.logging_config: Session closed
2025-07-14 14:36:23,967 [INFO] app.core.logging_config: Session opened
2025-07-14 14:36:23,967 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 14:36:23,967 [INFO] app.service.task: Fetching all tasks
2025-07-14 14:36:24,006 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 14:36:24,006 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:36:24,007 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 14:36:24,007 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:36:24,009 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 14:36:24,009 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:36:24,010 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 14:36:24,021 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 14:36:24,021 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] ()
2025-07-14 14:36:24,024 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 14:36:24,024 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 14:36:24,025 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 14:36:24,025 [INFO] app.core.logging_config: Session closed
2025-07-14 14:36:24,025 [INFO] uvicorn.access: 172.20.0.1:48862 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 14:36:24,026 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'list_type', 'loc': ('response',), 'msg': 'Input should be a valid list', 'input': {'status': 'success', 'data': []}}

2025-07-14 14:36:26,352 [INFO] uvicorn.access: 172.20.0.1:48868 - "GET /docs HTTP/1.1" 200
2025-07-14 14:36:26,457 [INFO] uvicorn.access: 172.20.0.1:48868 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 14:36:32,282 [INFO] app.core.logging_config: Session opened
2025-07-14 14:36:32,282 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 14:36:32,282 [INFO] app.service.task: Fetching all tasks
2025-07-14 14:36:32,284 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 14:36:32,285 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 14:36:32,285 [INFO] sqlalchemy.engine.Engine: [cached since 8.265s ago] ()
2025-07-14 14:36:32,286 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 14:36:32,286 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 14:36:32,287 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 14:36:32,287 [INFO] app.core.logging_config: Session closed
2025-07-14 14:36:32,287 [INFO] uvicorn.access: 172.20.0.1:49380 - "GET /api/tasks HTTP/1.1" 500
2025-07-14 14:36:32,288 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 1 validation errors:
  {'type': 'list_type', 'loc': ('response',), 'msg': 'Input should be a valid list', 'input': {'status': 'success', 'data': []}}

2025-07-14 14:36:52,180 [INFO] uvicorn.error: Shutting down
2025-07-14 14:36:52,280 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:36:52,280 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:36:52,280 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:36:52,281 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:36:52,284 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:36:52,284 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:36:52,284 [INFO] uvicorn.error: Finished server process [36]
2025-07-14 14:37:00,676 [INFO] uvicorn.error: Started server process [39]
2025-07-14 14:37:00,676 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:37:00,676 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:37:00,676 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:37:00,679 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:37:00,679 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:37:00,680 [INFO] app.core.logging_config: Session opened
2025-07-14 14:37:00,680 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:37:00,680 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:37:00,680 [INFO] app.core.logging_config: Session closed
2025-07-14 14:37:02,131 [INFO] app.core.logging_config: Session opened
2025-07-14 14:37:02,131 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 14:37:02,131 [INFO] app.service.task: Fetching all tasks
2025-07-14 14:37:02,165 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 14:37:02,165 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:37:02,167 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 14:37:02,167 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:37:02,169 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 14:37:02,169 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 14:37:02,170 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 14:37:02,178 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 14:37:02,178 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ()
2025-07-14 14:37:02,182 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 14:37:02,182 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 14:37:02,183 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 14:37:02,183 [INFO] app.core.logging_config: Session closed
2025-07-14 14:37:02,184 [INFO] uvicorn.access: 172.20.0.1:40772 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 14:37:07,197 [INFO] uvicorn.error: Shutting down
2025-07-14 14:37:07,298 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:37:07,298 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:37:07,298 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:37:07,299 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:37:07,302 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:37:07,303 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:37:07,303 [INFO] uvicorn.error: Finished server process [39]
2025-07-14 14:37:08,059 [INFO] uvicorn.error: Started server process [41]
2025-07-14 14:37:08,059 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:37:08,059 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:37:08,059 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:37:08,062 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:37:08,063 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:37:08,063 [INFO] app.core.logging_config: Session opened
2025-07-14 14:37:08,063 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:37:08,063 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:37:08,063 [INFO] app.core.logging_config: Session closed
2025-07-14 14:38:22,059 [INFO] uvicorn.error: Shutting down
2025-07-14 14:38:22,159 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:38:22,159 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:38:22,159 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:38:22,160 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:38:22,161 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:38:22,161 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:38:22,161 [INFO] uvicorn.error: Finished server process [41]
2025-07-14 14:41:01,102 [INFO] uvicorn.error: Started server process [44]
2025-07-14 14:41:01,102 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:41:01,102 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:41:01,103 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:41:01,108 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:41:01,108 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:41:01,108 [INFO] app.core.logging_config: Session opened
2025-07-14 14:41:01,109 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:41:01,109 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:41:01,109 [INFO] app.core.logging_config: Session closed
2025-07-14 14:51:29,751 [INFO] uvicorn.error: Shutting down
2025-07-14 14:51:29,852 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:51:29,852 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:51:29,852 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:51:29,853 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:51:29,854 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:51:29,854 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:51:29,854 [INFO] uvicorn.error: Finished server process [44]
2025-07-14 14:51:30,996 [INFO] uvicorn.error: Started server process [46]
2025-07-14 14:51:30,997 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:51:30,997 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:51:30,997 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:51:31,001 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:51:31,001 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:51:31,001 [INFO] app.core.logging_config: Session opened
2025-07-14 14:51:31,001 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:51:31,002 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:51:31,002 [INFO] app.core.logging_config: Session closed
2025-07-14 14:51:45,640 [INFO] uvicorn.error: Shutting down
2025-07-14 14:51:45,741 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:51:45,741 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:51:45,741 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:51:45,742 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:51:45,743 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:51:45,744 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:51:45,744 [INFO] uvicorn.error: Finished server process [46]
2025-07-14 14:51:46,835 [INFO] uvicorn.error: Started server process [48]
2025-07-14 14:51:46,835 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 14:51:46,836 [INFO] app.core.logging_config: Initializing application...
2025-07-14 14:51:46,836 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 14:51:46,847 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 14:51:46,848 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 14:51:46,848 [INFO] app.core.logging_config: Session opened
2025-07-14 14:51:46,848 [INFO] app.core.logging_config: Database connection verified
2025-07-14 14:51:46,848 [INFO] uvicorn.error: Application startup complete.
2025-07-14 14:51:46,849 [INFO] app.core.logging_config: Session closed
2025-07-14 14:51:59,487 [INFO] uvicorn.error: Shutting down
2025-07-14 14:51:59,588 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 14:51:59,588 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 14:51:59,589 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 14:51:59,589 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 14:51:59,590 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 14:51:59,591 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 14:51:59,591 [INFO] uvicorn.error: Finished server process [48]
2025-07-14 15:06:14,192 [INFO] uvicorn.error: Started server process [73]
2025-07-14 15:06:14,192 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:14,192 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:14,192 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:14,196 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:14,196 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:14,196 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:14,196 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:14,197 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:14,197 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:24,323 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:24,424 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:24,424 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:24,424 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:24,424 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:24,425 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:24,425 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:24,425 [INFO] uvicorn.error: Finished server process [73]
2025-07-14 15:06:25,419 [INFO] uvicorn.error: Started server process [75]
2025-07-14 15:06:25,419 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:25,420 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:25,420 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:25,425 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:25,425 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:25,425 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:25,425 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:25,426 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:25,426 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:30,642 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:30,742 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:30,743 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:30,743 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:30,743 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:30,744 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:30,745 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:30,745 [INFO] uvicorn.error: Finished server process [75]
2025-07-14 15:06:31,667 [INFO] uvicorn.error: Started server process [77]
2025-07-14 15:06:31,667 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:31,667 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:31,667 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:31,672 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:31,672 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:31,672 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:31,672 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:31,672 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:31,673 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:43,503 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:43,603 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:43,603 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:43,603 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:43,604 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:43,604 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:43,604 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:43,605 [INFO] uvicorn.error: Finished server process [77]
2025-07-14 15:06:44,366 [INFO] uvicorn.error: Started server process [79]
2025-07-14 15:06:44,366 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:44,367 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:44,367 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:44,370 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:44,370 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:44,370 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:44,370 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:44,370 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:44,371 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:48,481 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:48,582 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:48,582 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:48,582 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:48,583 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:48,583 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:48,583 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:48,583 [INFO] uvicorn.error: Finished server process [79]
2025-07-14 15:06:49,388 [INFO] uvicorn.error: Started server process [81]
2025-07-14 15:06:49,388 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:49,388 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:49,388 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:49,392 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:49,392 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:49,392 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:49,392 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:49,392 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:49,393 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:49,794 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:49,895 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:49,895 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:49,895 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:49,896 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:49,897 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:49,897 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:49,897 [INFO] uvicorn.error: Finished server process [81]
2025-07-14 15:06:50,677 [INFO] uvicorn.error: Started server process [83]
2025-07-14 15:06:50,677 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:50,678 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:50,678 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:50,682 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:50,682 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:50,682 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:50,682 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:50,683 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:50,683 [INFO] app.core.logging_config: Session closed
2025-07-14 15:06:59,005 [INFO] uvicorn.error: Shutting down
2025-07-14 15:06:59,105 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:06:59,106 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:06:59,106 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:06:59,106 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:06:59,107 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:06:59,107 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:06:59,107 [INFO] uvicorn.error: Finished server process [83]
2025-07-14 15:06:59,965 [INFO] uvicorn.error: Started server process [85]
2025-07-14 15:06:59,966 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:06:59,966 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:06:59,966 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:06:59,970 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:06:59,970 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:06:59,971 [INFO] app.core.logging_config: Session opened
2025-07-14 15:06:59,971 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:06:59,971 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:06:59,972 [INFO] app.core.logging_config: Session closed
2025-07-14 15:07:12,405 [INFO] uvicorn.error: Shutting down
2025-07-14 15:07:12,505 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:07:12,506 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:07:12,507 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:07:12,507 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:07:12,508 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:07:12,508 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:07:12,509 [INFO] uvicorn.error: Finished server process [85]
2025-07-14 15:07:13,445 [INFO] uvicorn.error: Started server process [87]
2025-07-14 15:07:13,446 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:07:13,446 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:07:13,446 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:07:13,450 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:07:13,450 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:07:13,450 [INFO] app.core.logging_config: Session opened
2025-07-14 15:07:13,451 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:07:13,451 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:07:13,451 [INFO] app.core.logging_config: Session closed
2025-07-14 15:07:16,659 [INFO] uvicorn.error: Shutting down
2025-07-14 15:07:16,760 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:07:16,760 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:07:16,760 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:07:16,761 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:07:16,761 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:07:16,761 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:07:16,761 [INFO] uvicorn.error: Finished server process [87]
2025-07-14 15:07:17,649 [INFO] uvicorn.error: Started server process [89]
2025-07-14 15:07:17,649 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:07:17,649 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:07:17,649 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:07:17,653 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:07:17,653 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:07:17,653 [INFO] app.core.logging_config: Session opened
2025-07-14 15:07:17,654 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:07:17,654 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:07:17,655 [INFO] app.core.logging_config: Session closed
2025-07-14 15:07:22,068 [INFO] uvicorn.error: Shutting down
2025-07-14 15:07:22,168 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:07:22,168 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:07:22,169 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:07:22,169 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:07:22,170 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:07:22,170 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:07:22,170 [INFO] uvicorn.error: Finished server process [89]
2025-07-14 15:07:39,393 [INFO] uvicorn.error: Started server process [9]
2025-07-14 15:07:39,393 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:07:39,394 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:07:39,394 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:07:39,398 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:07:39,399 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:07:39,399 [INFO] app.core.logging_config: Session opened
2025-07-14 15:07:39,399 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:07:39,399 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:07:39,399 [INFO] app.core.logging_config: Session closed
2025-07-14 15:09:17,956 [INFO] uvicorn.error: Shutting down
2025-07-14 15:09:18,057 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:09:18,057 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:09:18,057 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:09:18,057 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:09:18,058 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:09:18,058 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:09:18,058 [INFO] uvicorn.error: Finished server process [9]
2025-07-14 15:09:19,072 [INFO] uvicorn.error: Started server process [11]
2025-07-14 15:09:19,072 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:09:19,072 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:09:19,073 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:09:19,076 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:09:19,076 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:09:19,076 [INFO] app.core.logging_config: Session opened
2025-07-14 15:09:19,076 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:09:19,076 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:09:19,077 [INFO] app.core.logging_config: Session closed
2025-07-14 15:09:27,200 [INFO] uvicorn.error: Shutting down
2025-07-14 15:09:27,300 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:09:27,301 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:09:27,301 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:09:27,301 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:09:27,302 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:09:27,302 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:09:27,302 [INFO] uvicorn.error: Finished server process [11]
2025-07-14 15:09:28,014 [INFO] uvicorn.error: Started server process [13]
2025-07-14 15:09:28,014 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:09:28,014 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:09:28,014 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:09:28,017 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:09:28,017 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:09:28,017 [INFO] app.core.logging_config: Session opened
2025-07-14 15:09:28,017 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:09:28,017 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:09:28,018 [INFO] app.core.logging_config: Session closed
2025-07-14 15:09:31,228 [INFO] uvicorn.error: Shutting down
2025-07-14 15:09:31,328 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:09:31,328 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:09:31,328 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:09:31,329 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:09:31,329 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:09:31,329 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:09:31,329 [INFO] uvicorn.error: Finished server process [13]
2025-07-14 15:09:32,113 [INFO] uvicorn.error: Started server process [15]
2025-07-14 15:09:32,113 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:09:32,113 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:09:32,113 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:09:32,116 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:09:32,116 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:09:32,117 [INFO] app.core.logging_config: Session opened
2025-07-14 15:09:32,117 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:09:32,117 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:09:32,117 [INFO] app.core.logging_config: Session closed
2025-07-14 15:11:40,775 [INFO] uvicorn.error: Shutting down
2025-07-14 15:11:40,875 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:11:40,876 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:11:40,876 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:11:40,876 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:11:40,877 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:11:40,877 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:11:40,877 [INFO] uvicorn.error: Finished server process [15]
2025-07-14 15:11:41,606 [INFO] uvicorn.error: Started server process [17]
2025-07-14 15:11:41,606 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:11:41,606 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:11:41,606 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:11:41,609 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:11:41,609 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:11:41,609 [INFO] app.core.logging_config: Session opened
2025-07-14 15:11:41,609 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:11:41,610 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:11:41,610 [INFO] app.core.logging_config: Session closed
2025-07-14 15:11:48,631 [INFO] uvicorn.error: Shutting down
2025-07-14 15:11:48,732 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:11:48,732 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:11:48,732 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:11:48,732 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:11:48,733 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:11:48,733 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:11:48,733 [INFO] uvicorn.error: Finished server process [17]
2025-07-14 15:11:49,488 [INFO] uvicorn.error: Started server process [19]
2025-07-14 15:11:49,488 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:11:49,488 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:11:49,488 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:11:49,491 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:11:49,491 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:11:49,491 [INFO] app.core.logging_config: Session opened
2025-07-14 15:11:49,491 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:11:49,492 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:11:49,492 [INFO] app.core.logging_config: Session closed
2025-07-14 15:40:29,295 [INFO] uvicorn.error: Shutting down
2025-07-14 15:40:29,396 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:40:29,396 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:40:29,396 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:40:29,397 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:40:29,398 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:40:29,398 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:40:29,398 [INFO] uvicorn.error: Finished server process [19]
2025-07-14 15:40:30,246 [INFO] uvicorn.error: Started server process [21]
2025-07-14 15:40:30,246 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:40:30,246 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:40:30,246 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:40:30,250 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:40:30,250 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:40:30,251 [INFO] app.core.logging_config: Session opened
2025-07-14 15:40:30,251 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:40:30,251 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:40:30,251 [INFO] app.core.logging_config: Session closed
2025-07-14 15:41:54,883 [INFO] uvicorn.error: Shutting down
2025-07-14 15:41:54,983 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:41:54,983 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:41:54,983 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:41:54,984 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:41:54,984 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:41:54,985 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:41:54,985 [INFO] uvicorn.error: Finished server process [21]
2025-07-14 15:41:55,853 [INFO] uvicorn.error: Started server process [23]
2025-07-14 15:41:55,853 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:41:55,853 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:41:55,853 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:41:55,857 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:41:55,857 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:41:55,858 [INFO] app.core.logging_config: Session opened
2025-07-14 15:41:55,858 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:41:55,858 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:41:55,858 [INFO] app.core.logging_config: Session closed
2025-07-14 15:42:09,896 [INFO] uvicorn.error: Shutting down
2025-07-14 15:42:09,997 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 15:42:09,997 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 15:42:09,997 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 15:42:09,997 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 15:42:09,998 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 15:42:09,998 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 15:42:09,998 [INFO] uvicorn.error: Finished server process [23]
2025-07-14 15:45:49,115 [INFO] uvicorn.error: Started server process [28]
2025-07-14 15:45:49,115 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 15:45:49,116 [INFO] app.core.logging_config: Initializing application...
2025-07-14 15:45:49,116 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 15:45:49,120 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 15:45:49,120 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 15:45:49,120 [INFO] app.core.logging_config: Session opened
2025-07-14 15:45:49,120 [INFO] app.core.logging_config: Database connection verified
2025-07-14 15:45:49,120 [INFO] uvicorn.error: Application startup complete.
2025-07-14 15:45:49,121 [INFO] app.core.logging_config: Session closed
2025-07-14 15:54:57,876 [INFO] app.core.logging_config: Session opened
2025-07-14 15:54:57,876 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 15:54:57,877 [INFO] app.service.task: Fetching all tasks
2025-07-14 15:54:57,921 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 15:54:57,921 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 15:54:57,924 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 15:54:57,924 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 15:54:57,926 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 15:54:57,926 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 15:54:57,928 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 15:54:57,934 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 15:54:57,934 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ()
2025-07-14 15:54:57,937 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 15:54:57,937 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 15:54:57,937 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 15:54:57,938 [INFO] app.core.logging_config: Session closed
2025-07-14 15:54:57,938 [INFO] uvicorn.access: 172.20.0.1:55326 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 20:02:35,760 [INFO] app.core.logging_config: Session opened
2025-07-14 20:02:35,760 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 20:02:35,760 [INFO] app.service.task: Fetching all tasks
2025-07-14 20:02:35,762 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 20:02:35,763 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 20:02:35,763 [INFO] sqlalchemy.engine.Engine: [cached since 132.3s ago] ()
2025-07-14 20:02:35,764 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 20:02:35,764 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 20:02:35,765 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 20:02:35,766 [INFO] app.core.logging_config: Session closed
2025-07-14 20:02:35,767 [INFO] uvicorn.access: 172.20.0.1:59938 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 21:29:13,609 [INFO] uvicorn.error: Shutting down
2025-07-14 21:29:13,710 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:29:13,710 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:29:13,710 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:29:13,711 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:29:13,716 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:29:13,716 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:29:13,716 [INFO] uvicorn.error: Finished server process [28]
2025-07-14 21:29:14,512 [INFO] uvicorn.error: Started server process [30]
2025-07-14 21:29:14,512 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:29:14,512 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:29:14,512 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:29:14,516 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:29:14,516 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:29:14,516 [INFO] app.core.logging_config: Session opened
2025-07-14 21:29:14,516 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:29:14,516 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:29:14,517 [INFO] app.core.logging_config: Session closed
2025-07-14 21:31:32,457 [INFO] uvicorn.error: Shutting down
2025-07-14 21:31:32,558 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:31:32,558 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:31:32,558 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:31:32,559 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:31:32,560 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:31:32,560 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:31:32,560 [INFO] uvicorn.error: Finished server process [30]
2025-07-14 21:31:33,323 [INFO] uvicorn.error: Started server process [32]
2025-07-14 21:31:33,323 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:31:33,324 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:31:33,324 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:31:33,328 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:31:33,328 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:31:33,329 [INFO] app.core.logging_config: Session opened
2025-07-14 21:31:33,329 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:31:33,329 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:31:33,330 [INFO] app.core.logging_config: Session closed
2025-07-14 21:36:33,292 [INFO] uvicorn.error: Shutting down
2025-07-14 21:36:33,392 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:36:33,393 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:36:33,393 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:36:33,393 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:36:33,394 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:36:33,394 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:36:33,394 [INFO] uvicorn.error: Finished server process [32]
2025-07-14 21:36:34,203 [INFO] uvicorn.error: Started server process [34]
2025-07-14 21:36:34,204 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:36:34,204 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:36:34,204 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:36:34,207 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:36:34,208 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:36:34,208 [INFO] app.core.logging_config: Session opened
2025-07-14 21:36:34,208 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:36:34,208 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:36:34,209 [INFO] app.core.logging_config: Session closed
2025-07-14 21:37:35,161 [INFO] uvicorn.error: Shutting down
2025-07-14 21:37:35,261 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:37:35,261 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:37:35,262 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:37:35,262 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:37:35,263 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:37:35,263 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:37:35,263 [INFO] uvicorn.error: Finished server process [34]
2025-07-14 21:37:36,066 [INFO] uvicorn.error: Started server process [36]
2025-07-14 21:37:36,066 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:37:36,067 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:37:36,067 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:37:36,071 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:37:36,071 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:37:36,071 [INFO] app.core.logging_config: Session opened
2025-07-14 21:37:36,071 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:37:36,071 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:37:36,072 [INFO] app.core.logging_config: Session closed
2025-07-14 21:37:42,087 [INFO] uvicorn.error: Shutting down
2025-07-14 21:37:42,188 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:37:42,188 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:37:42,188 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:37:42,189 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:37:42,189 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:37:42,190 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:37:42,190 [INFO] uvicorn.error: Finished server process [36]
2025-07-14 21:37:43,005 [INFO] uvicorn.error: Started server process [38]
2025-07-14 21:37:43,005 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:37:43,005 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:37:43,005 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:37:43,009 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:37:43,010 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:37:43,010 [INFO] app.core.logging_config: Session opened
2025-07-14 21:37:43,010 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:37:43,010 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:37:43,011 [INFO] app.core.logging_config: Session closed
2025-07-14 21:40:53,924 [INFO] uvicorn.error: Shutting down
2025-07-14 21:40:54,024 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:40:54,024 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:40:54,025 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:40:54,025 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:40:54,025 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:40:54,026 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:40:54,026 [INFO] uvicorn.error: Finished server process [38]
2025-07-14 21:40:54,750 [INFO] uvicorn.error: Started server process [40]
2025-07-14 21:40:54,750 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:40:54,750 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:40:54,750 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:40:54,754 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:40:54,755 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:40:54,755 [INFO] app.core.logging_config: Session opened
2025-07-14 21:40:54,755 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:40:54,755 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:40:54,756 [INFO] app.core.logging_config: Session closed
2025-07-14 21:40:55,759 [INFO] uvicorn.error: Shutting down
2025-07-14 21:40:55,860 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:40:55,860 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:40:55,860 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:40:55,861 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:40:55,861 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:40:55,862 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:40:55,862 [INFO] uvicorn.error: Finished server process [40]
2025-07-14 21:40:56,616 [INFO] uvicorn.error: Started server process [42]
2025-07-14 21:40:56,616 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:40:56,617 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:40:56,617 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:40:56,620 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:40:56,620 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:40:56,620 [INFO] app.core.logging_config: Session opened
2025-07-14 21:40:56,620 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:40:56,621 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:40:56,621 [INFO] app.core.logging_config: Session closed
2025-07-14 21:41:03,057 [INFO] uvicorn.access: 172.20.0.1:45330 - "GET /docs HTTP/1.1" 200
2025-07-14 21:41:03,197 [INFO] uvicorn.access: 172.20.0.1:45330 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 21:41:31,316 [INFO] uvicorn.error: Shutting down
2025-07-14 21:41:31,416 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:41:31,417 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:41:31,417 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:41:31,417 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:41:31,418 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:41:31,419 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:41:31,419 [INFO] uvicorn.error: Finished server process [42]
2025-07-14 21:55:50,904 [INFO] uvicorn.error: Started server process [13]
2025-07-14 21:55:50,905 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:55:50,905 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:55:50,905 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:55:50,911 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:55:50,911 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:55:50,911 [INFO] app.core.logging_config: Session opened
2025-07-14 21:55:50,911 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:55:50,912 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:55:50,912 [INFO] app.core.logging_config: Session closed
2025-07-14 21:55:55,729 [INFO] uvicorn.error: Shutting down
2025-07-14 21:55:55,830 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:55:55,830 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:55:55,830 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:55:55,831 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:55:55,832 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:55:55,832 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:55:55,832 [INFO] uvicorn.error: Finished server process [13]
2025-07-14 21:55:56,586 [INFO] uvicorn.error: Started server process [15]
2025-07-14 21:55:56,586 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:55:56,587 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:55:56,587 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:55:56,590 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:55:56,590 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:55:56,590 [INFO] app.core.logging_config: Session opened
2025-07-14 21:55:56,590 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:55:56,591 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:55:56,591 [INFO] app.core.logging_config: Session closed
2025-07-14 21:56:00,734 [INFO] uvicorn.access: 172.20.0.1:33352 - "GET /docs HTTP/1.1" 200
2025-07-14 21:56:01,908 [INFO] uvicorn.access: 172.20.0.1:33352 - "GET /openapi.json HTTP/1.1" 200
2025-07-14 21:57:49,397 [INFO] uvicorn.error: Shutting down
2025-07-14 21:57:49,498 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:57:49,498 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:57:49,498 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:57:49,499 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:57:49,500 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:57:49,500 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:57:49,500 [INFO] uvicorn.error: Finished server process [15]
2025-07-14 21:57:50,291 [INFO] uvicorn.error: Started server process [17]
2025-07-14 21:57:50,291 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:57:50,291 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:57:50,291 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:57:50,294 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:57:50,295 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:57:50,295 [INFO] app.core.logging_config: Session opened
2025-07-14 21:57:50,295 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:57:50,295 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:57:50,295 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:07,745 [INFO] uvicorn.error: Shutting down
2025-07-14 21:58:07,846 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:58:07,846 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:58:07,846 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:58:07,847 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:58:07,847 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:58:07,848 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:58:07,848 [INFO] uvicorn.error: Finished server process [17]
2025-07-14 21:58:08,588 [INFO] uvicorn.error: Started server process [19]
2025-07-14 21:58:08,589 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:58:08,589 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:58:08,589 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:58:08,592 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:58:08,592 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:58:08,592 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:08,592 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:58:08,593 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:58:08,593 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:11,803 [INFO] uvicorn.error: Shutting down
2025-07-14 21:58:11,903 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:58:11,903 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:58:11,904 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:58:11,904 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:58:11,905 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:58:11,905 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:58:11,905 [INFO] uvicorn.error: Finished server process [19]
2025-07-14 21:58:12,663 [INFO] uvicorn.error: Started server process [21]
2025-07-14 21:58:12,663 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:58:12,664 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:58:12,664 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:58:12,667 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:58:12,668 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:58:12,668 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:12,668 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:58:12,668 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:58:12,668 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:19,788 [INFO] uvicorn.error: Shutting down
2025-07-14 21:58:19,889 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:58:19,889 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:58:19,889 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:58:19,889 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:58:19,890 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:58:19,891 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:58:19,891 [INFO] uvicorn.error: Finished server process [21]
2025-07-14 21:58:20,655 [INFO] uvicorn.error: Started server process [23]
2025-07-14 21:58:20,655 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:58:20,655 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:58:20,655 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:58:20,658 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:58:20,658 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:58:20,659 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:20,659 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:58:20,659 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:58:20,659 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:26,577 [INFO] uvicorn.error: Shutting down
2025-07-14 21:58:26,677 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:58:26,678 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:58:26,678 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:58:26,678 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:58:26,679 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:58:26,679 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:58:26,679 [INFO] uvicorn.error: Finished server process [23]
2025-07-14 21:58:27,431 [INFO] uvicorn.error: Started server process [25]
2025-07-14 21:58:27,431 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:58:27,431 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:58:27,431 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:58:27,435 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:58:27,435 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:58:27,436 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:27,436 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:58:27,436 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:58:27,436 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:32,250 [INFO] uvicorn.error: Shutting down
2025-07-14 21:58:32,350 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 21:58:32,351 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 21:58:32,351 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 21:58:32,351 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 21:58:32,352 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 21:58:32,353 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 21:58:32,353 [INFO] uvicorn.error: Finished server process [25]
2025-07-14 21:58:33,107 [INFO] uvicorn.error: Started server process [27]
2025-07-14 21:58:33,107 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 21:58:33,108 [INFO] app.core.logging_config: Initializing application...
2025-07-14 21:58:33,108 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 21:58:33,112 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 21:58:33,112 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 21:58:33,112 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:33,112 [INFO] app.core.logging_config: Database connection verified
2025-07-14 21:58:33,112 [INFO] uvicorn.error: Application startup complete.
2025-07-14 21:58:33,113 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:42,246 [INFO] app.core.logging_config: Session opened
2025-07-14 21:58:42,251 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-14 21:58:42,251 [INFO] app.service.task: Fetching all tasks
2025-07-14 21:58:42,289 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-14 21:58:42,290 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 21:58:42,292 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-14 21:58:42,292 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 21:58:42,294 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-14 21:58:42,295 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-14 21:58:42,296 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-14 21:58:42,304 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-14 21:58:42,304 [INFO] sqlalchemy.engine.Engine: [generated in 0.00025s] ()
2025-07-14 21:58:42,309 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-14 21:58:42,309 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-14 21:58:42,309 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-14 21:58:42,310 [INFO] app.core.logging_config: Session closed
2025-07-14 21:58:42,310 [INFO] uvicorn.access: 172.20.0.1:59660 - "GET /api/tasks HTTP/1.1" 200
2025-07-14 22:00:22,105 [INFO] uvicorn.error: Shutting down
2025-07-14 22:00:22,206 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:00:22,207 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:00:22,207 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:00:22,207 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:00:22,211 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:00:22,212 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:00:22,212 [INFO] uvicorn.error: Finished server process [27]
2025-07-14 22:00:22,975 [INFO] uvicorn.error: Started server process [30]
2025-07-14 22:00:22,976 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:00:22,976 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:00:22,976 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:00:22,980 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:00:22,980 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:00:22,980 [INFO] app.core.logging_config: Session opened
2025-07-14 22:00:22,980 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:00:22,980 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:00:22,981 [INFO] app.core.logging_config: Session closed
2025-07-14 22:00:46,749 [INFO] uvicorn.error: Shutting down
2025-07-14 22:00:46,850 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:00:46,850 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:00:46,850 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:00:46,851 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:00:46,851 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:00:46,851 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:00:46,851 [INFO] uvicorn.error: Finished server process [30]
2025-07-14 22:00:47,672 [INFO] uvicorn.error: Started server process [32]
2025-07-14 22:00:47,672 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:00:47,672 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:00:47,672 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:00:47,676 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:00:47,676 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:00:47,677 [INFO] app.core.logging_config: Session opened
2025-07-14 22:00:47,677 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:00:47,677 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:00:47,677 [INFO] app.core.logging_config: Session closed
2025-07-14 22:10:03,496 [INFO] uvicorn.error: Shutting down
2025-07-14 22:10:03,596 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:10:03,597 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:10:03,597 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:10:03,597 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:10:03,598 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:10:03,599 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:10:03,599 [INFO] uvicorn.error: Finished server process [32]
2025-07-14 22:10:04,346 [INFO] uvicorn.error: Started server process [34]
2025-07-14 22:10:04,346 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:10:04,347 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:10:04,347 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:10:04,352 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:10:04,352 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:10:04,352 [INFO] app.core.logging_config: Session opened
2025-07-14 22:10:04,352 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:10:04,352 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:10:04,353 [INFO] app.core.logging_config: Session closed
2025-07-14 22:14:26,075 [INFO] uvicorn.error: Shutting down
2025-07-14 22:14:26,175 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:14:26,175 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:14:26,176 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:14:26,176 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:14:26,177 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:14:26,178 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:14:26,178 [INFO] uvicorn.error: Finished server process [34]
2025-07-14 22:15:16,735 [INFO] uvicorn.error: Started server process [37]
2025-07-14 22:15:16,735 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:15:16,736 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:15:16,736 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:15:16,739 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:15:16,739 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:15:16,739 [INFO] app.core.logging_config: Session opened
2025-07-14 22:15:16,739 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:15:16,740 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:15:16,740 [INFO] app.core.logging_config: Session closed
2025-07-14 22:21:51,439 [INFO] uvicorn.error: Shutting down
2025-07-14 22:21:51,539 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:21:51,539 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:21:51,540 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:21:51,540 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:21:51,541 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:21:51,541 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:21:51,541 [INFO] uvicorn.error: Finished server process [37]
2025-07-14 22:21:52,287 [INFO] uvicorn.error: Started server process [39]
2025-07-14 22:21:52,287 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:21:52,287 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:21:52,287 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:21:52,290 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:21:52,291 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:21:52,291 [INFO] app.core.logging_config: Session opened
2025-07-14 22:21:52,291 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:21:52,291 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:21:52,292 [INFO] app.core.logging_config: Session closed
2025-07-14 22:21:53,797 [INFO] uvicorn.error: Shutting down
2025-07-14 22:21:53,898 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:21:53,898 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:21:53,898 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:21:53,898 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:21:53,899 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:21:53,899 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:21:53,899 [INFO] uvicorn.error: Finished server process [39]
2025-07-14 22:21:54,650 [INFO] uvicorn.error: Started server process [41]
2025-07-14 22:21:54,650 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:21:54,650 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:21:54,650 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:21:54,654 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:21:54,654 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:21:54,654 [INFO] app.core.logging_config: Session opened
2025-07-14 22:21:54,654 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:21:54,654 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:21:54,654 [INFO] app.core.logging_config: Session closed
2025-07-14 22:22:06,286 [INFO] uvicorn.error: Shutting down
2025-07-14 22:22:06,386 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:22:06,387 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:22:06,387 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:22:06,387 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:22:06,388 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:22:06,389 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:22:06,389 [INFO] uvicorn.error: Finished server process [41]
2025-07-14 22:22:07,161 [INFO] uvicorn.error: Started server process [43]
2025-07-14 22:22:07,161 [INFO] uvicorn.error: Waiting for application startup.
2025-07-14 22:22:07,161 [INFO] app.core.logging_config: Initializing application...
2025-07-14 22:22:07,161 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-14 22:22:07,165 [INFO] app.core.logging_config: Redis connected successfully
2025-07-14 22:22:07,165 [INFO] app.core.logging_config: Verifying database connection...
2025-07-14 22:22:07,165 [INFO] app.core.logging_config: Session opened
2025-07-14 22:22:07,165 [INFO] app.core.logging_config: Database connection verified
2025-07-14 22:22:07,165 [INFO] uvicorn.error: Application startup complete.
2025-07-14 22:22:07,166 [INFO] app.core.logging_config: Session closed
2025-07-14 22:26:31,192 [INFO] uvicorn.error: Shutting down
2025-07-14 22:26:31,293 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-14 22:26:31,293 [INFO] app.core.logging_config: Shutting down application...
2025-07-14 22:26:31,293 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-14 22:26:31,294 [INFO] app.core.logging_config: Disposing database engine...
2025-07-14 22:26:31,295 [INFO] app.core.logging_config: Shutdown completed
2025-07-14 22:26:31,295 [INFO] uvicorn.error: Application shutdown complete.
2025-07-14 22:26:31,295 [INFO] uvicorn.error: Finished server process [43]
2025-07-15 10:07:15,521 [INFO] uvicorn.error: Started server process [9]
2025-07-15 10:07:15,522 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:07:15,522 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:07:15,522 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:07:15,531 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:07:15,531 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:07:15,531 [INFO] app.core.logging_config: Session opened
2025-07-15 10:07:15,531 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:07:15,531 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:07:15,532 [INFO] app.core.logging_config: Session closed
2025-07-15 10:07:22,050 [INFO] uvicorn.error: Shutting down
2025-07-15 10:07:22,151 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:07:22,151 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:07:22,151 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:07:22,152 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:07:22,153 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:07:22,153 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:07:22,153 [INFO] uvicorn.error: Finished server process [9]
2025-07-15 10:07:43,584 [INFO] uvicorn.error: Started server process [9]
2025-07-15 10:07:43,584 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:07:43,585 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:07:43,585 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:07:43,594 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:07:43,594 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:07:43,594 [INFO] app.core.logging_config: Session opened
2025-07-15 10:07:43,594 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:07:43,594 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:07:43,595 [INFO] app.core.logging_config: Session closed
2025-07-15 10:16:37,464 [INFO] uvicorn.error: Shutting down
2025-07-15 10:16:37,565 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:16:37,565 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:16:37,565 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:16:37,566 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:16:37,566 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:16:37,566 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:16:37,567 [INFO] uvicorn.error: Finished server process [9]
2025-07-15 10:16:38,284 [INFO] uvicorn.error: Started server process [11]
2025-07-15 10:16:38,284 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:16:38,284 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:16:38,284 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:16:38,288 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:16:38,288 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:16:38,288 [INFO] app.core.logging_config: Session opened
2025-07-15 10:16:38,288 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:16:38,288 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:16:38,288 [INFO] app.core.logging_config: Session closed
2025-07-15 10:17:16,691 [INFO] uvicorn.error: Shutting down
2025-07-15 10:17:16,791 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:17:16,792 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:17:16,792 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:17:16,792 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:17:16,793 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:17:16,793 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:17:16,793 [INFO] uvicorn.error: Finished server process [11]
2025-07-15 10:17:17,528 [INFO] uvicorn.error: Started server process [13]
2025-07-15 10:17:17,528 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:17:17,528 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:17:17,528 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:17:17,531 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:17:17,531 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:17:17,531 [INFO] app.core.logging_config: Session opened
2025-07-15 10:17:17,532 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:17:17,532 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:17:17,532 [INFO] app.core.logging_config: Session closed
2025-07-15 10:17:33,677 [INFO] uvicorn.error: Shutting down
2025-07-15 10:17:33,777 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:17:33,777 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:17:33,777 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:17:33,778 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:17:33,778 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:17:33,779 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:17:33,779 [INFO] uvicorn.error: Finished server process [13]
2025-07-15 10:17:34,650 [INFO] uvicorn.error: Started server process [15]
2025-07-15 10:17:34,650 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:17:34,650 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:17:34,650 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:17:34,653 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:17:34,654 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:17:34,654 [INFO] app.core.logging_config: Session opened
2025-07-15 10:17:34,654 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:17:34,654 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:17:34,654 [INFO] app.core.logging_config: Session closed
2025-07-15 10:18:16,562 [INFO] uvicorn.error: Shutting down
2025-07-15 10:18:16,662 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:18:16,662 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:18:16,663 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:18:16,663 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:18:16,663 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:18:16,664 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:18:16,664 [INFO] uvicorn.error: Finished server process [15]
2025-07-15 10:18:17,655 [INFO] uvicorn.error: Started server process [17]
2025-07-15 10:18:17,655 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:18:17,656 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:18:17,656 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:18:17,662 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:18:17,662 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:18:17,662 [INFO] app.core.logging_config: Session opened
2025-07-15 10:18:17,662 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:18:17,663 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:18:17,663 [INFO] app.core.logging_config: Session closed
2025-07-15 10:18:26,889 [INFO] uvicorn.error: Shutting down
2025-07-15 10:18:26,990 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:18:26,990 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:18:26,990 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:18:26,990 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:18:26,991 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:18:26,991 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:18:26,991 [INFO] uvicorn.error: Finished server process [17]
2025-07-15 10:18:27,766 [INFO] uvicorn.error: Started server process [19]
2025-07-15 10:18:27,766 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:18:27,766 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:18:27,766 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:18:27,769 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:18:27,769 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:18:27,769 [INFO] app.core.logging_config: Session opened
2025-07-15 10:18:27,770 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:18:27,770 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:18:27,770 [INFO] app.core.logging_config: Session closed
2025-07-15 10:19:17,884 [INFO] app.core.logging_config: Session opened
2025-07-15 10:19:17,885 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-15 10:19:17,885 [INFO] app.service.task: Fetching all tasks
2025-07-15 10:19:17,922 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 10:19:17,923 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 10:19:17,924 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 10:19:17,924 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 10:19:17,925 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 10:19:17,926 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 10:19:17,926 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 10:19:17,934 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-15 10:19:17,935 [INFO] sqlalchemy.engine.Engine: [generated in 0.00060s] ()
2025-07-15 10:19:17,937 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-15 10:19:17,938 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-15 10:19:17,938 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 10:19:17,939 [INFO] app.core.logging_config: Session closed
2025-07-15 10:19:17,940 [INFO] uvicorn.access: 172.20.0.1:42936 - "GET /api/tasks HTTP/1.1" 200
2025-07-15 10:19:28,262 [INFO] app.core.logging_config: Session opened
2025-07-15 10:19:28,289 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 10:19:28,291 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 10:19:28,291 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ('user@example.com',)
2025-07-15 10:19:28,516 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-15 10:19:28,516 [INFO] sqlalchemy.engine.Engine: [generated in 0.00031s] ('string', 'user@example.com', '$2b$12$jrIybj/bX7HCXVhJEnAjBuSIIdLXih9cjW7sOE19OfRd4jcRkR1RO', True, False, 'USER', '["read"]', False)
2025-07-15 10:19:28,527 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-15 10:19:28,531 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 10:19:28,533 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 10:19:28,534 [INFO] sqlalchemy.engine.Engine: [generated in 0.00040s] (7,)
2025-07-15 10:19:28,537 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 10:19:28,538 [INFO] app.core.logging_config: Session closed
2025-07-15 10:19:28,538 [INFO] uvicorn.access: 172.20.0.1:57158 - "POST /register HTTP/1.1" 200
2025-07-15 10:19:45,567 [INFO] app.core.logging_config: Session opened
2025-07-15 10:19:45,569 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 10:19:45,569 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 10:19:45,570 [INFO] sqlalchemy.engine.Engine: [cached since 17.28s ago] ('user@example.com',)
2025-07-15 10:19:45,572 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 10:19:45,573 [INFO] app.core.logging_config: Session closed
2025-07-15 10:19:45,574 [INFO] uvicorn.access: 172.20.0.1:53160 - "POST /register HTTP/1.1" 400
2025-07-15 10:44:22,071 [INFO] app.core.logging_config: Session opened
2025-07-15 10:44:22,071 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-15 10:44:22,071 [INFO] app.service.task: Fetching all tasks
2025-07-15 10:44:22,074 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 10:44:22,074 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-15 10:44:22,075 [INFO] sqlalchemy.engine.Engine: [cached since 1504s ago] ()
2025-07-15 10:44:22,076 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-15 10:44:22,076 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-15 10:44:22,076 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 10:44:22,077 [INFO] app.core.logging_config: Session closed
2025-07-15 10:44:22,078 [INFO] uvicorn.access: 172.20.0.1:43790 - "GET /api/tasks HTTP/1.1" 200
2025-07-15 10:44:26,567 [INFO] uvicorn.access: 172.20.0.1:43790 - "OPTIONS /api/tasks HTTP/1.1" 200
2025-07-15 10:44:26,572 [INFO] app.core.logging_config: Session opened
2025-07-15 10:44:26,572 [INFO] app.core.logging_config: Session closed
2025-07-15 10:44:26,572 [INFO] uvicorn.access: 172.20.0.1:43794 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:44:27,407 [INFO] app.core.logging_config: Session opened
2025-07-15 10:44:27,408 [INFO] app.core.logging_config: Session closed
2025-07-15 10:44:27,409 [INFO] uvicorn.access: 172.20.0.1:43794 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:44:27,954 [INFO] app.core.logging_config: Session opened
2025-07-15 10:44:27,955 [INFO] app.core.logging_config: Session closed
2025-07-15 10:44:27,955 [INFO] uvicorn.access: 172.20.0.1:43794 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:44:28,267 [INFO] app.core.logging_config: Session opened
2025-07-15 10:44:28,267 [INFO] app.core.logging_config: Session closed
2025-07-15 10:44:28,268 [INFO] uvicorn.access: 172.20.0.1:43794 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:44:28,432 [INFO] app.core.logging_config: Session opened
2025-07-15 10:44:28,432 [INFO] app.core.logging_config: Session closed
2025-07-15 10:44:28,433 [INFO] uvicorn.access: 172.20.0.1:43794 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:44:28,572 [INFO] app.core.logging_config: Session opened
2025-07-15 10:44:28,573 [INFO] app.core.logging_config: Session closed
2025-07-15 10:44:28,573 [INFO] uvicorn.access: 172.20.0.1:43794 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:44:28,694 [INFO] app.core.logging_config: Session opened
2025-07-15 10:44:28,694 [INFO] app.core.logging_config: Session closed
2025-07-15 10:44:28,695 [INFO] uvicorn.access: 172.20.0.1:43794 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:44:28,820 [INFO] app.core.logging_config: Session opened
2025-07-15 10:44:28,821 [INFO] app.core.logging_config: Session closed
2025-07-15 10:44:28,821 [INFO] uvicorn.access: 172.20.0.1:43794 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:44:28,957 [INFO] app.core.logging_config: Session opened
2025-07-15 10:44:28,957 [INFO] app.core.logging_config: Session closed
2025-07-15 10:44:28,958 [INFO] uvicorn.access: 172.20.0.1:43794 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:45:07,198 [INFO] uvicorn.error: Shutting down
2025-07-15 10:45:07,298 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:45:07,299 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:45:07,299 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:45:07,299 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:45:07,303 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:45:07,304 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:45:07,304 [INFO] uvicorn.error: Finished server process [19]
2025-07-15 10:45:08,099 [INFO] uvicorn.error: Started server process [21]
2025-07-15 10:45:08,099 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:45:08,099 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:45:08,099 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:45:08,103 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:45:08,103 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:45:08,103 [INFO] app.core.logging_config: Session opened
2025-07-15 10:45:08,103 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:45:08,104 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:45:08,104 [INFO] app.core.logging_config: Session closed
2025-07-15 10:45:18,032 [INFO] uvicorn.error: Shutting down
2025-07-15 10:45:18,135 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:45:18,135 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:45:18,135 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:45:18,135 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:45:18,136 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:45:18,136 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:45:18,136 [INFO] uvicorn.error: Finished server process [21]
2025-07-15 10:45:19,066 [INFO] uvicorn.error: Started server process [23]
2025-07-15 10:45:19,067 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:45:19,067 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:45:19,067 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:45:19,073 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:45:19,073 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:45:19,073 [INFO] app.core.logging_config: Session opened
2025-07-15 10:45:19,073 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:45:19,074 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:45:19,074 [INFO] app.core.logging_config: Session closed
2025-07-15 10:45:20,365 [INFO] app.core.logging_config: Session opened
2025-07-15 10:45:20,365 [INFO] app.core.logging_config: Session closed
2025-07-15 10:45:20,366 [INFO] uvicorn.access: 172.20.0.1:45712 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:45:21,018 [INFO] app.core.logging_config: Session opened
2025-07-15 10:45:21,019 [INFO] app.core.logging_config: Session closed
2025-07-15 10:45:21,019 [INFO] uvicorn.access: 172.20.0.1:45712 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:45:21,271 [INFO] app.core.logging_config: Session opened
2025-07-15 10:45:21,272 [INFO] app.core.logging_config: Session closed
2025-07-15 10:45:21,272 [INFO] uvicorn.access: 172.20.0.1:45712 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 10:45:27,398 [INFO] uvicorn.error: Shutting down
2025-07-15 10:45:27,499 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:45:27,499 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:45:27,499 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:45:27,500 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:45:27,500 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:45:27,501 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:45:27,501 [INFO] uvicorn.error: Finished server process [23]
2025-07-15 10:45:28,298 [INFO] uvicorn.error: Started server process [25]
2025-07-15 10:45:28,298 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:45:28,298 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:45:28,298 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:45:28,302 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:45:28,302 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:45:28,302 [INFO] app.core.logging_config: Session opened
2025-07-15 10:45:28,303 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:45:28,303 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:45:28,303 [INFO] app.core.logging_config: Session closed
2025-07-15 10:45:55,584 [INFO] uvicorn.error: Shutting down
2025-07-15 10:45:55,684 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:45:55,685 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:45:55,685 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:45:55,685 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:45:55,686 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:45:55,686 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:45:55,687 [INFO] uvicorn.error: Finished server process [25]
2025-07-15 10:45:56,580 [INFO] uvicorn.error: Started server process [27]
2025-07-15 10:45:56,580 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:45:56,580 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:45:56,580 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:45:56,584 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:45:56,584 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:45:56,585 [INFO] app.core.logging_config: Session opened
2025-07-15 10:45:56,585 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:45:56,585 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:45:56,585 [INFO] app.core.logging_config: Session closed
2025-07-15 10:45:58,724 [INFO] app.core.logging_config: Session opened
2025-07-15 10:45:58,726 [INFO] app.handlers.tasks: Creating task with data: name='1' pomodoro_count=1 category_id=1 description=None
2025-07-15 10:45:58,726 [INFO] app.service.task: Creating task with data: {'name': '1', 'pomodoro_count': 1, 'category_id': 1, 'description': None}
2025-07-15 10:45:58,764 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 10:45:58,764 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 10:45:58,765 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 10:45:58,765 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 10:45:58,767 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 10:45:58,767 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 10:45:58,769 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 10:45:58,771 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-15 10:45:58,771 [INFO] sqlalchemy.engine.Engine: [generated in 0.00033s] ('1', 1, 1, None, None, False)
2025-07-15 10:45:58,774 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 10:45:58,775 [ERROR] app.service.task: Failed to create task: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, null, 1, 2025-07-15 10:45:58.77192, 2025-07-15 10:45:58.77192, f, null).
[SQL: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at]
[parameters: ('1', 1, 1, None, None, False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-15 10:45:58,775 [INFO] app.core.logging_config: Session closed
2025-07-15 10:45:58,776 [INFO] uvicorn.access: 172.20.0.1:47006 - "POST /api/tasks HTTP/1.1" 500
2025-07-15 10:45:58,776 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, null, 1, 2025-07-15 10:45:58.77192, 2025-07-15 10:45:58.77192, f, null).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, null, 1, 2025-07-15 10:45:58.77192, 2025-07-15 10:45:58.77192, f, null).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 21, in create_task
    task = await self.repository.create(Task(**task_data.model_dump()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 67, in create
    await self.db_session.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, null, 1, 2025-07-15 10:45:58.77192, 2025-07-15 10:45:58.77192, f, null).
[SQL: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at]
[parameters: ('1', 1, 1, None, None, False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 91, in create_task
    return await service.create_task(task_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 29, in create_task
    raise DatabaseError("Failed to create task") from e
app.core.exceptions.DatabaseError: Failed to create task
2025-07-15 10:46:00,470 [INFO] app.core.logging_config: Session opened
2025-07-15 10:46:00,470 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-15 10:46:00,471 [INFO] app.service.task: Fetching all tasks
2025-07-15 10:46:00,473 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 10:46:00,484 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-15 10:46:00,485 [INFO] sqlalchemy.engine.Engine: [generated in 0.00033s] ()
2025-07-15 10:46:00,488 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-15 10:46:00,488 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-15 10:46:00,488 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 10:46:00,489 [INFO] app.core.logging_config: Session closed
2025-07-15 10:46:00,490 [INFO] uvicorn.access: 172.20.0.1:44846 - "GET /api/tasks HTTP/1.1" 200
2025-07-15 10:46:02,588 [INFO] app.core.logging_config: Session opened
2025-07-15 10:46:02,589 [INFO] app.handlers.tasks: Creating task with data: name='1' pomodoro_count=1 category_id=1 description=None
2025-07-15 10:46:02,589 [INFO] app.service.task: Creating task with data: {'name': '1', 'pomodoro_count': 1, 'category_id': 1, 'description': None}
2025-07-15 10:46:02,590 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 10:46:02,591 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-15 10:46:02,591 [INFO] sqlalchemy.engine.Engine: [cached since 3.82s ago] ('1', 1, 1, None, None, False)
2025-07-15 10:46:02,592 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 10:46:02,593 [ERROR] app.service.task: Failed to create task: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, null, 2, 2025-07-15 10:46:02.592045, 2025-07-15 10:46:02.592045, f, null).
[SQL: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at]
[parameters: ('1', 1, 1, None, None, False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-15 10:46:02,593 [INFO] app.core.logging_config: Session closed
2025-07-15 10:46:02,594 [INFO] uvicorn.access: 172.20.0.1:44846 - "POST /api/tasks HTTP/1.1" 500
2025-07-15 10:46:02,594 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, null, 2, 2025-07-15 10:46:02.592045, 2025-07-15 10:46:02.592045, f, null).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, null, 2, 2025-07-15 10:46:02.592045, 2025-07-15 10:46:02.592045, f, null).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 21, in create_task
    task = await self.repository.create(Task(**task_data.model_dump()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 67, in create
    await self.db_session.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, null, 2, 2025-07-15 10:46:02.592045, 2025-07-15 10:46:02.592045, f, null).
[SQL: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at]
[parameters: ('1', 1, 1, None, None, False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 91, in create_task
    return await service.create_task(task_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 29, in create_task
    raise DatabaseError("Failed to create task") from e
app.core.exceptions.DatabaseError: Failed to create task
2025-07-15 10:47:28,737 [INFO] app.core.logging_config: Session opened
2025-07-15 10:47:28,737 [INFO] app.handlers.tasks: Creating task with data: name='1' pomodoro_count=1 category_id=1 description='1'
2025-07-15 10:47:28,737 [INFO] app.service.task: Creating task with data: {'name': '1', 'pomodoro_count': 1, 'category_id': 1, 'description': '1'}
2025-07-15 10:47:28,738 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 10:47:28,739 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-15 10:47:28,739 [INFO] sqlalchemy.engine.Engine: [cached since 89.97s ago] ('1', 1, 1, '1', None, False)
2025-07-15 10:47:28,740 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 10:47:28,741 [ERROR] app.service.task: Failed to create task: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, 1, 3, 2025-07-15 10:47:28.739718, 2025-07-15 10:47:28.739718, f, null).
[SQL: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at]
[parameters: ('1', 1, 1, '1', None, False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-15 10:47:28,741 [INFO] app.core.logging_config: Session closed
2025-07-15 10:47:28,741 [INFO] uvicorn.access: 172.20.0.1:35628 - "POST /api/tasks HTTP/1.1" 500
2025-07-15 10:47:28,742 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, 1, 3, 2025-07-15 10:47:28.739718, 2025-07-15 10:47:28.739718, f, null).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, 1, 3, 2025-07-15 10:47:28.739718, 2025-07-15 10:47:28.739718, f, null).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 21, in create_task
    task = await self.repository.create(Task(**task_data.model_dump()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 67, in create
    await self.db_session.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, 1, 3, 2025-07-15 10:47:28.739718, 2025-07-15 10:47:28.739718, f, null).
[SQL: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at]
[parameters: ('1', 1, 1, '1', None, False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 91, in create_task
    return await service.create_task(task_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 29, in create_task
    raise DatabaseError("Failed to create task") from e
app.core.exceptions.DatabaseError: Failed to create task
2025-07-15 10:47:42,600 [INFO] uvicorn.error: Shutting down
2025-07-15 10:47:42,700 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:47:42,700 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:47:42,701 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:47:42,701 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:47:42,708 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:47:42,708 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:47:42,708 [INFO] uvicorn.error: Finished server process [27]
2025-07-15 10:47:44,702 [INFO] uvicorn.error: Started server process [30]
2025-07-15 10:47:44,702 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:47:44,702 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:47:44,702 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:47:44,706 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:47:44,706 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:47:44,706 [INFO] app.core.logging_config: Session opened
2025-07-15 10:47:44,706 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:47:44,707 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:47:44,708 [INFO] app.core.logging_config: Session closed
2025-07-15 10:47:48,035 [INFO] app.core.logging_config: Session opened
2025-07-15 10:47:48,037 [INFO] app.handlers.tasks: Creating task with data: name='1' pomodoro_count=1 category_id=1 description='1'
2025-07-15 10:47:48,038 [INFO] app.service.task: Creating task with data: {'name': '1', 'pomodoro_count': 1, 'category_id': 1, 'description': '1'}
2025-07-15 10:47:48,085 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 10:47:48,085 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 10:47:48,086 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 10:47:48,087 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 10:47:48,087 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 10:47:48,088 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 10:47:48,089 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 10:47:48,092 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-15 10:47:48,092 [INFO] sqlalchemy.engine.Engine: [generated in 0.00060s] ('1', 1, 1, '1', None, False)
2025-07-15 10:47:48,095 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 10:47:48,095 [ERROR] app.service.task: Failed to create task: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, 1, 4, 2025-07-15 10:47:48.09314, 2025-07-15 10:47:48.09314, f, null).
[SQL: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at]
[parameters: ('1', 1, 1, '1', None, False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-15 10:47:48,096 [INFO] app.core.logging_config: Session closed
2025-07-15 10:47:48,096 [INFO] uvicorn.access: 172.20.0.1:39914 - "POST /api/tasks HTTP/1.1" 500
2025-07-15 10:47:48,097 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.NotNullViolationError: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, 1, 4, 2025-07-15 10:47:48.09314, 2025-07-15 10:47:48.09314, f, null).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, 1, 4, 2025-07-15 10:47:48.09314, 2025-07-15 10:47:48.09314, f, null).

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 21, in create_task
    task = await self.repository.create(Task(**task_data.model_dump()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 67, in create
    await self.db_session.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.NotNullViolationError'>: null value in column "owner_id" of relation "tasks" violates not-null constraint
DETAIL:  Failing row contains (1, 1, 1, 1, 4, 2025-07-15 10:47:48.09314, 2025-07-15 10:47:48.09314, f, null).
[SQL: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at]
[parameters: ('1', 1, 1, '1', None, False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 91, in create_task
    return await service.create_task(task_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 29, in create_task
    raise DatabaseError("Failed to create task") from e
app.core.exceptions.DatabaseError: Failed to create task
2025-07-15 10:53:25,622 [INFO] uvicorn.error: Shutting down
2025-07-15 10:53:25,723 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:53:25,723 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:53:25,723 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:53:25,724 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:53:25,728 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:53:25,728 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:53:25,728 [INFO] uvicorn.error: Finished server process [30]
2025-07-15 10:53:26,766 [INFO] uvicorn.error: Started server process [32]
2025-07-15 10:53:26,766 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:53:26,767 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:53:26,767 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:53:26,774 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:53:26,774 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:53:26,774 [INFO] app.core.logging_config: Session opened
2025-07-15 10:53:26,774 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:53:26,774 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:53:26,775 [INFO] app.core.logging_config: Session closed
2025-07-15 10:55:06,630 [INFO] uvicorn.error: Shutting down
2025-07-15 10:55:06,730 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 10:55:06,731 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 10:55:06,731 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 10:55:06,731 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 10:55:06,732 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 10:55:06,732 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 10:55:06,732 [INFO] uvicorn.error: Finished server process [32]
2025-07-15 10:55:07,582 [INFO] uvicorn.error: Started server process [34]
2025-07-15 10:55:07,583 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 10:55:07,583 [INFO] app.core.logging_config: Initializing application...
2025-07-15 10:55:07,583 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 10:55:07,589 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 10:55:07,590 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 10:55:07,590 [INFO] app.core.logging_config: Session opened
2025-07-15 10:55:07,590 [INFO] app.core.logging_config: Database connection verified
2025-07-15 10:55:07,591 [INFO] uvicorn.error: Application startup complete.
2025-07-15 10:55:07,591 [INFO] app.core.logging_config: Session closed
2025-07-15 11:08:39,114 [INFO] uvicorn.error: Shutting down
2025-07-15 11:08:39,214 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 11:08:39,215 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 11:08:39,215 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 11:08:39,215 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 11:08:39,216 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 11:08:39,216 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 11:08:39,216 [INFO] uvicorn.error: Finished server process [34]
2025-07-15 11:08:40,096 [INFO] uvicorn.error: Started server process [36]
2025-07-15 11:08:40,096 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 11:08:40,096 [INFO] app.core.logging_config: Initializing application...
2025-07-15 11:08:40,096 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 11:08:40,100 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 11:08:40,100 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 11:08:40,100 [INFO] app.core.logging_config: Session opened
2025-07-15 11:08:40,100 [INFO] app.core.logging_config: Database connection verified
2025-07-15 11:08:40,100 [INFO] uvicorn.error: Application startup complete.
2025-07-15 11:08:40,101 [INFO] app.core.logging_config: Session closed
2025-07-15 11:08:47,020 [INFO] uvicorn.error: Shutting down
2025-07-15 11:08:47,120 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 11:08:47,120 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 11:08:47,121 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 11:08:47,121 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 11:08:47,122 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 11:08:47,122 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 11:08:47,123 [INFO] uvicorn.error: Finished server process [36]
2025-07-15 11:08:47,951 [INFO] uvicorn.error: Started server process [38]
2025-07-15 11:08:47,951 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 11:08:47,952 [INFO] app.core.logging_config: Initializing application...
2025-07-15 11:08:47,952 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 11:08:47,956 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 11:08:47,956 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 11:08:47,957 [INFO] app.core.logging_config: Session opened
2025-07-15 11:08:47,957 [INFO] app.core.logging_config: Database connection verified
2025-07-15 11:08:47,957 [INFO] uvicorn.error: Application startup complete.
2025-07-15 11:08:47,957 [INFO] app.core.logging_config: Session closed
2025-07-15 11:16:03,142 [INFO] uvicorn.error: Shutting down
2025-07-15 11:16:03,243 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 11:16:03,243 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 11:16:03,244 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 11:16:03,244 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 11:16:03,245 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 11:16:03,246 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 11:16:03,246 [INFO] uvicorn.error: Finished server process [38]
2025-07-15 11:16:04,927 [INFO] uvicorn.error: Started server process [40]
2025-07-15 11:16:04,927 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 11:16:04,927 [INFO] app.core.logging_config: Initializing application...
2025-07-15 11:16:04,927 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 11:16:04,931 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 11:16:04,931 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 11:16:04,931 [INFO] app.core.logging_config: Session opened
2025-07-15 11:16:04,932 [INFO] app.core.logging_config: Database connection verified
2025-07-15 11:16:04,932 [INFO] uvicorn.error: Application startup complete.
2025-07-15 11:16:04,932 [INFO] app.core.logging_config: Session closed
2025-07-15 11:21:27,053 [INFO] uvicorn.error: Shutting down
2025-07-15 11:21:27,154 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 11:21:27,154 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 11:21:27,154 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 11:21:27,155 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 11:21:27,156 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 11:21:27,156 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 11:21:27,156 [INFO] uvicorn.error: Finished server process [40]
2025-07-15 11:21:27,920 [INFO] uvicorn.error: Started server process [42]
2025-07-15 11:21:27,920 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 11:21:27,921 [INFO] app.core.logging_config: Initializing application...
2025-07-15 11:21:27,921 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 11:21:27,925 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 11:21:27,925 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 11:21:27,925 [INFO] app.core.logging_config: Session opened
2025-07-15 11:21:27,925 [INFO] app.core.logging_config: Database connection verified
2025-07-15 11:21:27,925 [INFO] uvicorn.error: Application startup complete.
2025-07-15 11:21:27,926 [INFO] app.core.logging_config: Session closed
2025-07-15 11:23:57,028 [INFO] uvicorn.error: Shutting down
2025-07-15 11:23:57,128 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 11:23:57,128 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 11:23:57,128 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 11:23:57,129 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 11:23:57,129 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 11:23:57,129 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 11:23:57,129 [INFO] uvicorn.error: Finished server process [42]
2025-07-15 11:24:18,298 [INFO] uvicorn.error: Started server process [46]
2025-07-15 11:24:18,298 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 11:24:18,298 [INFO] app.core.logging_config: Initializing application...
2025-07-15 11:24:18,298 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 11:24:18,304 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 11:24:18,304 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 11:24:18,305 [INFO] app.core.logging_config: Session opened
2025-07-15 11:24:18,305 [INFO] app.core.logging_config: Database connection verified
2025-07-15 11:24:18,305 [INFO] uvicorn.error: Application startup complete.
2025-07-15 11:24:18,305 [INFO] app.core.logging_config: Session closed
2025-07-15 11:24:25,088 [INFO] uvicorn.access: 172.20.0.1:52902 - "GET /docs HTTP/1.1" 200
2025-07-15 11:24:25,274 [INFO] uvicorn.access: 172.20.0.1:52902 - "GET /openapi.json HTTP/1.1" 200
2025-07-15 11:24:39,388 [INFO] app.core.logging_config: Session opened
2025-07-15 11:24:39,431 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 11:24:39,431 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 11:24:39,433 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 11:24:39,433 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 11:24:39,435 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 11:24:39,435 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 11:24:39,436 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 11:24:39,442 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 11:24:39,442 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ('user@example.com',)
2025-07-15 11:24:39,455 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 11:24:39,456 [INFO] app.core.logging_config: Session closed
2025-07-15 11:24:39,457 [INFO] uvicorn.access: 172.20.0.1:34666 - "POST /auth/register HTTP/1.1" 400
2025-07-15 11:25:46,540 [INFO] uvicorn.error: Shutting down
2025-07-15 11:25:46,641 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 11:25:46,642 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 11:25:46,642 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 11:25:46,642 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 11:25:46,646 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 11:25:46,646 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 11:25:46,646 [INFO] uvicorn.error: Finished server process [46]
2025-07-15 11:25:47,410 [INFO] uvicorn.error: Started server process [48]
2025-07-15 11:25:47,410 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 11:25:47,411 [INFO] app.core.logging_config: Initializing application...
2025-07-15 11:25:47,411 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 11:25:47,414 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 11:25:47,414 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 11:25:47,414 [INFO] app.core.logging_config: Session opened
2025-07-15 11:25:47,414 [INFO] app.core.logging_config: Database connection verified
2025-07-15 11:25:47,414 [INFO] uvicorn.error: Application startup complete.
2025-07-15 11:25:47,415 [INFO] app.core.logging_config: Session closed
2025-07-15 11:25:50,624 [INFO] uvicorn.error: Shutting down
2025-07-15 11:25:50,725 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 11:25:50,725 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 11:25:50,725 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 11:25:50,725 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 11:25:50,726 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 11:25:50,726 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 11:25:50,726 [INFO] uvicorn.error: Finished server process [48]
2025-07-15 11:25:51,489 [INFO] uvicorn.error: Started server process [50]
2025-07-15 11:25:51,489 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 11:25:51,489 [INFO] app.core.logging_config: Initializing application...
2025-07-15 11:25:51,489 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 11:25:51,493 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 11:25:51,493 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 11:25:51,493 [INFO] app.core.logging_config: Session opened
2025-07-15 11:25:51,493 [INFO] app.core.logging_config: Database connection verified
2025-07-15 11:25:51,493 [INFO] uvicorn.error: Application startup complete.
2025-07-15 11:25:51,493 [INFO] app.core.logging_config: Session closed
2025-07-15 11:27:05,999 [INFO] uvicorn.error: Shutting down
2025-07-15 11:27:06,100 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 11:27:06,100 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 11:27:06,101 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 11:27:06,101 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 11:27:06,102 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 11:27:06,102 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 11:27:06,102 [INFO] uvicorn.error: Finished server process [50]
2025-07-15 11:27:06,910 [INFO] uvicorn.error: Started server process [52]
2025-07-15 11:27:06,910 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 11:27:06,911 [INFO] app.core.logging_config: Initializing application...
2025-07-15 11:27:06,911 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 11:27:06,915 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 11:27:06,915 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 11:27:06,915 [INFO] app.core.logging_config: Session opened
2025-07-15 11:27:06,915 [INFO] app.core.logging_config: Database connection verified
2025-07-15 11:27:06,915 [INFO] uvicorn.error: Application startup complete.
2025-07-15 11:27:06,916 [INFO] app.core.logging_config: Session closed
2025-07-15 11:28:08,809 [INFO] app.core.logging_config: Session opened
2025-07-15 11:28:08,842 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 11:28:08,843 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 11:28:08,844 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 11:28:08,844 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 11:28:08,846 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 11:28:08,847 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 11:28:08,849 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 11:28:08,858 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 11:28:08,858 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] ('string',)
2025-07-15 11:28:08,871 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 11:28:08,872 [INFO] app.core.logging_config: Session closed
2025-07-15 11:28:08,872 [INFO] uvicorn.access: 172.20.0.1:47728 - "POST /auth/login HTTP/1.1" 401
2025-07-15 11:30:17,727 [INFO] uvicorn.error: Shutting down
2025-07-15 11:30:17,827 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 11:30:17,828 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 11:30:17,828 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 11:30:17,828 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 11:30:17,832 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 11:30:17,832 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 11:30:17,832 [INFO] uvicorn.error: Finished server process [52]
2025-07-15 11:30:18,653 [INFO] uvicorn.error: Started server process [55]
2025-07-15 11:30:18,653 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 11:30:18,653 [INFO] app.core.logging_config: Initializing application...
2025-07-15 11:30:18,653 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 11:30:18,657 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 11:30:18,657 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 11:30:18,657 [INFO] app.core.logging_config: Session opened
2025-07-15 11:30:18,657 [INFO] app.core.logging_config: Database connection verified
2025-07-15 11:30:18,657 [INFO] uvicorn.error: Application startup complete.
2025-07-15 11:30:18,658 [INFO] app.core.logging_config: Session closed
2025-07-15 11:31:04,806 [INFO] uvicorn.access: 172.20.0.1:36084 - "POST /login HTTP/1.1" 404
2025-07-15 11:31:23,248 [INFO] uvicorn.access: 172.20.0.1:33194 - "POST /login HTTP/1.1" 404
2025-07-15 11:31:40,407 [INFO] uvicorn.access: 172.20.0.1:55122 - "POST /login HTTP/1.1" 404
2025-07-15 11:53:36,008 [INFO] uvicorn.error: Shutting down
2025-07-15 11:53:36,108 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 11:53:36,109 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 11:53:36,109 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 11:53:36,109 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 11:53:36,110 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 11:53:36,110 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 11:53:36,110 [INFO] uvicorn.error: Finished server process [55]
2025-07-15 11:56:06,134 [INFO] uvicorn.error: Started server process [61]
2025-07-15 11:56:06,134 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 11:56:06,134 [INFO] app.core.logging_config: Initializing application...
2025-07-15 11:56:06,134 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 11:56:06,137 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 11:56:06,137 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 11:56:06,138 [INFO] app.core.logging_config: Session opened
2025-07-15 11:56:06,138 [INFO] app.core.logging_config: Database connection verified
2025-07-15 11:56:06,138 [INFO] uvicorn.error: Application startup complete.
2025-07-15 11:56:06,138 [INFO] app.core.logging_config: Session closed
2025-07-15 12:18:08,848 [INFO] uvicorn.error: Shutting down
2025-07-15 12:18:08,951 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 12:18:08,951 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 12:18:08,951 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 12:18:08,952 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 12:18:08,953 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 12:18:08,954 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 12:18:08,954 [INFO] uvicorn.error: Finished server process [61]
2025-07-15 12:50:17,437 [INFO] uvicorn.error: Started server process [9]
2025-07-15 12:50:17,437 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 12:50:17,438 [INFO] app.core.logging_config: Initializing application...
2025-07-15 12:50:17,438 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 12:50:17,444 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 12:50:17,444 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 12:50:17,444 [INFO] app.core.logging_config: Session opened
2025-07-15 12:50:17,444 [INFO] app.core.logging_config: Database connection verified
2025-07-15 12:50:17,444 [INFO] uvicorn.error: Application startup complete.
2025-07-15 12:50:17,445 [INFO] app.core.logging_config: Session closed
2025-07-15 12:54:38,657 [INFO] uvicorn.error: Shutting down
2025-07-15 12:54:38,758 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 12:54:38,759 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 12:54:38,759 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 12:54:38,759 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 12:54:38,760 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 12:54:38,760 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 12:54:38,760 [INFO] uvicorn.error: Finished server process [9]
2025-07-15 12:54:39,636 [INFO] uvicorn.error: Started server process [11]
2025-07-15 12:54:39,636 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 12:54:39,637 [INFO] app.core.logging_config: Initializing application...
2025-07-15 12:54:39,637 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 12:54:39,641 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 12:54:39,641 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 12:54:39,642 [INFO] app.core.logging_config: Session opened
2025-07-15 12:54:39,642 [INFO] app.core.logging_config: Database connection verified
2025-07-15 12:54:39,642 [INFO] uvicorn.error: Application startup complete.
2025-07-15 12:54:39,643 [INFO] app.core.logging_config: Session closed
2025-07-15 12:54:47,368 [INFO] uvicorn.error: Shutting down
2025-07-15 12:54:47,469 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 12:54:47,469 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 12:54:47,469 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 12:54:47,470 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 12:54:47,471 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 12:54:47,471 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 12:54:47,471 [INFO] uvicorn.error: Finished server process [11]
2025-07-15 12:54:48,348 [INFO] uvicorn.error: Started server process [13]
2025-07-15 12:54:48,348 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 12:54:48,348 [INFO] app.core.logging_config: Initializing application...
2025-07-15 12:54:48,348 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 12:54:48,352 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 12:54:48,352 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 12:54:48,353 [INFO] app.core.logging_config: Session opened
2025-07-15 12:54:48,353 [INFO] app.core.logging_config: Database connection verified
2025-07-15 12:54:48,353 [INFO] uvicorn.error: Application startup complete.
2025-07-15 12:54:48,354 [INFO] app.core.logging_config: Session closed
2025-07-15 12:59:11,078 [INFO] uvicorn.error: Shutting down
2025-07-15 12:59:11,179 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 12:59:11,179 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 12:59:11,179 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 12:59:11,179 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 12:59:11,180 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 12:59:11,180 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 12:59:11,180 [INFO] uvicorn.error: Finished server process [13]
2025-07-15 12:59:11,944 [INFO] uvicorn.error: Started server process [15]
2025-07-15 12:59:11,944 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 12:59:11,944 [INFO] app.core.logging_config: Initializing application...
2025-07-15 12:59:11,944 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 12:59:11,947 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 12:59:11,948 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 12:59:11,948 [INFO] app.core.logging_config: Session opened
2025-07-15 12:59:11,948 [INFO] app.core.logging_config: Database connection verified
2025-07-15 12:59:11,948 [INFO] uvicorn.error: Application startup complete.
2025-07-15 12:59:11,948 [INFO] app.core.logging_config: Session closed
2025-07-15 13:00:40,831 [INFO] uvicorn.access: 172.20.0.1:56990 - "POST /auth/login HTTP/1.1" 404
2025-07-15 13:01:00,206 [INFO] uvicorn.access: 172.20.0.1:51626 - "POST /auth/login HTTP/1.1" 404
2025-07-15 13:01:45,814 [INFO] uvicorn.error: Shutting down
2025-07-15 13:01:45,914 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:01:45,915 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:01:45,915 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:01:45,915 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:01:45,916 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:01:45,916 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:01:45,916 [INFO] uvicorn.error: Finished server process [15]
2025-07-15 13:01:46,653 [INFO] uvicorn.error: Started server process [17]
2025-07-15 13:01:46,653 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:01:46,653 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:01:46,653 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:01:46,657 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:01:46,657 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:01:46,657 [INFO] app.core.logging_config: Session opened
2025-07-15 13:01:46,657 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:01:46,657 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:01:46,658 [INFO] app.core.logging_config: Session closed
2025-07-15 13:02:01,699 [INFO] uvicorn.error: Shutting down
2025-07-15 13:02:01,800 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:02:01,800 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:02:01,800 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:02:01,801 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:02:01,801 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:02:01,801 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:02:01,802 [INFO] uvicorn.error: Finished server process [17]
2025-07-15 13:02:02,634 [INFO] uvicorn.error: Started server process [19]
2025-07-15 13:02:02,635 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:02:02,635 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:02:02,635 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:02:02,639 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:02:02,639 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:02:02,639 [INFO] app.core.logging_config: Session opened
2025-07-15 13:02:02,639 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:02:02,639 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:02:02,640 [INFO] app.core.logging_config: Session closed
2025-07-15 13:02:03,299 [INFO] uvicorn.access: 172.20.0.1:33504 - "POST /auth/login HTTP/1.1" 404
2025-07-15 13:04:03,122 [INFO] uvicorn.access: 172.20.0.1:44526 - "POST /auth/login HTTP/1.1" 404
2025-07-15 13:04:21,138 [INFO] uvicorn.access: 172.20.0.1:41826 - "POST /auth/login HTTP/1.1" 404
2025-07-15 13:05:59,754 [INFO] uvicorn.access: 172.20.0.1:47854 - "POST /auth/register HTTP/1.1" 404
2025-07-15 13:06:43,649 [INFO] uvicorn.error: Shutting down
2025-07-15 13:06:43,750 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:06:43,750 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:06:43,750 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:06:43,751 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:06:43,752 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:06:43,752 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:06:43,752 [INFO] uvicorn.error: Finished server process [19]
2025-07-15 13:06:56,205 [INFO] uvicorn.error: Started server process [9]
2025-07-15 13:06:56,205 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:06:56,206 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:06:56,206 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:06:56,213 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:06:56,214 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:06:56,214 [INFO] app.core.logging_config: Session opened
2025-07-15 13:06:56,214 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:06:56,214 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:06:56,214 [INFO] app.core.logging_config: Session closed
2025-07-15 13:06:58,046 [INFO] uvicorn.access: 172.20.0.1:53842 - "POST /auth/register HTTP/1.1" 404
2025-07-15 13:08:17,639 [INFO] uvicorn.error: Shutting down
2025-07-15 13:08:17,739 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:08:17,740 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:08:17,740 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:08:17,740 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:08:17,741 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:08:17,741 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:08:17,741 [INFO] uvicorn.error: Finished server process [9]
2025-07-15 13:08:18,694 [INFO] uvicorn.error: Started server process [11]
2025-07-15 13:08:18,694 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:08:18,695 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:08:18,695 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:08:18,699 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:08:18,699 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:08:18,699 [INFO] app.core.logging_config: Session opened
2025-07-15 13:08:18,699 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:08:18,699 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:08:18,700 [INFO] app.core.logging_config: Session closed
2025-07-15 13:08:50,735 [INFO] app.core.logging_config: Session opened
2025-07-15 13:08:50,770 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 13:08:50,771 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:08:50,772 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 13:08:50,772 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:08:50,774 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 13:08:50,774 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:08:50,775 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 13:08:50,788 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 13:08:50,788 [INFO] sqlalchemy.engine.Engine: [generated in 0.00050s] ('user@example.com',)
2025-07-15 13:08:51,024 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 13:08:51,025 [INFO] app.core.logging_config: Session closed
2025-07-15 13:08:51,025 [INFO] uvicorn.access: 172.20.0.1:49410 - "POST /auth/login HTTP/1.1" 200
2025-07-15 13:08:57,562 [INFO] app.core.logging_config: Session opened
2025-07-15 13:08:57,585 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 13:08:57,586 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 13:08:57,586 [INFO] sqlalchemy.engine.Engine: [cached since 6.798s ago] ('ilya@example.com',)
2025-07-15 13:08:57,779 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-15 13:08:57,779 [INFO] sqlalchemy.engine.Engine: [generated in 0.00035s] ('boo', 'ilya@example.com', '$2b$12$w8MDSi4wsKy.nbtB4wu.5OwPlKQA82nwKP2SzW83eAFIxmP4rfId6', True, False, 'USER', '["read"]', False)
2025-07-15 13:08:57,790 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-15 13:08:57,793 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 13:08:57,795 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 13:08:57,796 [INFO] sqlalchemy.engine.Engine: [generated in 0.00040s] (8,)
2025-07-15 13:08:57,798 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 13:08:57,800 [INFO] app.core.logging_config: Session closed
2025-07-15 13:08:57,800 [INFO] uvicorn.access: 172.20.0.1:49422 - "POST /auth/register HTTP/1.1" 200
2025-07-15 13:09:03,140 [INFO] app.core.logging_config: Session opened
2025-07-15 13:09:03,142 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 13:09:03,143 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 13:09:03,143 [INFO] sqlalchemy.engine.Engine: [cached since 12.36s ago] ('ilya@example.com',)
2025-07-15 13:09:03,145 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 13:09:03,147 [INFO] app.core.logging_config: Session closed
2025-07-15 13:09:03,148 [INFO] uvicorn.access: 172.20.0.1:37550 - "POST /auth/register HTTP/1.1" 400
2025-07-15 13:09:22,997 [INFO] app.core.logging_config: Session opened
2025-07-15 13:09:22,998 [INFO] app.core.logging_config: Session closed
2025-07-15 13:09:22,998 [INFO] uvicorn.access: 172.20.0.1:54656 - "POST /auth/login HTTP/1.1" 422
2025-07-15 13:10:31,950 [INFO] uvicorn.access: 172.20.0.1:46120 - "GET /docs HTTP/1.1" 200
2025-07-15 13:10:32,050 [INFO] uvicorn.access: 172.20.0.1:46120 - "GET /openapi.json HTTP/1.1" 200
2025-07-15 13:12:07,512 [INFO] app.core.logging_config: Session opened
2025-07-15 13:12:07,514 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 13:12:07,514 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 13:12:07,515 [INFO] sqlalchemy.engine.Engine: [cached since 196.7s ago] ('ilya@example.com',)
2025-07-15 13:12:07,705 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 13:12:07,706 [INFO] app.core.logging_config: Session closed
2025-07-15 13:12:07,707 [INFO] uvicorn.access: 172.20.0.1:33828 - "POST /auth/login HTTP/1.1" 200
2025-07-15 13:14:22,789 [INFO] uvicorn.error: Shutting down
2025-07-15 13:14:22,890 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:14:22,890 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:14:22,891 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:14:22,891 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:14:22,896 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:14:22,896 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:14:22,897 [INFO] uvicorn.error: Finished server process [11]
2025-07-15 13:14:23,658 [INFO] uvicorn.error: Started server process [14]
2025-07-15 13:14:23,658 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:14:23,658 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:14:23,658 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:14:23,662 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:14:23,662 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:14:23,662 [INFO] app.core.logging_config: Session opened
2025-07-15 13:14:23,662 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:14:23,662 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:14:23,663 [INFO] app.core.logging_config: Session closed
2025-07-15 13:14:43,917 [INFO] uvicorn.error: Shutting down
2025-07-15 13:14:44,018 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:14:44,018 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:14:44,018 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:14:44,019 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:14:44,020 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:14:44,020 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:14:44,020 [INFO] uvicorn.error: Finished server process [14]
2025-07-15 13:14:44,941 [INFO] uvicorn.error: Started server process [16]
2025-07-15 13:14:44,941 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:14:44,942 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:14:44,942 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:14:44,946 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:14:44,946 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:14:44,946 [INFO] app.core.logging_config: Session opened
2025-07-15 13:14:44,947 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:14:44,947 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:14:44,947 [INFO] app.core.logging_config: Session closed
2025-07-15 13:14:57,192 [INFO] uvicorn.access: 172.20.0.1:58172 - "GET /docs HTTP/1.1" 200
2025-07-15 13:14:57,273 [INFO] uvicorn.access: 172.20.0.1:58172 - "GET /openapi.json HTTP/1.1" 200
2025-07-15 13:15:22,540 [INFO] app.core.logging_config: Session opened
2025-07-15 13:15:22,575 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 13:15:22,575 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:15:22,576 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 13:15:22,577 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:15:22,578 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 13:15:22,578 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:15:22,579 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 13:15:22,585 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 13:15:22,585 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ('ilya@example.com',)
2025-07-15 13:15:22,807 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 13:15:22,807 [INFO] app.core.logging_config: Session closed
2025-07-15 13:15:22,808 [INFO] uvicorn.access: 172.20.0.1:58178 - "POST /auth/login HTTP/1.1" 500
2025-07-15 13:15:22,808 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 40, in login_user
    response.set_cookie(key="access_token", value=access_token, httponly=True, samesite="lax")
    ^^^^^^^^
NameError: name 'response' is not defined. Did you mean: 'Response'?
2025-07-15 13:15:52,705 [INFO] uvicorn.error: Shutting down
2025-07-15 13:15:52,806 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:15:52,806 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:15:52,806 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:15:52,807 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:15:52,812 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:15:52,812 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:15:52,812 [INFO] uvicorn.error: Finished server process [16]
2025-07-15 13:16:45,256 [INFO] uvicorn.error: Started server process [20]
2025-07-15 13:16:45,256 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:16:45,257 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:16:45,257 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:16:45,260 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:16:45,260 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:16:45,260 [INFO] app.core.logging_config: Session opened
2025-07-15 13:16:45,260 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:16:45,260 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:16:45,260 [INFO] app.core.logging_config: Session closed
2025-07-15 13:16:48,992 [INFO] app.core.logging_config: Session opened
2025-07-15 13:16:49,026 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 13:16:49,026 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:16:49,028 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 13:16:49,028 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:16:49,029 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 13:16:49,029 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:16:49,030 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 13:16:49,038 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 13:16:49,038 [INFO] sqlalchemy.engine.Engine: [generated in 0.00037s] ('ilya@example.com',)
2025-07-15 13:16:49,262 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 13:16:49,262 [INFO] app.core.logging_config: Session closed
2025-07-15 13:16:49,263 [INFO] uvicorn.access: 172.20.0.1:52890 - "POST /auth/login HTTP/1.1" 500
2025-07-15 13:16:49,263 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 40, in login_user
    response.set_cookie(key="access_token", value=access_token, httponly=True, samesite="lax")
    ^^^^^^^^
NameError: name 'response' is not defined. Did you mean: 'Response'?
2025-07-15 13:17:33,685 [INFO] uvicorn.error: Shutting down
2025-07-15 13:17:33,786 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:17:33,786 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:17:33,787 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:17:33,787 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:17:33,792 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:17:33,793 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:17:33,793 [INFO] uvicorn.error: Finished server process [20]
2025-07-15 13:17:34,544 [INFO] uvicorn.error: Started server process [23]
2025-07-15 13:17:34,544 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:17:34,545 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:17:34,545 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:17:34,548 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:17:34,548 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:17:34,548 [INFO] app.core.logging_config: Session opened
2025-07-15 13:17:34,548 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:17:34,548 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:17:34,549 [INFO] app.core.logging_config: Session closed
2025-07-15 13:17:36,607 [INFO] app.core.logging_config: Session opened
2025-07-15 13:17:36,648 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 13:17:36,648 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:17:36,650 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 13:17:36,650 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:17:36,652 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 13:17:36,652 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:17:36,654 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 13:17:36,668 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 13:17:36,668 [INFO] sqlalchemy.engine.Engine: [generated in 0.00038s] ('ilya@example.com',)
2025-07-15 13:17:36,894 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 13:17:36,894 [INFO] app.core.logging_config: Session closed
2025-07-15 13:17:36,895 [INFO] uvicorn.access: 172.20.0.1:48912 - "POST /auth/login HTTP/1.1" 200
2025-07-15 13:17:40,593 [INFO] uvicorn.access: 172.20.0.1:48912 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-07-15 13:18:55,655 [INFO] uvicorn.access: 172.20.0.1:43248 - "GET /health HTTP/1.1" 200
2025-07-15 13:21:13,531 [INFO] uvicorn.error: Shutting down
2025-07-15 13:21:13,632 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:21:13,632 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:21:13,632 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:21:13,633 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:21:13,637 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:21:13,637 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:21:13,638 [INFO] uvicorn.error: Finished server process [23]
2025-07-15 13:21:14,361 [INFO] uvicorn.error: Started server process [26]
2025-07-15 13:21:14,361 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:21:14,362 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:21:14,362 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:21:14,365 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:21:14,365 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:21:14,365 [INFO] app.core.logging_config: Session opened
2025-07-15 13:21:14,365 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:21:14,366 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:21:14,366 [INFO] app.core.logging_config: Session closed
2025-07-15 13:23:04,120 [INFO] uvicorn.error: Shutting down
2025-07-15 13:23:04,221 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:23:04,221 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:23:04,221 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:23:04,222 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:23:04,222 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:23:04,222 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:23:04,223 [INFO] uvicorn.error: Finished server process [26]
2025-07-15 13:23:05,006 [INFO] uvicorn.error: Started server process [28]
2025-07-15 13:23:05,006 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:23:05,006 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:23:05,006 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:23:05,010 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:23:05,010 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:23:05,010 [INFO] app.core.logging_config: Session opened
2025-07-15 13:23:05,011 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:23:05,011 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:23:05,011 [INFO] app.core.logging_config: Session closed
2025-07-15 13:23:15,038 [INFO] uvicorn.error: Shutting down
2025-07-15 13:23:15,138 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:23:15,139 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:23:15,139 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:23:15,139 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:23:15,140 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:23:15,140 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:23:15,140 [INFO] uvicorn.error: Finished server process [28]
2025-07-15 13:23:15,883 [INFO] uvicorn.error: Started server process [30]
2025-07-15 13:23:15,883 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:23:15,883 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:23:15,883 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:23:15,886 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:23:15,886 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:23:15,886 [INFO] app.core.logging_config: Session opened
2025-07-15 13:23:15,887 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:23:15,887 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:23:15,887 [INFO] app.core.logging_config: Session closed
2025-07-15 13:27:14,020 [INFO] uvicorn.error: Shutting down
2025-07-15 13:27:14,120 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:27:14,121 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:27:14,121 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:27:14,121 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:27:14,122 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:27:14,122 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:27:14,122 [INFO] uvicorn.error: Finished server process [30]
2025-07-15 13:27:14,884 [INFO] uvicorn.error: Started server process [32]
2025-07-15 13:27:14,884 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:27:14,885 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:27:14,885 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:27:14,888 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:27:14,888 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:27:14,888 [INFO] app.core.logging_config: Session opened
2025-07-15 13:27:14,889 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:27:14,889 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:27:14,889 [INFO] app.core.logging_config: Session closed
2025-07-15 13:28:12,546 [INFO] uvicorn.error: Shutting down
2025-07-15 13:28:12,647 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:28:12,647 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:28:12,647 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:28:12,648 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:28:12,649 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:28:12,649 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:28:12,649 [INFO] uvicorn.error: Finished server process [32]
2025-07-15 13:28:29,570 [INFO] uvicorn.error: Started server process [35]
2025-07-15 13:28:29,571 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:28:29,571 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:28:29,571 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:28:29,574 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:28:29,574 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:28:29,575 [INFO] app.core.logging_config: Session opened
2025-07-15 13:28:29,575 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:28:29,575 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:28:29,575 [INFO] app.core.logging_config: Session closed
2025-07-15 13:29:05,188 [INFO] uvicorn.error: Shutting down
2025-07-15 13:29:05,289 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 13:29:05,289 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 13:29:05,290 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 13:29:05,290 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 13:29:05,291 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 13:29:05,291 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 13:29:05,291 [INFO] uvicorn.error: Finished server process [35]
2025-07-15 13:29:06,016 [INFO] uvicorn.error: Started server process [37]
2025-07-15 13:29:06,017 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 13:29:06,017 [INFO] app.core.logging_config: Initializing application...
2025-07-15 13:29:06,017 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 13:29:06,021 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 13:29:06,021 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 13:29:06,021 [INFO] app.core.logging_config: Session opened
2025-07-15 13:29:06,021 [INFO] app.core.logging_config: Database connection verified
2025-07-15 13:29:06,021 [INFO] uvicorn.error: Application startup complete.
2025-07-15 13:29:06,022 [INFO] app.core.logging_config: Session closed
2025-07-15 13:33:47,010 [INFO] uvicorn.access: 172.20.0.1:34256 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-07-15 13:37:54,422 [INFO] app.core.logging_config: Session opened
2025-07-15 13:37:54,422 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-15 13:37:54,423 [INFO] app.service.task: Fetching all tasks
2025-07-15 13:37:54,453 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 13:37:54,454 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:37:54,455 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 13:37:54,455 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:37:54,456 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 13:37:54,456 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 13:37:54,457 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 13:37:54,464 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-15 13:37:54,465 [INFO] sqlalchemy.engine.Engine: [generated in 0.00021s] ()
2025-07-15 13:37:54,467 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-15 13:37:54,467 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-15 13:37:54,467 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 13:37:54,468 [INFO] app.core.logging_config: Session closed
2025-07-15 13:37:54,468 [INFO] uvicorn.access: 172.20.0.1:49566 - "GET /api/tasks HTTP/1.1" 200
2025-07-15 13:37:56,044 [INFO] app.core.logging_config: Session opened
2025-07-15 13:37:56,044 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-15 13:37:56,044 [INFO] app.service.task: Fetching all tasks
2025-07-15 13:37:56,047 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 13:37:56,047 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-15 13:37:56,048 [INFO] sqlalchemy.engine.Engine: [cached since 1.583s ago] ()
2025-07-15 13:37:56,050 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-15 13:37:56,050 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-15 13:37:56,051 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 13:37:56,052 [INFO] app.core.logging_config: Session closed
2025-07-15 13:37:56,053 [INFO] uvicorn.access: 172.20.0.1:49566 - "GET /api/tasks HTTP/1.1" 200
2025-07-15 13:38:07,914 [INFO] app.core.logging_config: Session opened
2025-07-15 13:38:07,914 [INFO] app.core.logging_config: Session closed
2025-07-15 13:38:07,915 [INFO] uvicorn.access: 172.20.0.1:35440 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 14:25:07,221 [INFO] uvicorn.error: Shutting down
2025-07-15 14:25:07,322 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 14:25:07,322 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 14:25:07,322 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 14:25:07,323 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 14:25:07,329 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 14:25:07,329 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 14:25:07,330 [INFO] uvicorn.error: Finished server process [37]
2025-07-15 14:25:09,057 [INFO] uvicorn.error: Started server process [39]
2025-07-15 14:25:09,058 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 14:25:09,058 [INFO] app.core.logging_config: Initializing application...
2025-07-15 14:25:09,058 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 14:25:09,065 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 14:25:09,065 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 14:25:09,066 [INFO] app.core.logging_config: Session opened
2025-07-15 14:25:09,066 [INFO] app.core.logging_config: Database connection verified
2025-07-15 14:25:09,066 [INFO] uvicorn.error: Application startup complete.
2025-07-15 14:25:09,067 [INFO] app.core.logging_config: Session closed
2025-07-15 14:25:21,201 [INFO] uvicorn.error: Shutting down
2025-07-15 14:25:21,302 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 14:25:21,302 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 14:25:21,302 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 14:25:21,303 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 14:25:21,303 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 14:25:21,303 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 14:25:21,304 [INFO] uvicorn.error: Finished server process [39]
2025-07-15 14:25:22,302 [INFO] uvicorn.error: Started server process [41]
2025-07-15 14:25:22,302 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 14:25:22,303 [INFO] app.core.logging_config: Initializing application...
2025-07-15 14:25:22,303 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 14:25:22,307 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 14:25:22,308 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 14:25:22,308 [INFO] app.core.logging_config: Session opened
2025-07-15 14:25:22,308 [INFO] app.core.logging_config: Database connection verified
2025-07-15 14:25:22,308 [INFO] uvicorn.error: Application startup complete.
2025-07-15 14:25:22,309 [INFO] app.core.logging_config: Session closed
2025-07-15 14:25:47,173 [INFO] uvicorn.error: Shutting down
2025-07-15 14:25:47,274 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 14:25:47,275 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 14:25:47,275 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 14:25:47,276 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 14:25:47,278 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 14:25:47,279 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 14:25:47,279 [INFO] uvicorn.error: Finished server process [41]
2025-07-15 14:25:48,975 [INFO] uvicorn.error: Started server process [43]
2025-07-15 14:25:48,976 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 14:25:48,976 [INFO] app.core.logging_config: Initializing application...
2025-07-15 14:25:48,976 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 14:25:48,982 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 14:25:48,982 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 14:25:48,982 [INFO] app.core.logging_config: Session opened
2025-07-15 14:25:48,983 [INFO] app.core.logging_config: Database connection verified
2025-07-15 14:25:48,983 [INFO] uvicorn.error: Application startup complete.
2025-07-15 14:25:48,984 [INFO] app.core.logging_config: Session closed
2025-07-15 14:26:08,540 [INFO] uvicorn.error: Shutting down
2025-07-15 14:26:08,641 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 14:26:08,642 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 14:26:08,642 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 14:26:08,644 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 14:26:08,645 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 14:26:08,646 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 14:26:08,646 [INFO] uvicorn.error: Finished server process [43]
2025-07-15 14:26:09,543 [INFO] uvicorn.error: Started server process [45]
2025-07-15 14:26:09,543 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 14:26:09,543 [INFO] app.core.logging_config: Initializing application...
2025-07-15 14:26:09,543 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 14:26:09,547 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 14:26:09,548 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 14:26:09,548 [INFO] app.core.logging_config: Session opened
2025-07-15 14:26:09,548 [INFO] app.core.logging_config: Database connection verified
2025-07-15 14:26:09,548 [INFO] uvicorn.error: Application startup complete.
2025-07-15 14:26:09,549 [INFO] app.core.logging_config: Session closed
2025-07-15 14:27:27,266 [INFO] uvicorn.error: Shutting down
2025-07-15 14:27:27,367 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 14:27:27,367 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 14:27:27,367 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 14:27:27,368 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 14:27:27,369 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 14:27:27,369 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 14:27:27,369 [INFO] uvicorn.error: Finished server process [45]
2025-07-15 14:27:28,194 [INFO] uvicorn.error: Started server process [47]
2025-07-15 14:27:28,195 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 14:27:28,195 [INFO] app.core.logging_config: Initializing application...
2025-07-15 14:27:28,195 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 14:27:28,199 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 14:27:28,199 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 14:27:28,199 [INFO] app.core.logging_config: Session opened
2025-07-15 14:27:28,199 [INFO] app.core.logging_config: Database connection verified
2025-07-15 14:27:28,200 [INFO] uvicorn.error: Application startup complete.
2025-07-15 14:27:28,200 [INFO] app.core.logging_config: Session closed
2025-07-15 14:27:35,050 [INFO] uvicorn.access: 172.20.0.1:38872 - "GET /docs HTTP/1.1" 200
2025-07-15 14:27:35,181 [INFO] uvicorn.access: 172.20.0.1:38872 - "GET /openapi.json HTTP/1.1" 200
2025-07-15 14:27:43,226 [INFO] app.core.logging_config: Session opened
2025-07-15 14:27:43,241 [INFO] app.core.logging_config: Session closed
2025-07-15 14:27:43,242 [INFO] uvicorn.access: 172.20.0.1:38874 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 14:27:50,498 [INFO] app.core.logging_config: Session opened
2025-07-15 14:27:50,499 [INFO] app.core.logging_config: Session closed
2025-07-15 14:27:50,500 [INFO] uvicorn.access: 172.20.0.1:47608 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 14:28:21,717 [INFO] app.core.logging_config: Session opened
2025-07-15 14:28:21,755 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 14:28:21,756 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 14:28:21,757 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 14:28:21,758 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 14:28:21,759 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 14:28:21,759 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 14:28:21,760 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 14:28:21,768 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 14:28:21,768 [INFO] sqlalchemy.engine.Engine: [generated in 0.00072s] ('ilya@example.com',)
2025-07-15 14:28:21,990 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 14:28:21,990 [INFO] app.core.logging_config: Session closed
2025-07-15 14:28:21,991 [INFO] uvicorn.access: 172.20.0.1:42492 - "POST /auth/login HTTP/1.1" 200
2025-07-15 14:28:32,700 [INFO] app.core.logging_config: Session opened
2025-07-15 14:28:32,701 [INFO] app.core.logging_config: Session closed
2025-07-15 14:28:32,702 [INFO] uvicorn.access: 172.20.0.1:59190 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 14:28:47,673 [INFO] uvicorn.access: 172.20.0.1:49574 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-07-15 14:28:59,016 [INFO] uvicorn.error: Shutting down
2025-07-15 14:28:59,117 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 14:28:59,117 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 14:28:59,117 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 14:28:59,118 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 14:28:59,123 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 14:28:59,123 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 14:28:59,123 [INFO] uvicorn.error: Finished server process [47]
2025-07-15 14:28:59,970 [INFO] uvicorn.error: Started server process [50]
2025-07-15 14:28:59,970 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 14:28:59,971 [INFO] app.core.logging_config: Initializing application...
2025-07-15 14:28:59,971 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 14:28:59,976 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 14:28:59,976 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 14:28:59,976 [INFO] app.core.logging_config: Session opened
2025-07-15 14:28:59,976 [INFO] app.core.logging_config: Database connection verified
2025-07-15 14:28:59,976 [INFO] uvicorn.error: Application startup complete.
2025-07-15 14:28:59,977 [INFO] app.core.logging_config: Session closed
2025-07-15 18:31:16,014 [INFO] uvicorn.access: 172.20.0.1:36410 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-07-15 18:36:01,880 [INFO] app.core.logging_config: Session opened
2025-07-15 18:36:01,891 [INFO] app.core.logging_config: Session closed
2025-07-15 18:36:01,892 [INFO] uvicorn.access: 172.20.0.1:60740 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:36:26,028 [INFO] uvicorn.access: 172.20.0.1:50180 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-07-15 18:38:34,923 [INFO] app.core.logging_config: Session opened
2025-07-15 18:38:35,007 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 18:38:35,008 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 18:38:35,011 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 18:38:35,011 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 18:38:35,013 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 18:38:35,014 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 18:38:35,016 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 18:38:35,032 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 18:38:35,033 [INFO] sqlalchemy.engine.Engine: [generated in 0.00060s] ('ilya@example.com',)
2025-07-15 18:38:35,058 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 18:38:35,059 [INFO] app.core.logging_config: Session closed
2025-07-15 18:38:35,059 [INFO] uvicorn.access: 172.20.0.1:52856 - "POST /auth/login HTTP/1.1" 401
2025-07-15 18:38:44,423 [INFO] app.core.logging_config: Session opened
2025-07-15 18:38:44,426 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 18:38:44,427 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 18:38:44,427 [INFO] sqlalchemy.engine.Engine: [cached since 9.395s ago] ('ilya@example.com',)
2025-07-15 18:38:44,430 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 18:38:44,431 [INFO] app.core.logging_config: Session closed
2025-07-15 18:38:44,432 [INFO] uvicorn.access: 172.20.0.1:42850 - "POST /auth/login HTTP/1.1" 401
2025-07-15 18:38:59,292 [INFO] app.core.logging_config: Session opened
2025-07-15 18:38:59,309 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 18:38:59,310 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 18:38:59,310 [INFO] sqlalchemy.engine.Engine: [cached since 24.28s ago] ('user@example.com',)
2025-07-15 18:38:59,919 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-15 18:38:59,920 [INFO] sqlalchemy.engine.Engine: [generated in 0.00066s] ('string', 'user@example.com', '$2b$12$ccnRf.mWXL8KINNJC8peyu0I02o6qPcmHJkfARSK1xPDKvQZZwf9m', True, False, 'USER', '["read"]', False)
2025-07-15 18:38:59,923 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-15 18:38:59,935 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 18:38:59,939 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 18:38:59,940 [INFO] sqlalchemy.engine.Engine: [generated in 0.00051s] (9,)
2025-07-15 18:38:59,945 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 18:38:59,946 [INFO] app.core.logging_config: Session closed
2025-07-15 18:38:59,946 [INFO] uvicorn.access: 172.20.0.1:34320 - "POST /auth/register HTTP/1.1" 200
2025-07-15 18:39:19,786 [INFO] app.core.logging_config: Session opened
2025-07-15 18:39:19,788 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 18:39:19,788 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 18:39:19,789 [INFO] sqlalchemy.engine.Engine: [cached since 44.76s ago] ('user@example.com',)
2025-07-15 18:39:20,338 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 18:39:20,339 [INFO] app.core.logging_config: Session closed
2025-07-15 18:39:20,340 [INFO] uvicorn.access: 172.20.0.1:34456 - "POST /auth/login HTTP/1.1" 401
2025-07-15 18:39:42,771 [INFO] app.core.logging_config: Session opened
2025-07-15 18:39:42,774 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 18:39:42,775 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 18:39:42,775 [INFO] sqlalchemy.engine.Engine: [cached since 67.74s ago] ('user@example.com',)
2025-07-15 18:39:43,318 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 18:39:43,319 [INFO] app.core.logging_config: Session closed
2025-07-15 18:39:43,320 [INFO] uvicorn.access: 172.20.0.1:39112 - "POST /auth/login HTTP/1.1" 200
2025-07-15 18:40:11,816 [INFO] app.core.logging_config: Session opened
2025-07-15 18:40:11,817 [INFO] app.core.logging_config: Session closed
2025-07-15 18:40:11,818 [INFO] uvicorn.access: 172.20.0.1:39814 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:40:22,771 [INFO] uvicorn.access: 172.20.0.1:43302 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-07-15 18:41:42,320 [INFO] uvicorn.error: Shutting down
2025-07-15 18:41:42,421 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:41:42,421 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:41:42,422 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:41:42,422 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:41:42,431 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:41:42,432 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:41:42,432 [INFO] uvicorn.error: Finished server process [50]
2025-07-15 18:41:44,317 [INFO] uvicorn.error: Started server process [53]
2025-07-15 18:41:44,318 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:41:44,318 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:41:44,318 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:41:44,324 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:41:44,324 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:41:44,324 [INFO] app.core.logging_config: Session opened
2025-07-15 18:41:44,324 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:41:44,325 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:41:44,325 [INFO] app.core.logging_config: Session closed
2025-07-15 18:41:47,363 [INFO] app.core.logging_config: Session opened
2025-07-15 18:41:47,373 [INFO] app.core.logging_config: Session closed
2025-07-15 18:41:47,374 [INFO] uvicorn.access: 172.20.0.1:33782 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:42:24,559 [INFO] uvicorn.error: Shutting down
2025-07-15 18:42:24,660 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:42:24,661 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:42:24,661 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:42:24,662 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:42:24,663 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:42:24,663 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:42:24,663 [INFO] uvicorn.error: Finished server process [53]
2025-07-15 18:42:26,249 [INFO] uvicorn.error: Started server process [55]
2025-07-15 18:42:26,249 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:42:26,250 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:42:26,250 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:42:26,255 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:42:26,255 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:42:26,256 [INFO] app.core.logging_config: Session opened
2025-07-15 18:42:26,256 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:42:26,256 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:42:26,257 [INFO] app.core.logging_config: Session closed
2025-07-15 18:42:42,713 [INFO] uvicorn.error: Shutting down
2025-07-15 18:42:42,813 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:42:42,814 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:42:42,814 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:42:42,815 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:42:42,816 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:42:42,817 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:42:42,817 [INFO] uvicorn.error: Finished server process [55]
2025-07-15 18:42:44,570 [INFO] uvicorn.error: Started server process [57]
2025-07-15 18:42:44,570 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:42:44,570 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:42:44,571 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:42:44,576 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:42:44,576 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:42:44,576 [INFO] app.core.logging_config: Session opened
2025-07-15 18:42:44,577 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:42:44,577 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:42:44,577 [INFO] app.core.logging_config: Session closed
2025-07-15 18:42:44,732 [INFO] app.core.logging_config: Session opened
2025-07-15 18:42:44,740 [INFO] app.core.logging_config: Session closed
2025-07-15 18:42:44,741 [INFO] uvicorn.access: 172.20.0.1:34450 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:43:28,738 [INFO] uvicorn.error: Shutting down
2025-07-15 18:43:28,839 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:43:28,839 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:43:28,839 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:43:28,840 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:43:28,841 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:43:28,842 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:43:28,842 [INFO] uvicorn.error: Finished server process [57]
2025-07-15 18:43:30,792 [INFO] uvicorn.error: Started server process [59]
2025-07-15 18:43:30,792 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:43:30,793 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:43:30,793 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:43:30,799 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:43:30,799 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:43:30,799 [INFO] app.core.logging_config: Session opened
2025-07-15 18:43:30,799 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:43:30,800 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:43:30,801 [INFO] app.core.logging_config: Session closed
2025-07-15 18:43:32,500 [INFO] app.core.logging_config: Session opened
2025-07-15 18:43:32,508 [INFO] app.core.logging_config: Session closed
2025-07-15 18:43:32,509 [INFO] uvicorn.access: 172.20.0.1:39732 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:45:13,037 [INFO] app.core.logging_config: Session opened
2025-07-15 18:45:13,037 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-15 18:45:13,038 [INFO] app.service.task: Fetching all tasks
2025-07-15 18:45:13,073 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 18:45:13,073 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 18:45:13,075 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 18:45:13,075 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 18:45:13,076 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 18:45:13,076 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 18:45:13,077 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 18:45:13,090 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-15 18:45:13,090 [INFO] sqlalchemy.engine.Engine: [generated in 0.00052s] ()
2025-07-15 18:45:13,093 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-15 18:45:13,093 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-15 18:45:13,094 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 18:45:13,094 [INFO] app.core.logging_config: Session closed
2025-07-15 18:45:13,095 [INFO] uvicorn.access: 172.20.0.1:41160 - "GET /api/tasks HTTP/1.1" 200
2025-07-15 18:45:18,250 [INFO] uvicorn.error: Shutting down
2025-07-15 18:45:18,351 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:45:18,351 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:45:18,351 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:45:18,352 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:45:18,356 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:45:18,356 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:45:18,356 [INFO] uvicorn.error: Finished server process [59]
2025-07-15 18:45:48,120 [INFO] uvicorn.error: Started server process [9]
2025-07-15 18:45:48,120 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:45:48,120 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:45:48,121 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:45:48,140 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:45:48,140 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:45:48,140 [INFO] app.core.logging_config: Session opened
2025-07-15 18:45:48,140 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:45:48,141 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:45:48,142 [INFO] app.core.logging_config: Session closed
2025-07-15 18:47:05,505 [INFO] app.core.logging_config: Session opened
2025-07-15 18:47:05,513 [INFO] app.core.logging_config: Session closed
2025-07-15 18:47:05,514 [INFO] uvicorn.access: 172.20.0.1:54164 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:48:51,456 [INFO] app.core.logging_config: Session opened
2025-07-15 18:48:51,457 [INFO] app.core.logging_config: Session closed
2025-07-15 18:48:51,458 [INFO] uvicorn.access: 172.20.0.1:45510 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:49:28,291 [INFO] uvicorn.error: Shutting down
2025-07-15 18:49:28,391 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:49:28,392 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:49:28,392 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:49:28,392 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:49:28,393 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:49:28,394 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:49:28,395 [INFO] uvicorn.error: Finished server process [9]
2025-07-15 18:49:29,163 [INFO] uvicorn.error: Started server process [11]
2025-07-15 18:49:29,164 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:49:29,164 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:49:29,164 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:49:29,168 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:49:29,168 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:49:29,168 [INFO] app.core.logging_config: Session opened
2025-07-15 18:49:29,168 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:49:29,169 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:49:29,169 [INFO] app.core.logging_config: Session closed
2025-07-15 18:49:39,600 [INFO] uvicorn.error: Shutting down
2025-07-15 18:49:39,701 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:49:39,702 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:49:39,702 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:49:39,703 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:49:39,704 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:49:39,704 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:49:39,705 [INFO] uvicorn.error: Finished server process [11]
2025-07-15 18:49:41,567 [INFO] uvicorn.error: Started server process [13]
2025-07-15 18:49:41,567 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:49:41,568 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:49:41,568 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:49:41,574 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:49:41,574 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:49:41,574 [INFO] app.core.logging_config: Session opened
2025-07-15 18:49:41,575 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:49:41,575 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:49:41,576 [INFO] app.core.logging_config: Session closed
2025-07-15 18:49:44,176 [INFO] app.core.logging_config: Session opened
2025-07-15 18:49:44,185 [INFO] app.core.logging_config: Session closed
2025-07-15 18:49:44,186 [INFO] uvicorn.access: 172.20.0.1:38952 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:50:11,486 [INFO] uvicorn.error: Shutting down
2025-07-15 18:50:11,587 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:50:11,587 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:50:11,588 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:50:11,588 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:50:11,590 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:50:11,590 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:50:11,590 [INFO] uvicorn.error: Finished server process [13]
2025-07-15 18:50:13,474 [INFO] uvicorn.error: Started server process [15]
2025-07-15 18:50:13,474 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:50:13,474 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:50:13,474 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:50:13,481 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:50:13,481 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:50:13,481 [INFO] app.core.logging_config: Session opened
2025-07-15 18:50:13,481 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:50:13,482 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:50:13,482 [INFO] app.core.logging_config: Session closed
2025-07-15 18:50:14,050 [INFO] app.core.logging_config: Session opened
2025-07-15 18:50:14,058 [INFO] app.core.logging_config: Session closed
2025-07-15 18:50:14,059 [INFO] uvicorn.access: 172.20.0.1:36158 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:50:35,661 [INFO] uvicorn.error: Shutting down
2025-07-15 18:50:35,761 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:50:35,762 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:50:35,762 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:50:35,763 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:50:35,764 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:50:35,765 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:50:35,765 [INFO] uvicorn.error: Finished server process [15]
2025-07-15 18:50:37,588 [INFO] uvicorn.error: Started server process [17]
2025-07-15 18:50:37,588 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:50:37,589 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:50:37,589 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:50:37,593 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:50:37,593 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:50:37,594 [INFO] app.core.logging_config: Session opened
2025-07-15 18:50:37,594 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:50:37,594 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:50:37,595 [INFO] app.core.logging_config: Session closed
2025-07-15 18:50:37,722 [INFO] app.core.logging_config: Session opened
2025-07-15 18:50:37,729 [INFO] app.core.logging_config: Session closed
2025-07-15 18:50:37,729 [INFO] uvicorn.access: 172.20.0.1:48710 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:50:57,265 [INFO] uvicorn.error: Shutting down
2025-07-15 18:50:57,367 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:50:57,367 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:50:57,367 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:50:57,368 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:50:57,369 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:50:57,370 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:50:57,370 [INFO] uvicorn.error: Finished server process [17]
2025-07-15 18:50:59,421 [INFO] uvicorn.error: Started server process [19]
2025-07-15 18:50:59,422 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:50:59,422 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:50:59,423 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:50:59,429 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:50:59,429 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:50:59,430 [INFO] app.core.logging_config: Session opened
2025-07-15 18:50:59,430 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:50:59,430 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:50:59,431 [INFO] app.core.logging_config: Session closed
2025-07-15 18:50:59,633 [INFO] uvicorn.error: Shutting down
2025-07-15 18:50:59,734 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:50:59,734 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:50:59,734 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:50:59,735 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:50:59,736 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:50:59,736 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:50:59,736 [INFO] uvicorn.error: Finished server process [19]
2025-07-15 18:51:00,972 [INFO] uvicorn.error: Started server process [21]
2025-07-15 18:51:00,973 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:51:00,973 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:51:00,973 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:51:00,977 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:51:00,977 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:51:00,977 [INFO] app.core.logging_config: Session opened
2025-07-15 18:51:00,977 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:51:00,978 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:51:00,978 [INFO] app.core.logging_config: Session closed
2025-07-15 18:51:03,270 [INFO] app.core.logging_config: Session opened
2025-07-15 18:51:03,281 [INFO] app.core.logging_config: Session closed
2025-07-15 18:51:03,283 [INFO] uvicorn.access: 172.20.0.1:37760 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:51:38,509 [INFO] uvicorn.error: Shutting down
2025-07-15 18:51:38,609 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:51:38,610 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:51:38,610 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:51:38,611 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:51:38,612 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:51:38,612 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:51:38,612 [INFO] uvicorn.error: Finished server process [21]
2025-07-15 18:51:40,682 [INFO] uvicorn.error: Started server process [23]
2025-07-15 18:51:40,682 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:51:40,683 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:51:40,683 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:51:40,689 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:51:40,689 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:51:40,690 [INFO] app.core.logging_config: Session opened
2025-07-15 18:51:40,690 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:51:40,690 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:51:40,691 [INFO] app.core.logging_config: Session closed
2025-07-15 18:51:42,498 [INFO] uvicorn.error: Shutting down
2025-07-15 18:51:42,599 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:51:42,599 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:51:42,599 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:51:42,600 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:51:42,601 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:51:42,602 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:51:42,602 [INFO] uvicorn.error: Finished server process [23]
2025-07-15 18:51:43,917 [INFO] uvicorn.error: Started server process [25]
2025-07-15 18:51:43,917 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:51:43,917 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:51:43,917 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:51:43,921 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:51:43,921 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:51:43,921 [INFO] app.core.logging_config: Session opened
2025-07-15 18:51:43,922 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:51:43,922 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:51:43,922 [INFO] app.core.logging_config: Session closed
2025-07-15 18:51:46,407 [INFO] app.core.logging_config: Session opened
2025-07-15 18:51:46,409 [INFO] app.core.logging_config: Session closed
2025-07-15 18:51:46,410 [INFO] uvicorn.access: 172.20.0.1:41258 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:52:01,288 [INFO] uvicorn.error: Shutting down
2025-07-15 18:52:01,389 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:52:01,389 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:52:01,390 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:52:01,390 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:52:01,391 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:52:01,392 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:52:01,392 [INFO] uvicorn.error: Finished server process [25]
2025-07-15 18:52:03,151 [INFO] uvicorn.error: Started server process [27]
2025-07-15 18:52:03,152 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:52:03,152 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:52:03,152 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:52:03,157 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:52:03,157 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:52:03,157 [INFO] app.core.logging_config: Session opened
2025-07-15 18:52:03,157 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:52:03,157 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:52:03,158 [INFO] app.core.logging_config: Session closed
2025-07-15 18:52:03,944 [INFO] app.core.logging_config: Session opened
2025-07-15 18:52:03,945 [INFO] app.core.logging_config: Session closed
2025-07-15 18:52:03,946 [INFO] uvicorn.access: 172.20.0.1:55830 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:52:19,717 [INFO] uvicorn.error: Shutting down
2025-07-15 18:52:19,818 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:52:19,818 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:52:19,819 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:52:19,819 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:52:19,820 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:52:19,821 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:52:19,821 [INFO] uvicorn.error: Finished server process [27]
2025-07-15 18:52:21,763 [INFO] uvicorn.error: Started server process [29]
2025-07-15 18:52:21,763 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:52:21,764 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:52:21,764 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:52:21,769 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:52:21,769 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:52:21,769 [INFO] app.core.logging_config: Session opened
2025-07-15 18:52:21,769 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:52:21,770 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:52:21,771 [INFO] app.core.logging_config: Session closed
2025-07-15 18:52:21,773 [INFO] app.core.logging_config: Session opened
2025-07-15 18:52:21,781 [INFO] app.core.logging_config: Session closed
2025-07-15 18:52:21,782 [INFO] uvicorn.access: 172.20.0.1:35668 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:53:54,272 [INFO] uvicorn.error: Shutting down
2025-07-15 18:53:54,373 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:53:54,373 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:53:54,373 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:53:54,374 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:53:54,375 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:53:54,375 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:53:54,375 [INFO] uvicorn.error: Finished server process [29]
2025-07-15 18:53:55,883 [INFO] uvicorn.error: Started server process [31]
2025-07-15 18:53:55,884 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:53:55,884 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:53:55,884 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:53:55,890 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:53:55,891 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:53:55,891 [INFO] app.core.logging_config: Session opened
2025-07-15 18:53:55,892 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:53:55,892 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:53:55,893 [INFO] app.core.logging_config: Session closed
2025-07-15 18:54:01,712 [INFO] uvicorn.error: Shutting down
2025-07-15 18:54:01,813 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:54:01,813 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:54:01,814 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:54:01,814 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:54:01,815 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:54:01,815 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:54:01,815 [INFO] uvicorn.error: Finished server process [31]
2025-07-15 18:54:02,769 [INFO] uvicorn.error: Started server process [33]
2025-07-15 18:54:02,769 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:54:02,770 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:54:02,770 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:54:02,774 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:54:02,775 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:54:02,775 [INFO] app.core.logging_config: Session opened
2025-07-15 18:54:02,775 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:54:02,775 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:54:02,776 [INFO] app.core.logging_config: Session closed
2025-07-15 18:54:11,307 [INFO] app.core.logging_config: Session opened
2025-07-15 18:54:11,330 [INFO] app.core.logging_config: Session closed
2025-07-15 18:54:11,332 [INFO] uvicorn.access: 172.20.0.1:55374 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 18:54:28,757 [INFO] uvicorn.error: Shutting down
2025-07-15 18:54:28,858 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:54:28,858 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:54:28,858 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:54:28,859 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:54:28,860 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:54:28,860 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:54:28,860 [INFO] uvicorn.error: Finished server process [33]
2025-07-15 18:54:30,120 [INFO] uvicorn.error: Started server process [35]
2025-07-15 18:54:30,120 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:54:30,120 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:54:30,120 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:54:30,125 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:54:30,125 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:54:30,125 [INFO] app.core.logging_config: Session opened
2025-07-15 18:54:30,125 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:54:30,125 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:54:30,126 [INFO] app.core.logging_config: Session closed
2025-07-15 18:55:44,458 [INFO] uvicorn.access: 172.20.0.1:59812 - "POST /api/tasks HTTP/1.1" 422
2025-07-15 18:56:56,873 [INFO] uvicorn.error: Shutting down
2025-07-15 18:56:56,974 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:56:56,974 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:56:56,975 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:56:56,975 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:56:56,976 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:56:56,976 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:56:56,976 [INFO] uvicorn.error: Finished server process [35]
2025-07-15 18:56:57,975 [INFO] uvicorn.error: Started server process [37]
2025-07-15 18:56:57,975 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:56:57,976 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:56:57,976 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:56:57,980 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:56:57,980 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:56:57,981 [INFO] app.core.logging_config: Session opened
2025-07-15 18:56:57,981 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:56:57,981 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:56:57,982 [INFO] app.core.logging_config: Session closed
2025-07-15 18:57:03,984 [INFO] uvicorn.access: 172.20.0.1:55706 - "POST /api/tasks HTTP/1.1" 422
2025-07-15 18:57:04,102 [INFO] uvicorn.error: Shutting down
2025-07-15 18:57:04,203 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:57:04,203 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:57:04,204 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:57:04,204 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:57:04,205 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:57:04,205 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:57:04,205 [INFO] uvicorn.error: Finished server process [37]
2025-07-15 18:57:05,370 [INFO] uvicorn.error: Started server process [39]
2025-07-15 18:57:05,370 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:57:05,370 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:57:05,371 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:57:05,377 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:57:05,377 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:57:05,377 [INFO] app.core.logging_config: Session opened
2025-07-15 18:57:05,378 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:57:05,378 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:57:05,379 [INFO] app.core.logging_config: Session closed
2025-07-15 18:58:03,559 [INFO] uvicorn.error: Shutting down
2025-07-15 18:58:03,660 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:58:03,660 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:58:03,661 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:58:03,661 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:58:03,663 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:58:03,663 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:58:03,663 [INFO] uvicorn.error: Finished server process [39]
2025-07-15 18:58:05,847 [INFO] uvicorn.error: Started server process [41]
2025-07-15 18:58:05,847 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:58:05,848 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:58:05,848 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:58:05,854 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:58:05,854 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:58:05,854 [INFO] app.core.logging_config: Session opened
2025-07-15 18:58:05,854 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:58:05,855 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:58:05,855 [INFO] app.core.logging_config: Session closed
2025-07-15 18:58:10,939 [INFO] uvicorn.access: 172.20.0.1:38472 - "POST /api/tasks HTTP/1.1" 422
2025-07-15 18:58:45,839 [INFO] uvicorn.access: 172.20.0.1:36628 - "POST /api/tasks HTTP/1.1" 422
2025-07-15 18:59:24,114 [INFO] uvicorn.error: Shutting down
2025-07-15 18:59:24,214 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 18:59:24,215 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 18:59:24,215 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 18:59:24,215 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 18:59:24,216 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 18:59:24,217 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 18:59:24,217 [INFO] uvicorn.error: Finished server process [41]
2025-07-15 18:59:42,991 [INFO] uvicorn.error: Started server process [9]
2025-07-15 18:59:42,992 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 18:59:42,992 [INFO] app.core.logging_config: Initializing application...
2025-07-15 18:59:42,992 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 18:59:42,998 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 18:59:42,998 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 18:59:42,998 [INFO] app.core.logging_config: Session opened
2025-07-15 18:59:42,998 [INFO] app.core.logging_config: Database connection verified
2025-07-15 18:59:42,999 [INFO] uvicorn.error: Application startup complete.
2025-07-15 18:59:42,999 [INFO] app.core.logging_config: Session closed
2025-07-15 19:00:07,261 [INFO] uvicorn.error: Shutting down
2025-07-15 19:00:07,361 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:00:07,362 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:00:07,362 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:00:07,362 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:00:07,363 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:00:07,363 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:00:07,364 [INFO] uvicorn.error: Finished server process [9]
2025-07-15 19:00:08,297 [INFO] uvicorn.error: Started server process [11]
2025-07-15 19:00:08,297 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:00:08,297 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:00:08,297 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:00:08,301 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:00:08,301 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:00:08,301 [INFO] app.core.logging_config: Session opened
2025-07-15 19:00:08,301 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:00:08,302 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:00:08,302 [INFO] app.core.logging_config: Session closed
2025-07-15 19:00:54,522 [INFO] uvicorn.error: Shutting down
2025-07-15 19:00:54,623 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:00:54,623 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:00:54,623 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:00:54,624 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:00:54,624 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:00:54,625 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:00:54,625 [INFO] uvicorn.error: Finished server process [11]
2025-07-15 19:00:55,514 [INFO] uvicorn.error: Started server process [13]
2025-07-15 19:00:55,514 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:00:55,514 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:00:55,514 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:00:55,518 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:00:55,518 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:00:55,518 [INFO] app.core.logging_config: Session opened
2025-07-15 19:00:55,518 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:00:55,518 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:00:55,519 [INFO] app.core.logging_config: Session closed
2025-07-15 19:01:06,344 [INFO] uvicorn.access: 172.20.0.1:34688 - "POST /api/tasks HTTP/1.1" 422
2025-07-15 19:01:13,667 [INFO] uvicorn.error: Shutting down
2025-07-15 19:01:13,767 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:01:13,768 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:01:13,768 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:01:13,768 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:01:13,769 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:01:13,769 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:01:13,769 [INFO] uvicorn.error: Finished server process [13]
2025-07-15 19:02:37,407 [INFO] uvicorn.error: Started server process [9]
2025-07-15 19:02:37,407 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:02:37,408 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:02:37,408 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:02:37,413 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:02:37,414 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:02:37,414 [INFO] app.core.logging_config: Session opened
2025-07-15 19:02:37,414 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:02:37,414 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:02:37,415 [INFO] app.core.logging_config: Session closed
2025-07-15 19:02:52,685 [INFO] uvicorn.access: 172.20.0.1:58760 - "POST /api/tasks HTTP/1.1" 422
2025-07-15 19:03:04,590 [INFO] uvicorn.error: Shutting down
2025-07-15 19:03:04,691 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:03:04,691 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:03:04,691 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:03:04,691 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:03:04,692 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:03:04,692 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:03:04,693 [INFO] uvicorn.error: Finished server process [9]
2025-07-15 19:03:05,717 [INFO] uvicorn.error: Started server process [11]
2025-07-15 19:03:05,717 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:03:05,717 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:03:05,718 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:03:05,721 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:03:05,721 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:03:05,722 [INFO] app.core.logging_config: Session opened
2025-07-15 19:03:05,722 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:03:05,722 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:03:05,722 [INFO] app.core.logging_config: Session closed
2025-07-15 19:03:16,654 [INFO] uvicorn.error: Shutting down
2025-07-15 19:03:16,754 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:03:16,754 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:03:16,755 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:03:16,755 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:03:16,755 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:03:16,755 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:03:16,755 [INFO] uvicorn.error: Finished server process [11]
2025-07-15 19:03:27,320 [INFO] uvicorn.error: Started server process [9]
2025-07-15 19:03:27,320 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:03:27,321 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:03:27,321 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:03:27,329 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:03:27,329 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:03:27,330 [INFO] app.core.logging_config: Session opened
2025-07-15 19:03:27,330 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:03:27,330 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:03:27,331 [INFO] app.core.logging_config: Session closed
2025-07-15 19:03:44,463 [INFO] uvicorn.access: 172.20.0.1:46314 - "POST /api/tasks HTTP/1.1" 422
2025-07-15 19:04:44,666 [INFO] uvicorn.access: 172.20.0.1:33530 - "POST /api/tasks HTTP/1.1" 422
2025-07-15 19:05:09,340 [INFO] uvicorn.access: 172.20.0.1:51446 - "POST /api/tasks HTTP/1.1" 422
2025-07-15 19:05:54,224 [INFO] uvicorn.error: Shutting down
2025-07-15 19:05:54,325 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:05:54,325 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:05:54,326 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:05:54,326 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:05:54,327 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:05:54,328 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:05:54,328 [INFO] uvicorn.error: Finished server process [9]
2025-07-15 19:05:55,313 [INFO] uvicorn.error: Started server process [11]
2025-07-15 19:05:55,313 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:05:55,314 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:05:55,314 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:05:55,318 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:05:55,319 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:05:55,319 [INFO] app.core.logging_config: Session opened
2025-07-15 19:05:55,319 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:05:55,319 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:05:55,320 [INFO] app.core.logging_config: Session closed
2025-07-15 19:06:00,185 [INFO] uvicorn.access: 172.20.0.1:52318 - "POST /api/tasks HTTP/1.1" 422
2025-07-15 19:06:20,692 [INFO] app.core.logging_config: Session opened
2025-07-15 19:06:20,693 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:06:20,693 [INFO] app.core.auth: Decoding token
2025-07-15 19:06:20,702 [ERROR] app.core.auth: Token decoding error: Subject must be a string.
2025-07-15 19:06:20,703 [ERROR] app.core.authz: Invalid token
2025-07-15 19:06:20,704 [INFO] app.core.logging_config: Session closed
2025-07-15 19:06:20,705 [INFO] uvicorn.access: 172.20.0.1:36838 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 19:06:36,021 [INFO] app.core.logging_config: Session opened
2025-07-15 19:06:36,078 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 19:06:36,079 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:06:36,082 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 19:06:36,083 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:06:36,085 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 19:06:36,085 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:06:36,086 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:06:36,099 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 19:06:36,099 [INFO] sqlalchemy.engine.Engine: [generated in 0.00040s] ('string',)
2025-07-15 19:06:36,127 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:06:36,127 [INFO] app.core.logging_config: Session closed
2025-07-15 19:06:36,128 [INFO] uvicorn.access: 172.20.0.1:37308 - "POST /auth/login HTTP/1.1" 401
2025-07-15 19:06:54,194 [INFO] app.core.logging_config: Session opened
2025-07-15 19:06:54,196 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:06:54,197 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 19:06:54,197 [INFO] sqlalchemy.engine.Engine: [cached since 18.1s ago] ('user@example.com',)
2025-07-15 19:06:54,208 [INFO] app.core.auth: Verifying password
2025-07-15 19:06:54,453 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:06:54,453 [INFO] app.core.logging_config: Session closed
2025-07-15 19:06:54,454 [INFO] uvicorn.access: 172.20.0.1:50082 - "POST /auth/login HTTP/1.1" 401
2025-07-15 19:07:03,135 [INFO] app.core.logging_config: Session opened
2025-07-15 19:07:03,137 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:07:03,138 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 19:07:03,138 [INFO] sqlalchemy.engine.Engine: [cached since 27.04s ago] ('user@example.com',)
2025-07-15 19:07:03,140 [INFO] app.core.auth: Verifying password
2025-07-15 19:07:03,362 [INFO] app.core.auth: Creating access token
2025-07-15 19:07:03,363 [INFO] app.core.auth: Creating refresh token
2025-07-15 19:07:03,363 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:07:03,364 [INFO] app.core.logging_config: Session closed
2025-07-15 19:07:03,365 [INFO] uvicorn.access: 172.20.0.1:47240 - "POST /auth/login HTTP/1.1" 200
2025-07-15 19:07:13,141 [INFO] app.core.logging_config: Session opened
2025-07-15 19:07:13,142 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:07:13,142 [INFO] app.core.auth: Decoding token
2025-07-15 19:07:13,144 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:07:13,146 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 19:07:13,147 [INFO] sqlalchemy.engine.Engine: [generated in 0.00046s] ('9',)
2025-07-15 19:07:13,159 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:07:13,160 [INFO] app.core.logging_config: Session closed
2025-07-15 19:07:13,161 [INFO] uvicorn.access: 172.20.0.1:44166 - "POST /api/tasks HTTP/1.1" 500
2025-07-15 19:07:13,162 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "asyncpg/protocol/prepared_stmt.pyx", line 175, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
  File "asyncpg/protocol/codecs/base.pyx", line 227, in asyncpg.protocol.protocol.Codec.encode
  File "asyncpg/protocol/codecs/base.pyx", line 129, in asyncpg.protocol.protocol.Codec.encode_scalar
  File "asyncpg/pgproto/./codecs/int.pyx", line 54, in asyncpg.pgproto.pgproto.int4_encode
TypeError: 'str' object cannot be interpreted as an integer

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 185, in bind_execute
  File "asyncpg/protocol/prepared_stmt.pyx", line 204, in asyncpg.protocol.protocol.PreparedStatementState._encode_bind_msg
asyncpg.exceptions.DataError: invalid input for query argument $1: '9' ('str' object cannot be interpreted as an integer)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.Error: <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: '9' ('str' object cannot be interpreted as an integer)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/authz.py", line 28, in get_current_user
    user = await db.get(User, payload["sub"])
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 606, in get
    return await greenlet_spawn(
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 3694, in get
    return self._get_impl(
           ^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 3873, in _get_impl
    return db_load_fn(
           ^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/loading.py", line 694, in load_on_pk_identity
    session.execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.DBAPIError: (sqlalchemy.dialects.postgresql.asyncpg.Error) <class 'asyncpg.exceptions.DataError'>: invalid input for query argument $1: '9' ('str' object cannot be interpreted as an integer)
[SQL: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER]
[parameters: ('9',)]
(Background on this error at: https://sqlalche.me/e/20/dbapi)
2025-07-15 19:07:51,502 [INFO] uvicorn.error: Shutting down
2025-07-15 19:07:51,603 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:07:51,603 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:07:51,603 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:07:51,604 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:07:51,608 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:07:51,608 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:07:51,608 [INFO] uvicorn.error: Finished server process [11]
2025-07-15 19:08:58,863 [INFO] uvicorn.error: Started server process [9]
2025-07-15 19:08:58,864 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:08:58,864 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:08:58,864 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:08:58,881 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:08:58,882 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:08:58,882 [INFO] app.core.logging_config: Session opened
2025-07-15 19:08:58,882 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:08:58,882 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:08:58,883 [INFO] app.core.logging_config: Session closed
2025-07-15 19:09:00,172 [INFO] app.core.logging_config: Session opened
2025-07-15 19:09:00,172 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:09:00,172 [INFO] app.core.auth: Decoding token
2025-07-15 19:09:00,240 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 19:09:00,240 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:09:00,243 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 19:09:00,243 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:09:00,247 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 19:09:00,247 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:09:00,249 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:09:00,260 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 19:09:00,260 [INFO] sqlalchemy.engine.Engine: [generated in 0.00026s] (9,)
2025-07-15 19:09:00,285 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-15 19:09:00,285 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:09:00,286 [INFO] app.core.logging_config: Session closed
2025-07-15 19:09:00,287 [INFO] uvicorn.access: 172.20.0.1:55876 - "POST /api/tasks HTTP/1.1" 500
2025-07-15 19:09:00,287 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/authz.py", line 45, in dependency
    if permission not in user.permissions:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'in <string>' requires string as left operand, not Permission
2025-07-15 19:11:36,242 [INFO] uvicorn.error: Shutting down
2025-07-15 19:11:36,342 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:11:36,342 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:11:36,343 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:11:36,343 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:11:36,347 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:11:36,347 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:11:36,347 [INFO] uvicorn.error: Finished server process [9]
2025-07-15 19:11:46,918 [INFO] uvicorn.error: Started server process [9]
2025-07-15 19:11:46,918 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:11:46,919 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:11:46,919 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:11:46,925 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:11:46,926 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:11:46,926 [INFO] app.core.logging_config: Session opened
2025-07-15 19:11:46,926 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:11:46,926 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:11:46,927 [INFO] app.core.logging_config: Session closed
2025-07-15 19:14:30,998 [INFO] uvicorn.error: Shutting down
2025-07-15 19:14:31,099 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:14:31,099 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:14:31,099 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:14:31,100 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:14:31,101 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:14:31,101 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:14:31,101 [INFO] uvicorn.error: Finished server process [9]
2025-07-15 19:14:31,851 [INFO] uvicorn.error: Started server process [11]
2025-07-15 19:14:31,851 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:14:31,851 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:14:31,851 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:14:31,855 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:14:31,855 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:14:31,855 [INFO] app.core.logging_config: Session opened
2025-07-15 19:14:31,855 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:14:31,855 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:14:31,855 [INFO] app.core.logging_config: Session closed
2025-07-15 19:14:46,644 [INFO] app.core.logging_config: Session opened
2025-07-15 19:14:46,681 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 19:14:46,681 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:14:46,683 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 19:14:46,683 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:14:46,684 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 19:14:46,684 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:14:46,685 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:14:46,692 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 19:14:46,692 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ('user@example.com',)
2025-07-15 19:14:46,704 [INFO] app.core.auth: Verifying password
2025-07-15 19:14:46,908 [INFO] app.core.auth: Creating access token
2025-07-15 19:14:46,911 [INFO] app.core.auth: Creating refresh token
2025-07-15 19:14:46,912 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:14:46,913 [INFO] app.core.logging_config: Session closed
2025-07-15 19:14:46,913 [INFO] uvicorn.access: 172.20.0.1:43660 - "POST /auth/login HTTP/1.1" 200
2025-07-15 19:14:51,244 [INFO] app.core.logging_config: Session opened
2025-07-15 19:14:51,246 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:14:51,247 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 19:14:51,247 [INFO] sqlalchemy.engine.Engine: [cached since 4.555s ago] ('user@example.com',)
2025-07-15 19:14:51,250 [INFO] app.core.auth: Verifying password
2025-07-15 19:14:51,438 [INFO] app.core.auth: Creating access token
2025-07-15 19:14:51,438 [INFO] app.core.auth: Creating refresh token
2025-07-15 19:14:51,438 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:14:51,439 [INFO] app.core.logging_config: Session closed
2025-07-15 19:14:51,439 [INFO] uvicorn.access: 172.20.0.1:43660 - "POST /auth/login HTTP/1.1" 200
2025-07-15 19:15:04,740 [INFO] app.core.logging_config: Session opened
2025-07-15 19:15:04,740 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:15:04,740 [INFO] app.core.auth: Decoding token
2025-07-15 19:15:04,742 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:15:04,744 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 19:15:04,744 [INFO] sqlalchemy.engine.Engine: [generated in 0.00036s] (9,)
2025-07-15 19:15:04,748 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-15 19:15:04,748 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:15:04,749 [INFO] app.core.logging_config: Session closed
2025-07-15 19:15:04,749 [INFO] uvicorn.access: 172.20.0.1:35360 - "POST /api/tasks HTTP/1.1" 500
2025-07-15 19:15:04,750 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/authz.py", line 45, in dependency
    if permission not in user.permissions:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'in <string>' requires string as left operand, not Permission
2025-07-15 19:15:43,483 [INFO] uvicorn.error: Shutting down
2025-07-15 19:15:43,584 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:15:43,584 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:15:43,584 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:15:43,585 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:15:43,589 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:15:43,589 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:15:43,590 [INFO] uvicorn.error: Finished server process [11]
2025-07-15 19:15:44,330 [INFO] uvicorn.error: Started server process [14]
2025-07-15 19:15:44,330 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:15:44,330 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:15:44,331 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:15:44,335 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:15:44,335 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:15:44,335 [INFO] app.core.logging_config: Session opened
2025-07-15 19:15:44,336 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:15:44,336 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:15:44,336 [INFO] app.core.logging_config: Session closed
2025-07-15 19:15:47,310 [INFO] app.core.logging_config: Session opened
2025-07-15 19:15:47,310 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:15:47,310 [INFO] app.core.auth: Decoding token
2025-07-15 19:15:47,348 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 19:15:47,349 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:15:47,350 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 19:15:47,350 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:15:47,351 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 19:15:47,351 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:15:47,352 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:15:47,359 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 19:15:47,360 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] (9,)
2025-07-15 19:15:47,372 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-15 19:15:47,372 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:15:47,372 [INFO] app.core.logging_config: Session closed
2025-07-15 19:15:47,373 [INFO] uvicorn.access: 172.20.0.1:42376 - "POST /api/tasks HTTP/1.1" 500
2025-07-15 19:15:47,373 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/authz.py", line 49, in dependency
    if permission not in user.permissions:
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'in <string>' requires string as left operand, not Permission
2025-07-15 19:16:17,738 [INFO] uvicorn.error: Shutting down
2025-07-15 19:16:17,838 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:16:17,839 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:16:17,839 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:16:17,839 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:16:17,843 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:16:17,843 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:16:17,843 [INFO] uvicorn.error: Finished server process [14]
2025-07-15 19:16:18,578 [INFO] uvicorn.error: Started server process [16]
2025-07-15 19:16:18,578 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:16:18,578 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:16:18,578 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:16:18,581 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:16:18,581 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:16:18,582 [INFO] app.core.logging_config: Session opened
2025-07-15 19:16:18,582 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:16:18,582 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:16:18,582 [INFO] app.core.logging_config: Session closed
2025-07-15 19:16:19,607 [INFO] app.core.logging_config: Session opened
2025-07-15 19:16:19,607 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:16:19,607 [INFO] app.core.auth: Decoding token
2025-07-15 19:16:19,645 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 19:16:19,645 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:16:19,646 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 19:16:19,647 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:16:19,648 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 19:16:19,648 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:16:19,649 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:16:19,657 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 19:16:19,658 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] (9,)
2025-07-15 19:16:19,668 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-15 19:16:19,669 [ERROR] app.core.authz: User user@example.com does not have the required permission: Permission.READ
2025-07-15 19:16:19,669 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:16:19,670 [INFO] app.core.logging_config: Session closed
2025-07-15 19:16:19,670 [INFO] uvicorn.access: 172.20.0.1:39840 - "POST /api/tasks HTTP/1.1" 403
2025-07-15 19:17:00,792 [INFO] app.core.logging_config: Session opened
2025-07-15 19:17:00,792 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:17:00,792 [INFO] app.core.auth: Decoding token
2025-07-15 19:17:00,794 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:17:00,794 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 19:17:00,794 [INFO] sqlalchemy.engine.Engine: [cached since 41.14s ago] (9,)
2025-07-15 19:17:00,795 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-15 19:17:00,797 [INFO] app.handlers.tasks: Creating task with data: owner_id=9 name='Моя задача' pomodoro_count=4 category_id=1 description='Нужно сделать это и то'
2025-07-15 19:17:00,798 [INFO] app.service.task: Creating task with data: {'owner_id': 9, 'name': 'Моя задача', 'pomodoro_count': 4, 'category_id': 1, 'description': 'Нужно сделать это и то'}
2025-07-15 19:17:00,800 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-15 19:17:00,800 [INFO] sqlalchemy.engine.Engine: [generated in 0.00033s] ('Моя задача', 4, 1, 'Нужно сделать это и то', 9, False)
2025-07-15 19:17:00,813 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-15 19:17:00,816 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:17:00,818 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-15 19:17:00,818 [INFO] sqlalchemy.engine.Engine: [generated in 0.00028s] (5,)
2025-07-15 19:17:00,819 [INFO] app.service.task: Task created successfully with ID: 5
2025-07-15 19:17:00,820 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:17:00,820 [INFO] app.core.logging_config: Session closed
2025-07-15 19:17:00,821 [INFO] uvicorn.access: 172.20.0.1:50728 - "POST /api/tasks HTTP/1.1" 201
2025-07-15 19:18:57,073 [INFO] uvicorn.error: Shutting down
2025-07-15 19:18:57,174 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:18:57,174 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:18:57,174 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:18:57,175 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:18:57,178 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:18:57,178 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:18:57,178 [INFO] uvicorn.error: Finished server process [16]
2025-07-15 19:47:21,703 [INFO] uvicorn.error: Started server process [10]
2025-07-15 19:47:21,703 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:47:21,704 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:47:21,704 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:47:21,709 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:47:21,710 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:47:21,710 [INFO] app.core.logging_config: Session opened
2025-07-15 19:47:21,710 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:47:21,710 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:47:21,710 [INFO] app.core.logging_config: Session closed
2025-07-15 19:47:24,489 [INFO] uvicorn.access: 172.20.0.1:55122 - "GET /docs HTTP/1.1" 200
2025-07-15 19:47:24,616 [INFO] uvicorn.access: 172.20.0.1:55122 - "GET /openapi.json HTTP/1.1" 200
2025-07-15 19:47:34,097 [INFO] uvicorn.access: 172.20.0.1:55134 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-07-15 19:47:59,044 [INFO] app.core.logging_config: Session opened
2025-07-15 19:47:59,079 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 19:47:59,079 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:47:59,081 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 19:47:59,081 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:47:59,083 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 19:47:59,083 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:47:59,085 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:47:59,093 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 19:47:59,093 [INFO] sqlalchemy.engine.Engine: [generated in 0.00031s] ('user@example.com',)
2025-07-15 19:47:59,110 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:47:59,111 [INFO] app.core.logging_config: Session closed
2025-07-15 19:47:59,111 [INFO] uvicorn.access: 172.20.0.1:46462 - "POST /auth/login HTTP/1.1" 401
2025-07-15 19:48:05,331 [INFO] app.core.logging_config: Session opened
2025-07-15 19:48:05,333 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:48:05,335 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 19:48:05,335 [INFO] sqlalchemy.engine.Engine: [cached since 6.242s ago] ('user@example.com',)
2025-07-15 19:48:05,338 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:48:05,340 [INFO] app.core.logging_config: Session closed
2025-07-15 19:48:05,341 [INFO] uvicorn.access: 172.20.0.1:42598 - "POST /auth/login HTTP/1.1" 401
2025-07-15 19:48:23,160 [INFO] app.core.logging_config: Session opened
2025-07-15 19:48:23,184 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:48:23,185 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 19:48:23,185 [INFO] sqlalchemy.engine.Engine: [cached since 24.09s ago] ('user@example.com',)
2025-07-15 19:48:23,188 [INFO] app.core.auth: Hashing password
2025-07-15 19:48:23,399 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-15 19:48:23,399 [INFO] sqlalchemy.engine.Engine: [generated in 0.00047s] ('string', 'user@example.com', '$2b$12$RJb9eYULHl3axQd8Xdl7Quf1hy96Z806MqDLhMUGY1L.HpbfzgBlm', True, False, 'USER', '["read", "delete", "write"]', False)
2025-07-15 19:48:23,410 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-15 19:48:23,412 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:48:23,414 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 19:48:23,414 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] (10,)
2025-07-15 19:48:23,417 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:48:23,418 [INFO] app.core.logging_config: Session closed
2025-07-15 19:48:23,419 [INFO] uvicorn.access: 172.20.0.1:39694 - "POST /auth/register HTTP/1.1" 200
2025-07-15 19:48:28,678 [INFO] app.core.logging_config: Session opened
2025-07-15 19:48:28,680 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:48:28,680 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 19:48:28,680 [INFO] sqlalchemy.engine.Engine: [cached since 29.59s ago] ('user@example.com',)
2025-07-15 19:48:28,682 [INFO] app.core.auth: Verifying password
2025-07-15 19:48:28,868 [INFO] app.core.auth: Creating access token
2025-07-15 19:48:28,873 [INFO] app.core.auth: Creating refresh token
2025-07-15 19:48:28,873 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:48:28,874 [INFO] app.core.logging_config: Session closed
2025-07-15 19:48:28,874 [INFO] uvicorn.access: 172.20.0.1:44114 - "POST /auth/login HTTP/1.1" 200
2025-07-15 19:48:37,982 [INFO] app.core.logging_config: Session opened
2025-07-15 19:48:37,984 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:48:37,985 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-15 19:48:37,985 [INFO] sqlalchemy.engine.Engine: [cached since 38.89s ago] ('user@example.com',)
2025-07-15 19:48:37,987 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:48:37,988 [INFO] app.core.logging_config: Session closed
2025-07-15 19:48:37,988 [INFO] uvicorn.access: 172.20.0.1:54546 - "POST /auth/register HTTP/1.1" 400
2025-07-15 19:48:59,582 [INFO] app.core.logging_config: Session opened
2025-07-15 19:48:59,583 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-15 19:48:59,583 [INFO] app.service.task: Fetching all tasks
2025-07-15 19:48:59,584 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:48:59,586 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-15 19:48:59,586 [INFO] sqlalchemy.engine.Engine: [generated in 0.00026s] ()
2025-07-15 19:48:59,588 [INFO] app.service.task: Fetched 0 tasks successfully
2025-07-15 19:48:59,588 [INFO] app.handlers.tasks: Fetched 0 tasks successfully
2025-07-15 19:48:59,589 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:48:59,589 [INFO] app.core.logging_config: Session closed
2025-07-15 19:48:59,590 [INFO] uvicorn.access: 172.20.0.1:57514 - "GET /api/tasks HTTP/1.1" 200
2025-07-15 19:49:09,822 [INFO] app.core.logging_config: Session opened
2025-07-15 19:49:09,822 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:49:09,822 [INFO] app.core.auth: Decoding token
2025-07-15 19:49:09,825 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:49:09,828 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 19:49:09,828 [INFO] sqlalchemy.engine.Engine: [generated in 0.00046s] (10,)
2025-07-15 19:49:09,830 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-15 19:49:09,832 [INFO] app.handlers.tasks: Creating task with data: name='Моя задача' pomodoro_count=4 category_id=1 description='Нужно сделать это и то' owner_id=1
2025-07-15 19:49:09,832 [INFO] app.service.task: Creating task with data: {'name': 'Моя задача', 'pomodoro_count': 4, 'category_id': 1, 'description': 'Нужно сделать это и то', 'owner_id': 1}
2025-07-15 19:49:09,834 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-15 19:49:09,834 [INFO] sqlalchemy.engine.Engine: [generated in 0.00047s] ('Моя задача', 4, 1, 'Нужно сделать это и то', 1, False)
2025-07-15 19:49:09,837 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:49:09,838 [ERROR] app.service.task: Failed to create task: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "tasks" violates foreign key constraint "tasks_owner_id_fkey"
DETAIL:  Key (owner_id)=(1) is not present in table "users".
[SQL: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at]
[parameters: ('Моя задача', 4, 1, 'Нужно сделать это и то', 1, False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-15 19:49:09,839 [INFO] app.core.logging_config: Session closed
2025-07-15 19:49:09,839 [INFO] uvicorn.access: 172.20.0.1:47362 - "POST /api/tasks HTTP/1.1" 500
2025-07-15 19:49:09,840 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.ForeignKeyViolationError: insert or update on table "tasks" violates foreign key constraint "tasks_owner_id_fkey"
DETAIL:  Key (owner_id)=(1) is not present in table "users".

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "tasks" violates foreign key constraint "tasks_owner_id_fkey"
DETAIL:  Key (owner_id)=(1) is not present in table "users".

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 21, in create_task
    task = await self.repository.create(Task(**task_data.model_dump()))
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 67, in create
    await self.db_session.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "tasks" violates foreign key constraint "tasks_owner_id_fkey"
DETAIL:  Key (owner_id)=(1) is not present in table "users".
[SQL: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at]
[parameters: ('Моя задача', 4, 1, 'Нужно сделать это и то', 1, False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 91, in create_task
    return await service.create_task(task_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 29, in create_task
    raise DatabaseError("Failed to create task") from e
app.core.exceptions.DatabaseError: Failed to create task
2025-07-15 19:50:21,661 [INFO] uvicorn.error: Shutting down
2025-07-15 19:50:21,761 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:50:21,762 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:50:21,762 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:50:21,762 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:50:21,768 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:50:21,768 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:50:21,768 [INFO] uvicorn.error: Finished server process [10]
2025-07-15 19:50:22,630 [INFO] uvicorn.error: Started server process [13]
2025-07-15 19:50:22,630 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:50:22,631 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:50:22,631 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:50:22,635 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:50:22,635 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:50:22,635 [INFO] app.core.logging_config: Session opened
2025-07-15 19:50:22,636 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:50:22,636 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:50:22,636 [INFO] app.core.logging_config: Session closed
2025-07-15 19:53:42,401 [INFO] uvicorn.error: Shutting down
2025-07-15 19:53:42,502 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:53:42,502 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:53:42,503 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:53:42,503 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:53:42,504 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:53:42,504 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:53:42,504 [INFO] uvicorn.error: Finished server process [13]
2025-07-15 19:53:43,394 [INFO] uvicorn.error: Started server process [15]
2025-07-15 19:53:43,394 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:53:43,395 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:53:43,395 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:53:43,398 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:53:43,399 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:53:43,399 [INFO] app.core.logging_config: Session opened
2025-07-15 19:53:43,399 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:53:43,399 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:53:43,400 [INFO] app.core.logging_config: Session closed
2025-07-15 19:55:56,857 [INFO] uvicorn.error: Shutting down
2025-07-15 19:55:56,958 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:55:56,959 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:55:56,959 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:55:56,960 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:55:56,961 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:55:56,961 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:55:56,961 [INFO] uvicorn.error: Finished server process [15]
2025-07-15 19:55:57,799 [INFO] uvicorn.error: Started server process [17]
2025-07-15 19:55:57,799 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:55:57,800 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:55:57,800 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:55:57,804 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:55:57,804 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:55:57,804 [INFO] app.core.logging_config: Session opened
2025-07-15 19:55:57,804 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:55:57,805 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:55:57,805 [INFO] app.core.logging_config: Session closed
2025-07-15 19:56:06,725 [INFO] app.core.logging_config: Session opened
2025-07-15 19:56:06,725 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:56:06,726 [INFO] app.core.auth: Decoding token
2025-07-15 19:56:06,772 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 19:56:06,772 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:56:06,773 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 19:56:06,774 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:56:06,775 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 19:56:06,776 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:56:06,777 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:56:06,785 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 19:56:06,786 [INFO] sqlalchemy.engine.Engine: [generated in 0.00048s] (10,)
2025-07-15 19:56:06,799 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-15 19:56:06,801 [INFO] app.handlers.tasks: Creating task with data: name='Моя задача' pomodoro_count=4 category_id=1 description='Нужно сделать это и то' owner_id=1
2025-07-15 19:56:06,802 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:56:06,803 [INFO] app.core.logging_config: Session closed
2025-07-15 19:56:06,803 [INFO] uvicorn.access: 172.20.0.1:41026 - "POST /api/tasks HTTP/1.1" 500
2025-07-15 19:56:06,804 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 92, in create_task
    return await service.create_task(task_data)
                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: TaskService.create_task() missing 1 required positional argument: 'owner_id'
2025-07-15 19:56:33,734 [INFO] uvicorn.error: Shutting down
2025-07-15 19:56:33,834 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-15 19:56:33,835 [INFO] app.core.logging_config: Shutting down application...
2025-07-15 19:56:33,835 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-15 19:56:33,835 [INFO] app.core.logging_config: Disposing database engine...
2025-07-15 19:56:33,840 [INFO] app.core.logging_config: Shutdown completed
2025-07-15 19:56:33,841 [INFO] uvicorn.error: Application shutdown complete.
2025-07-15 19:56:33,841 [INFO] uvicorn.error: Finished server process [17]
2025-07-15 19:56:34,674 [INFO] uvicorn.error: Started server process [19]
2025-07-15 19:56:34,674 [INFO] uvicorn.error: Waiting for application startup.
2025-07-15 19:56:34,675 [INFO] app.core.logging_config: Initializing application...
2025-07-15 19:56:34,675 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-15 19:56:34,678 [INFO] app.core.logging_config: Redis connected successfully
2025-07-15 19:56:34,678 [INFO] app.core.logging_config: Verifying database connection...
2025-07-15 19:56:34,679 [INFO] app.core.logging_config: Session opened
2025-07-15 19:56:34,679 [INFO] app.core.logging_config: Database connection verified
2025-07-15 19:56:34,679 [INFO] uvicorn.error: Application startup complete.
2025-07-15 19:56:34,680 [INFO] app.core.logging_config: Session closed
2025-07-15 19:56:38,390 [INFO] app.core.logging_config: Session opened
2025-07-15 19:56:38,390 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:56:38,390 [INFO] app.core.auth: Decoding token
2025-07-15 19:56:38,433 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-15 19:56:38,433 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:56:38,435 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-15 19:56:38,435 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:56:38,436 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-15 19:56:38,437 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-15 19:56:38,437 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:56:38,447 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-15 19:56:38,447 [INFO] sqlalchemy.engine.Engine: [generated in 0.00034s] (10,)
2025-07-15 19:56:38,460 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-15 19:56:38,462 [INFO] app.handlers.tasks: Creating task with data: name='Моя задача' pomodoro_count=4 category_id=1 description='Нужно сделать это и то' owner_id=1
2025-07-15 19:56:38,463 [INFO] app.service.task: Creating task with data: {'name': 'Моя задача', 'pomodoro_count': 4, 'category_id': 1, 'description': 'Нужно сделать это и то', 'owner_id': 1}
2025-07-15 19:56:38,465 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-15 19:56:38,466 [INFO] sqlalchemy.engine.Engine: [generated in 0.00053s] ('Моя задача', 4, 1, 'Нужно сделать это и то', 10, False)
2025-07-15 19:56:38,469 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-15 19:56:38,481 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:56:38,483 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-15 19:56:38,483 [INFO] sqlalchemy.engine.Engine: [generated in 0.00034s] (7,)
2025-07-15 19:56:38,485 [INFO] app.service.task: Task created successfully with ID: 7
2025-07-15 19:56:38,486 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:56:38,487 [INFO] app.core.logging_config: Session closed
2025-07-15 19:56:38,487 [INFO] uvicorn.access: 172.20.0.1:57992 - "POST /api/tasks HTTP/1.1" 201
2025-07-15 19:57:03,549 [INFO] app.core.logging_config: Session opened
2025-07-15 19:57:03,549 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-15 19:57:03,549 [INFO] app.service.task: Fetching all tasks
2025-07-15 19:57:03,551 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-15 19:57:03,553 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-15 19:57:03,553 [INFO] sqlalchemy.engine.Engine: [generated in 0.00036s] ()
2025-07-15 19:57:03,556 [INFO] app.service.task: Fetched 1 tasks successfully
2025-07-15 19:57:03,556 [INFO] app.handlers.tasks: Fetched 1 tasks successfully
2025-07-15 19:57:03,556 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-15 19:57:03,557 [INFO] app.core.logging_config: Session closed
2025-07-15 19:57:03,557 [INFO] uvicorn.access: 172.20.0.1:35778 - "GET /api/tasks HTTP/1.1" 200
2025-07-15 19:57:30,157 [INFO] uvicorn.access: 172.20.0.1:46672 - "OPTIONS /api/tasks/7 HTTP/1.1" 200
2025-07-15 19:57:30,164 [INFO] app.core.logging_config: Session opened
2025-07-15 19:57:30,164 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:57:30,164 [ERROR] app.core.authz: Missing access token
2025-07-15 19:57:30,165 [INFO] app.core.logging_config: Session closed
2025-07-15 19:57:30,165 [INFO] uvicorn.access: 172.20.0.1:46680 - "DELETE /api/tasks/7 HTTP/1.1" 401
2025-07-15 19:57:39,101 [INFO] uvicorn.access: 172.20.0.1:38724 - "OPTIONS /api/tasks HTTP/1.1" 200
2025-07-15 19:57:39,104 [INFO] app.core.logging_config: Session opened
2025-07-15 19:57:39,104 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:57:39,104 [ERROR] app.core.authz: Missing access token
2025-07-15 19:57:39,105 [INFO] app.core.logging_config: Session closed
2025-07-15 19:57:39,105 [INFO] uvicorn.access: 172.20.0.1:38736 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 19:57:40,083 [INFO] app.core.logging_config: Session opened
2025-07-15 19:57:40,083 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:57:40,083 [ERROR] app.core.authz: Missing access token
2025-07-15 19:57:40,083 [INFO] app.core.logging_config: Session closed
2025-07-15 19:57:40,084 [INFO] uvicorn.access: 172.20.0.1:38736 - "POST /api/tasks HTTP/1.1" 401
2025-07-15 19:58:34,389 [INFO] app.core.logging_config: Session opened
2025-07-15 19:58:34,390 [INFO] app.core.authz: Retrieving current user
2025-07-15 19:58:34,390 [ERROR] app.core.authz: Missing access token
2025-07-15 19:58:34,390 [INFO] app.core.logging_config: Session closed
2025-07-15 19:58:34,390 [INFO] uvicorn.access: 172.20.0.1:47008 - "POST /api/tasks HTTP/1.1" 401
2025-07-16 06:07:25,711 [INFO] uvicorn.error: Shutting down
2025-07-16 06:07:25,812 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:07:25,812 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:07:25,812 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:07:25,812 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:07:25,818 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:07:25,818 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:07:25,818 [INFO] uvicorn.error: Finished server process [19]
2025-07-16 06:07:26,606 [INFO] uvicorn.error: Started server process [21]
2025-07-16 06:07:26,607 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:07:26,607 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:07:26,607 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:07:26,610 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:07:26,610 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:07:26,611 [INFO] app.core.logging_config: Session opened
2025-07-16 06:07:26,611 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:07:26,611 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:07:26,611 [INFO] app.core.logging_config: Session closed
2025-07-16 06:08:14,131 [INFO] uvicorn.error: Shutting down
2025-07-16 06:08:14,232 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:08:14,232 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:08:14,232 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:08:14,233 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:08:14,234 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:08:14,234 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:08:14,234 [INFO] uvicorn.error: Finished server process [21]
2025-07-16 06:08:15,020 [INFO] uvicorn.error: Started server process [23]
2025-07-16 06:08:15,020 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:08:15,020 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:08:15,020 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:08:15,024 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:08:15,024 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:08:15,024 [INFO] app.core.logging_config: Session opened
2025-07-16 06:08:15,024 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:08:15,025 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:08:15,025 [INFO] app.core.logging_config: Session closed
2025-07-16 06:08:27,457 [INFO] uvicorn.error: Shutting down
2025-07-16 06:08:27,557 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:08:27,557 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:08:27,558 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:08:27,558 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:08:27,559 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:08:27,559 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:08:27,559 [INFO] uvicorn.error: Finished server process [23]
2025-07-16 06:08:28,340 [INFO] uvicorn.error: Started server process [25]
2025-07-16 06:08:28,340 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:08:28,340 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:08:28,340 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:08:28,344 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:08:28,344 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:08:28,344 [INFO] app.core.logging_config: Session opened
2025-07-16 06:08:28,344 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:08:28,344 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:08:28,345 [INFO] app.core.logging_config: Session closed
2025-07-16 06:08:50,098 [INFO] uvicorn.error: Shutting down
2025-07-16 06:08:50,199 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:08:50,199 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:08:50,199 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:08:50,199 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:08:50,200 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:08:50,201 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:08:50,201 [INFO] uvicorn.error: Finished server process [25]
2025-07-16 06:08:51,071 [INFO] uvicorn.error: Started server process [27]
2025-07-16 06:08:51,071 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:08:51,071 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:08:51,072 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:08:51,075 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:08:51,075 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:08:51,075 [INFO] app.core.logging_config: Session opened
2025-07-16 06:08:51,076 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:08:51,076 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:08:51,076 [INFO] app.core.logging_config: Session closed
2025-07-16 06:09:36,693 [INFO] uvicorn.error: Shutting down
2025-07-16 06:09:36,794 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:09:36,794 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:09:36,795 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:09:36,795 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:09:36,796 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:09:36,796 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:09:36,796 [INFO] uvicorn.error: Finished server process [27]
2025-07-16 06:09:37,785 [INFO] uvicorn.error: Started server process [29]
2025-07-16 06:09:37,786 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:09:37,786 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:09:37,786 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:09:37,791 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:09:37,791 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:09:37,792 [INFO] app.core.logging_config: Session opened
2025-07-16 06:09:37,792 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:09:37,792 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:09:37,793 [INFO] app.core.logging_config: Session closed
2025-07-16 06:29:31,793 [INFO] uvicorn.error: Shutting down
2025-07-16 06:29:31,893 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:29:31,893 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:29:31,893 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:29:31,894 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:29:31,894 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:29:31,894 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:29:31,895 [INFO] uvicorn.error: Finished server process [29]
2025-07-16 06:29:32,679 [INFO] uvicorn.error: Started server process [31]
2025-07-16 06:29:32,679 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:29:32,679 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:29:32,679 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:29:32,684 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:29:32,684 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:29:32,684 [INFO] app.core.logging_config: Session opened
2025-07-16 06:29:32,684 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:29:32,684 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:29:32,685 [INFO] app.core.logging_config: Session closed
2025-07-16 06:29:34,289 [INFO] uvicorn.error: Shutting down
2025-07-16 06:29:34,390 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:29:34,390 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:29:34,390 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:29:34,391 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:29:34,391 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:29:34,392 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:29:34,392 [INFO] uvicorn.error: Finished server process [31]
2025-07-16 06:29:35,404 [INFO] uvicorn.error: Started server process [33]
2025-07-16 06:29:35,404 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:29:35,405 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:29:35,405 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:29:35,408 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:29:35,409 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:29:35,409 [INFO] app.core.logging_config: Session opened
2025-07-16 06:29:35,409 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:29:35,409 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:29:35,410 [INFO] app.core.logging_config: Session closed
2025-07-16 06:29:58,370 [INFO] uvicorn.error: Shutting down
2025-07-16 06:29:58,471 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:29:58,471 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:29:58,471 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:29:58,472 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:29:58,473 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:29:58,473 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:29:58,474 [INFO] uvicorn.error: Finished server process [33]
2025-07-16 06:29:59,631 [INFO] uvicorn.error: Started server process [35]
2025-07-16 06:29:59,631 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:29:59,631 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:29:59,631 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:29:59,636 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:29:59,637 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:29:59,637 [INFO] app.core.logging_config: Session opened
2025-07-16 06:29:59,637 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:29:59,637 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:29:59,638 [INFO] app.core.logging_config: Session closed
2025-07-16 06:30:08,163 [INFO] uvicorn.error: Shutting down
2025-07-16 06:30:08,263 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:30:08,264 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:30:08,264 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:30:08,264 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:30:08,264 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:30:08,265 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:30:08,265 [INFO] uvicorn.error: Finished server process [35]
2025-07-16 06:30:09,068 [INFO] uvicorn.error: Started server process [37]
2025-07-16 06:30:09,068 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:30:09,069 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:30:09,069 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:30:09,072 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:30:09,072 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:30:09,072 [INFO] app.core.logging_config: Session opened
2025-07-16 06:30:09,072 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:30:09,072 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:30:09,073 [INFO] app.core.logging_config: Session closed
2025-07-16 06:30:15,750 [INFO] app.core.logging_config: Session opened
2025-07-16 06:30:15,790 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 06:30:15,790 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:30:15,791 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 06:30:15,791 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:30:15,792 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 06:30:15,793 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:30:15,793 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 06:30:15,801 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 06:30:15,801 [INFO] sqlalchemy.engine.Engine: [generated in 0.00028s] ('user@example.com',)
2025-07-16 06:30:15,813 [INFO] app.core.auth: Verifying password
2025-07-16 06:30:16,021 [INFO] app.core.auth: Creating access token
2025-07-16 06:30:16,025 [INFO] app.core.auth: Creating refresh token
2025-07-16 06:30:16,025 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 06:30:16,026 [INFO] app.core.logging_config: Session closed
2025-07-16 06:30:16,026 [INFO] uvicorn.access: 172.20.0.1:59382 - "POST /auth/login HTTP/1.1" 200
2025-07-16 06:30:27,344 [INFO] app.core.logging_config: Session opened
2025-07-16 06:30:27,344 [INFO] app.core.authz: Retrieving current user
2025-07-16 06:30:27,345 [INFO] app.core.auth: Decoding token
2025-07-16 06:30:27,347 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 06:30:27,349 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 06:30:27,349 [INFO] sqlalchemy.engine.Engine: [generated in 0.00036s] (10,)
2025-07-16 06:30:27,351 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 06:30:27,354 [INFO] app.handlers.tasks: Creating task with data: name='Моя задача' pomodoro_count=4 category_id=1 description='Нужно сделать это и то'
2025-07-16 06:30:27,355 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 06:30:27,356 [INFO] app.core.logging_config: Session closed
2025-07-16 06:30:27,356 [INFO] uvicorn.access: 172.20.0.1:35482 - "POST /api/tasks HTTP/1.1" 500
2025-07-16 06:30:27,357 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 91, in create_task
    task_db = TaskSchemaDB(task_data, owner_id = user.id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: BaseModel.__init__() takes 1 positional argument but 2 were given
2025-07-16 06:31:21,801 [INFO] uvicorn.error: Shutting down
2025-07-16 06:31:21,901 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:31:21,902 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:31:21,902 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:31:21,902 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:31:21,906 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:31:21,907 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:31:21,907 [INFO] uvicorn.error: Finished server process [37]
2025-07-16 06:31:22,710 [INFO] uvicorn.error: Started server process [40]
2025-07-16 06:31:22,710 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:31:22,710 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:31:22,710 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:31:22,714 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:31:22,714 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:31:22,714 [INFO] app.core.logging_config: Session opened
2025-07-16 06:31:22,714 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:31:22,714 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:31:22,715 [INFO] app.core.logging_config: Session closed
2025-07-16 06:31:26,053 [INFO] app.core.logging_config: Session opened
2025-07-16 06:31:26,053 [INFO] app.core.authz: Retrieving current user
2025-07-16 06:31:26,054 [INFO] app.core.auth: Decoding token
2025-07-16 06:31:26,094 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 06:31:26,094 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:31:26,096 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 06:31:26,096 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:31:26,097 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 06:31:26,097 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:31:26,098 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 06:31:26,109 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 06:31:26,109 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] (10,)
2025-07-16 06:31:26,120 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 06:31:26,122 [INFO] app.handlers.tasks: Creating task with data: name='Моя задача' pomodoro_count=4 category_id=1 description='Нужно сделать это и то'
2025-07-16 06:31:26,122 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 06:31:26,122 [INFO] app.core.logging_config: Session closed
2025-07-16 06:31:26,123 [INFO] uvicorn.access: 172.20.0.1:46746 - "POST /api/tasks HTTP/1.1" 500
2025-07-16 06:31:26,123 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 91, in create_task
    task_db = TaskSchemaDB(**task_data, owner_id = user.id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: app.schemas.task.TaskSchemaDB() argument after ** must be a mapping, not TaskSchemaInput
2025-07-16 06:34:23,498 [INFO] uvicorn.error: Shutting down
2025-07-16 06:34:23,599 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:34:23,599 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:34:23,599 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:34:23,600 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:34:23,607 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:34:23,608 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:34:23,608 [INFO] uvicorn.error: Finished server process [40]
2025-07-16 06:34:24,579 [INFO] uvicorn.error: Started server process [42]
2025-07-16 06:34:24,579 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:34:24,580 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:34:24,580 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:34:24,583 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:34:24,584 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:34:24,584 [INFO] app.core.logging_config: Session opened
2025-07-16 06:34:24,584 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:34:24,584 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:34:24,585 [INFO] app.core.logging_config: Session closed
2025-07-16 06:36:16,249 [INFO] uvicorn.error: Shutting down
2025-07-16 06:36:16,350 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:36:16,350 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:36:16,350 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:36:16,351 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:36:16,351 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:36:16,352 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:36:16,352 [INFO] uvicorn.error: Finished server process [42]
2025-07-16 06:36:17,254 [INFO] uvicorn.error: Started server process [44]
2025-07-16 06:36:17,254 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:36:17,255 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:36:17,255 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:36:17,260 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:36:17,261 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:36:17,261 [INFO] app.core.logging_config: Session opened
2025-07-16 06:36:17,261 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:36:17,261 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:36:17,262 [INFO] app.core.logging_config: Session closed
2025-07-16 06:36:29,302 [INFO] uvicorn.error: Shutting down
2025-07-16 06:36:29,402 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:36:29,403 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:36:29,403 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:36:29,404 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:36:29,405 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:36:29,405 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:36:29,405 [INFO] uvicorn.error: Finished server process [44]
2025-07-16 06:36:30,259 [INFO] uvicorn.error: Started server process [46]
2025-07-16 06:36:30,259 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:36:30,260 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:36:30,260 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:36:30,264 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:36:30,264 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:36:30,265 [INFO] app.core.logging_config: Session opened
2025-07-16 06:36:30,265 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:36:30,265 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:36:30,265 [INFO] app.core.logging_config: Session closed
2025-07-16 06:37:34,489 [INFO] uvicorn.error: Shutting down
2025-07-16 06:37:34,590 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:37:34,590 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:37:34,590 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:37:34,591 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:37:34,592 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:37:34,592 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:37:34,593 [INFO] uvicorn.error: Finished server process [46]
2025-07-16 06:37:35,554 [INFO] uvicorn.error: Started server process [48]
2025-07-16 06:37:35,554 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:37:35,554 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:37:35,554 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:37:35,559 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:37:35,559 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:37:35,560 [INFO] app.core.logging_config: Session opened
2025-07-16 06:37:35,560 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:37:35,560 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:37:35,560 [INFO] app.core.logging_config: Session closed
2025-07-16 06:37:46,594 [INFO] uvicorn.error: Shutting down
2025-07-16 06:37:46,695 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:37:46,696 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:37:46,696 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:37:46,696 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:37:46,697 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:37:46,697 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:37:46,697 [INFO] uvicorn.error: Finished server process [48]
2025-07-16 06:37:47,529 [INFO] uvicorn.error: Started server process [50]
2025-07-16 06:37:47,529 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:37:47,530 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:37:47,530 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:37:47,534 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:37:47,534 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:37:47,534 [INFO] app.core.logging_config: Session opened
2025-07-16 06:37:47,535 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:37:47,535 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:37:47,535 [INFO] app.core.logging_config: Session closed
2025-07-16 06:44:57,828 [INFO] uvicorn.error: Shutting down
2025-07-16 06:44:57,928 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:44:57,929 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:44:57,929 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:44:57,930 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:44:57,931 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:44:57,931 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:44:57,931 [INFO] uvicorn.error: Finished server process [50]
2025-07-16 06:44:59,022 [INFO] uvicorn.error: Started server process [52]
2025-07-16 06:44:59,023 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:44:59,023 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:44:59,023 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:44:59,027 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:44:59,028 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:44:59,028 [INFO] app.core.logging_config: Session opened
2025-07-16 06:44:59,028 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:44:59,028 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:44:59,029 [INFO] app.core.logging_config: Session closed
2025-07-16 06:45:06,249 [INFO] uvicorn.error: Shutting down
2025-07-16 06:45:06,350 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:45:06,350 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:45:06,350 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:45:06,350 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:45:06,351 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:45:06,351 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:45:06,352 [INFO] uvicorn.error: Finished server process [52]
2025-07-16 06:45:07,309 [INFO] uvicorn.error: Started server process [54]
2025-07-16 06:45:07,309 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:45:07,310 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:45:07,310 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:45:07,315 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:45:07,316 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:45:07,316 [INFO] app.core.logging_config: Session opened
2025-07-16 06:45:07,316 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:45:07,316 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:45:07,317 [INFO] app.core.logging_config: Session closed
2025-07-16 06:45:08,830 [INFO] app.core.logging_config: Session opened
2025-07-16 06:45:08,830 [INFO] app.core.authz: Retrieving current user
2025-07-16 06:45:08,830 [INFO] app.core.auth: Decoding token
2025-07-16 06:45:08,874 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 06:45:08,874 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:45:08,875 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 06:45:08,875 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:45:08,876 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 06:45:08,876 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:45:08,877 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 06:45:08,887 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 06:45:08,888 [INFO] sqlalchemy.engine.Engine: [generated in 0.00034s] (10,)
2025-07-16 06:45:08,898 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 06:45:08,901 [INFO] app.handlers.tasks: Creating task with data: name='Моя задача' pomodoro_count=4 category_id=1 description='Нужно сделать это и то'
2025-07-16 06:45:08,901 [INFO] app.service.task: Creating task with data: {'name': 'Моя задача', 'pomodoro_count': 4, 'category_id': 1, 'description': 'Нужно сделать это и то', 'owner_id': 10}
2025-07-16 06:45:08,904 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-16 06:45:08,905 [INFO] sqlalchemy.engine.Engine: [generated in 0.00043s] ('Моя задача', 4, 1, 'Нужно сделать это и то', 10, False)
2025-07-16 06:45:08,907 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-16 06:45:08,919 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 06:45:08,921 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-16 06:45:08,922 [INFO] sqlalchemy.engine.Engine: [generated in 0.00045s] (8,)
2025-07-16 06:45:08,923 [INFO] app.service.task: Task created successfully with ID: 8
2025-07-16 06:45:08,924 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 06:45:08,925 [INFO] app.core.logging_config: Session closed
2025-07-16 06:45:08,925 [INFO] uvicorn.access: 172.20.0.1:37056 - "POST /api/tasks HTTP/1.1" 201
2025-07-16 06:47:12,604 [INFO] uvicorn.error: Shutting down
2025-07-16 06:47:12,705 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:47:12,705 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:47:12,705 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:47:12,706 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:47:12,710 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:47:12,711 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:47:12,711 [INFO] uvicorn.error: Finished server process [54]
2025-07-16 06:47:13,632 [INFO] uvicorn.error: Started server process [56]
2025-07-16 06:47:13,633 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:47:13,633 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:47:13,633 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:47:13,639 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:47:13,639 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:47:13,639 [INFO] app.core.logging_config: Session opened
2025-07-16 06:47:13,639 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:47:13,640 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:47:13,640 [INFO] app.core.logging_config: Session closed
2025-07-16 06:47:28,653 [INFO] app.core.logging_config: Session opened
2025-07-16 06:47:28,654 [INFO] app.core.authz: Retrieving current user
2025-07-16 06:47:28,654 [INFO] app.core.auth: Decoding token
2025-07-16 06:47:28,696 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 06:47:28,696 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:47:28,698 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 06:47:28,699 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:47:28,700 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 06:47:28,700 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:47:28,701 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 06:47:28,712 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 06:47:28,712 [INFO] sqlalchemy.engine.Engine: [generated in 0.00034s] (10,)
2025-07-16 06:47:28,726 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 06:47:28,728 [INFO] app.handlers.tasks: Creating task with data: name='Моя задача2' pomodoro_count=4 category_id=1 description='Нужно сделать это и то'
2025-07-16 06:47:28,729 [INFO] app.service.task: Creating task with data: {'name': 'Моя задача2', 'pomodoro_count': 4, 'category_id': 1, 'description': 'Нужно сделать это и то', 'owner_id': 10}
2025-07-16 06:47:28,732 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-16 06:47:28,732 [INFO] sqlalchemy.engine.Engine: [generated in 0.00034s] ('Моя задача2', 4, 1, 'Нужно сделать это и то', 10, False)
2025-07-16 06:47:28,735 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-16 06:47:28,746 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 06:47:28,748 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-16 06:47:28,748 [INFO] sqlalchemy.engine.Engine: [generated in 0.00030s] (9,)
2025-07-16 06:47:28,750 [INFO] app.service.task: Task created successfully with ID: 9
2025-07-16 06:47:28,750 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 06:47:28,751 [INFO] app.core.logging_config: Session closed
2025-07-16 06:47:28,752 [INFO] uvicorn.access: 172.20.0.1:53156 - "POST /api/tasks HTTP/1.1" 201
2025-07-16 06:51:41,734 [INFO] uvicorn.error: Shutting down
2025-07-16 06:51:41,835 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:51:41,835 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:51:41,835 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:51:41,836 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:51:41,840 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:51:41,840 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:51:41,840 [INFO] uvicorn.error: Finished server process [56]
2025-07-16 06:51:42,865 [INFO] uvicorn.error: Started server process [58]
2025-07-16 06:51:42,865 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:51:42,866 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:51:42,866 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:51:42,869 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:51:42,869 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:51:42,869 [INFO] app.core.logging_config: Session opened
2025-07-16 06:51:42,870 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:51:42,870 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:51:42,870 [INFO] app.core.logging_config: Session closed
2025-07-16 06:51:50,491 [INFO] uvicorn.error: Shutting down
2025-07-16 06:51:50,591 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:51:50,592 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:51:50,592 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:51:50,592 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:51:50,593 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:51:50,593 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:51:50,593 [INFO] uvicorn.error: Finished server process [58]
2025-07-16 06:51:51,450 [INFO] uvicorn.error: Started server process [60]
2025-07-16 06:51:51,451 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:51:51,451 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:51:51,451 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:51:51,457 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:51:51,457 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:51:51,457 [INFO] app.core.logging_config: Session opened
2025-07-16 06:51:51,457 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:51:51,457 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:51:51,458 [INFO] app.core.logging_config: Session closed
2025-07-16 06:52:21,278 [INFO] app.core.logging_config: Session opened
2025-07-16 06:52:21,278 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-16 06:52:21,278 [INFO] app.service.task: Fetching all tasks
2025-07-16 06:52:21,316 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 06:52:21,316 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:52:21,318 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 06:52:21,318 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:52:21,319 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 06:52:21,319 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:52:21,320 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 06:52:21,328 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 06:52:21,328 [INFO] sqlalchemy.engine.Engine: [generated in 0.00031s] ()
2025-07-16 06:52:21,331 [INFO] app.service.task: Fetched 3 tasks successfully
2025-07-16 06:52:21,331 [INFO] app.handlers.tasks: Fetched 3 tasks successfully
2025-07-16 06:52:21,332 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 06:52:21,332 [INFO] app.core.logging_config: Session closed
2025-07-16 06:52:21,333 [INFO] uvicorn.access: 172.20.0.1:60946 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 06:52:22,036 [INFO] uvicorn.error: Shutting down
2025-07-16 06:52:22,136 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:52:22,137 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:52:22,137 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:52:22,137 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:52:22,141 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:52:22,141 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:52:22,141 [INFO] uvicorn.error: Finished server process [60]
2025-07-16 06:52:23,187 [INFO] uvicorn.error: Started server process [62]
2025-07-16 06:52:23,188 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:52:23,188 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:52:23,188 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:52:23,192 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:52:23,192 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:52:23,193 [INFO] app.core.logging_config: Session opened
2025-07-16 06:52:23,193 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:52:23,193 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:52:23,193 [INFO] app.core.logging_config: Session closed
2025-07-16 06:52:38,016 [INFO] app.core.logging_config: Session opened
2025-07-16 06:52:38,017 [INFO] app.core.authz: Retrieving current user
2025-07-16 06:52:38,017 [INFO] app.core.auth: Decoding token
2025-07-16 06:52:38,068 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 06:52:38,068 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:52:38,070 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 06:52:38,070 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:52:38,072 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 06:52:38,072 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:52:38,073 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 06:52:38,086 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 06:52:38,087 [INFO] sqlalchemy.engine.Engine: [generated in 0.00050s] (10,)
2025-07-16 06:52:38,103 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 06:52:38,103 [INFO] app.handlers.tasks: Deleting task with ID: 11
2025-07-16 06:52:38,103 [INFO] app.service.task: Deleting task with ID: 11
2025-07-16 06:52:38,107 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-16 06:52:38,107 [INFO] sqlalchemy.engine.Engine: [generated in 0.00073s] (11,)
2025-07-16 06:52:38,110 [ERROR] app.service.task: Task not found: 11
2025-07-16 06:52:38,110 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 06:52:38,111 [INFO] app.core.logging_config: Session closed
2025-07-16 06:52:38,111 [INFO] uvicorn.access: 172.20.0.1:38928 - "DELETE /api/tasks/11 HTTP/1.1" 500
2025-07-16 06:52:38,112 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 134, in delete_task
    await service.delete_task(task_id)
  File "/app/app/service/task.py", line 74, in delete_task
    raise TaskNotFoundError(f"Task {task_id} not found")
app.core.exceptions.TaskNotFoundError: Task 11 not found
2025-07-16 06:52:40,840 [INFO] uvicorn.error: Shutting down
2025-07-16 06:52:40,941 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:52:40,941 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:52:40,941 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:52:40,941 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:52:40,946 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:52:40,946 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:52:40,946 [INFO] uvicorn.error: Finished server process [62]
2025-07-16 06:52:41,959 [INFO] uvicorn.error: Started server process [64]
2025-07-16 06:52:41,959 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:52:41,959 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:52:41,959 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:52:41,963 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:52:41,963 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:52:41,964 [INFO] app.core.logging_config: Session opened
2025-07-16 06:52:41,964 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:52:41,964 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:52:41,964 [INFO] app.core.logging_config: Session closed
2025-07-16 06:52:43,172 [INFO] app.core.logging_config: Session opened
2025-07-16 06:52:43,172 [INFO] app.core.authz: Retrieving current user
2025-07-16 06:52:43,172 [INFO] app.core.auth: Decoding token
2025-07-16 06:52:43,228 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 06:52:43,228 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:52:43,230 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 06:52:43,231 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:52:43,232 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 06:52:43,232 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 06:52:43,233 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 06:52:43,244 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 06:52:43,244 [INFO] sqlalchemy.engine.Engine: [generated in 0.00040s] (10,)
2025-07-16 06:52:43,259 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 06:52:43,260 [INFO] app.handlers.tasks: Deleting task with ID: 7
2025-07-16 06:52:43,260 [INFO] app.service.task: Deleting task with ID: 7
2025-07-16 06:52:43,263 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-16 06:52:43,263 [INFO] sqlalchemy.engine.Engine: [generated in 0.00054s] (7,)
2025-07-16 06:52:43,268 [INFO] sqlalchemy.engine.Engine: DELETE FROM tasks WHERE tasks.id = $1::INTEGER
2025-07-16 06:52:43,268 [INFO] sqlalchemy.engine.Engine: [generated in 0.00039s] (7,)
2025-07-16 06:52:43,270 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-16 06:52:43,280 [INFO] app.service.task: Task deleted successfully: 7
2025-07-16 06:52:43,280 [INFO] app.handlers.tasks: Task deleted successfully: 7
2025-07-16 06:52:43,281 [INFO] app.core.logging_config: Session closed
2025-07-16 06:52:43,281 [INFO] uvicorn.access: 172.20.0.1:38932 - "DELETE /api/tasks/7 HTTP/1.1" 204
2025-07-16 06:54:47,698 [INFO] uvicorn.error: Shutting down
2025-07-16 06:54:47,799 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:54:47,799 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:54:47,799 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:54:47,799 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:54:47,805 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:54:47,805 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:54:47,805 [INFO] uvicorn.error: Finished server process [64]
2025-07-16 06:54:48,826 [INFO] uvicorn.error: Started server process [66]
2025-07-16 06:54:48,826 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:54:48,827 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:54:48,827 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:54:48,831 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:54:48,831 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:54:48,831 [INFO] app.core.logging_config: Session opened
2025-07-16 06:54:48,831 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:54:48,831 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:54:48,832 [INFO] app.core.logging_config: Session closed
2025-07-16 06:57:26,557 [INFO] uvicorn.error: Shutting down
2025-07-16 06:57:26,658 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:57:26,658 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:57:26,658 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:57:26,659 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:57:26,659 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:57:26,660 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:57:26,660 [INFO] uvicorn.error: Finished server process [66]
2025-07-16 06:58:31,104 [INFO] uvicorn.error: Started server process [70]
2025-07-16 06:58:31,104 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 06:58:31,104 [INFO] app.core.logging_config: Initializing application...
2025-07-16 06:58:31,105 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 06:58:31,110 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 06:58:31,110 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 06:58:31,111 [INFO] app.core.logging_config: Session opened
2025-07-16 06:58:31,111 [INFO] app.core.logging_config: Database connection verified
2025-07-16 06:58:31,111 [INFO] uvicorn.error: Application startup complete.
2025-07-16 06:58:31,112 [INFO] app.core.logging_config: Session closed
2025-07-16 06:59:58,747 [INFO] uvicorn.error: Shutting down
2025-07-16 06:59:58,848 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 06:59:58,849 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 06:59:58,849 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 06:59:58,849 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 06:59:58,850 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 06:59:58,850 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 06:59:58,850 [INFO] uvicorn.error: Finished server process [70]
2025-07-16 07:00:19,801 [INFO] uvicorn.error: Started server process [73]
2025-07-16 07:00:19,801 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:00:19,801 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:00:19,801 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:00:19,805 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:00:19,805 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:00:19,805 [INFO] app.core.logging_config: Session opened
2025-07-16 07:00:19,805 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:00:19,806 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:00:19,806 [INFO] app.core.logging_config: Session closed
2025-07-16 07:00:47,377 [INFO] uvicorn.error: Shutting down
2025-07-16 07:00:47,478 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:00:47,478 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:00:47,478 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:00:47,479 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:00:47,480 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:00:47,480 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:00:47,480 [INFO] uvicorn.error: Finished server process [73]
2025-07-16 07:00:48,282 [INFO] uvicorn.error: Started server process [75]
2025-07-16 07:00:48,282 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:00:48,283 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:00:48,283 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:00:48,286 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:00:48,286 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:00:48,287 [INFO] app.core.logging_config: Session opened
2025-07-16 07:00:48,287 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:00:48,287 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:00:48,287 [INFO] app.core.logging_config: Session closed
2025-07-16 07:00:52,321 [INFO] app.core.logging_config: Session opened
2025-07-16 07:00:52,321 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:00:52,321 [INFO] app.core.auth: Decoding token
2025-07-16 07:00:52,325 [ERROR] app.core.auth: Token decoding error: Signature has expired.
2025-07-16 07:00:52,325 [ERROR] app.core.authz: Invalid token
2025-07-16 07:00:52,325 [INFO] app.core.logging_config: Session closed
2025-07-16 07:00:52,325 [INFO] uvicorn.access: 172.20.0.1:38714 - "GET /api/tasks HTTP/1.1" 401
2025-07-16 07:00:59,857 [INFO] app.core.logging_config: Session opened
2025-07-16 07:00:59,889 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 07:00:59,889 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:00:59,891 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 07:00:59,891 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:00:59,893 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 07:00:59,893 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:00:59,894 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:00:59,903 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 07:00:59,903 [INFO] sqlalchemy.engine.Engine: [generated in 0.00030s] ('user@example.com',)
2025-07-16 07:00:59,914 [INFO] app.core.auth: Verifying password
2025-07-16 07:01:00,125 [INFO] app.core.auth: Creating access token
2025-07-16 07:01:00,125 [INFO] app.core.auth: Creating refresh token
2025-07-16 07:01:00,126 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 07:01:00,127 [INFO] app.core.logging_config: Session closed
2025-07-16 07:01:00,127 [INFO] uvicorn.access: 172.20.0.1:43524 - "POST /auth/login HTTP/1.1" 200
2025-07-16 07:01:06,541 [INFO] app.core.logging_config: Session opened
2025-07-16 07:01:06,541 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:01:06,541 [INFO] app.core.auth: Decoding token
2025-07-16 07:01:06,543 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:01:06,545 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 07:01:06,545 [INFO] sqlalchemy.engine.Engine: [generated in 0.00041s] (10,)
2025-07-16 07:01:06,548 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 07:01:06,548 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-16 07:01:06,548 [INFO] app.service.task: Fetching tasks for user ID: 10 with include_deleted: False
2025-07-16 07:01:06,548 [INFO] app.repository.task: Fetching tasks for user ID: 10 with include_deleted: False
2025-07-16 07:01:06,551 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 07:01:06,551 [INFO] sqlalchemy.engine.Engine: [generated in 0.00053s] (10,)
2025-07-16 07:01:06,553 [INFO] app.repository.task: Fetched 2 tasks for user ID: 10
2025-07-16 07:01:06,553 [INFO] app.service.task: Fetched 2 tasks for user ID: 10
2025-07-16 07:01:06,554 [INFO] app.handlers.tasks: Fetched 2 tasks successfully
2025-07-16 07:01:06,554 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 07:01:06,557 [INFO] app.core.logging_config: Session closed
2025-07-16 07:01:06,557 [INFO] uvicorn.access: 172.20.0.1:45298 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 07:01:26,343 [INFO] app.core.logging_config: Session opened
2025-07-16 07:01:26,343 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:01:26,343 [INFO] app.core.auth: Decoding token
2025-07-16 07:01:26,345 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:01:26,345 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 07:01:26,345 [INFO] sqlalchemy.engine.Engine: [cached since 19.8s ago] (10,)
2025-07-16 07:01:26,347 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 07:01:26,347 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-16 07:01:26,347 [INFO] app.service.task: Fetching tasks for user ID: 10 with include_deleted: False
2025-07-16 07:01:26,347 [INFO] app.repository.task: Fetching tasks for user ID: 10 with include_deleted: False
2025-07-16 07:01:26,348 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 07:01:26,348 [INFO] sqlalchemy.engine.Engine: [cached since 19.8s ago] (10,)
2025-07-16 07:01:26,349 [INFO] app.repository.task: Fetched 2 tasks for user ID: 10
2025-07-16 07:01:26,349 [INFO] app.service.task: Fetched 2 tasks for user ID: 10
2025-07-16 07:01:26,349 [INFO] app.handlers.tasks: Fetched 2 tasks successfully
2025-07-16 07:01:26,349 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 07:01:26,350 [INFO] app.core.logging_config: Session closed
2025-07-16 07:01:26,350 [INFO] uvicorn.access: 172.20.0.1:52970 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 07:03:04,104 [INFO] app.core.logging_config: Session opened
2025-07-16 07:03:04,105 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:03:04,105 [INFO] app.core.auth: Decoding token
2025-07-16 07:03:04,106 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:03:04,106 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 07:03:04,107 [INFO] sqlalchemy.engine.Engine: [cached since 117.6s ago] (10,)
2025-07-16 07:03:04,108 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 07:03:04,108 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-16 07:03:04,108 [INFO] app.service.task: Fetching tasks for user ID: 10 with include_deleted: False
2025-07-16 07:03:04,108 [INFO] app.repository.task: Fetching tasks for user ID: 10 with include_deleted: False
2025-07-16 07:03:04,109 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 07:03:04,109 [INFO] sqlalchemy.engine.Engine: [cached since 117.6s ago] (10,)
2025-07-16 07:03:04,110 [INFO] app.repository.task: Fetched 1 tasks for user ID: 10
2025-07-16 07:03:04,110 [INFO] app.service.task: Fetched 1 tasks for user ID: 10
2025-07-16 07:03:04,110 [INFO] app.handlers.tasks: Fetched 1 tasks successfully
2025-07-16 07:03:04,110 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 07:03:04,111 [INFO] app.core.logging_config: Session closed
2025-07-16 07:03:04,111 [INFO] uvicorn.access: 172.20.0.1:60814 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 07:04:35,438 [INFO] app.core.logging_config: Session opened
2025-07-16 07:04:35,438 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:04:35,438 [INFO] app.core.auth: Decoding token
2025-07-16 07:04:35,440 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:04:35,441 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 07:04:35,441 [INFO] sqlalchemy.engine.Engine: [cached since 208.9s ago] (10,)
2025-07-16 07:04:35,443 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 07:04:35,445 [INFO] app.handlers.tasks: Updating task with ID: 10 and data: name='string' pomodoro_count=1 category_id=1 description='string' owner_id=1
2025-07-16 07:04:35,445 [INFO] app.service.task: Updating task 10 with data: {'name': 'string', 'pomodoro_count': 1, 'category_id': 1, 'description': 'string', 'owner_id': 1}
2025-07-16 07:04:35,447 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER AND tasks.is_deleted IS false
2025-07-16 07:04:35,447 [INFO] sqlalchemy.engine.Engine: [generated in 0.00037s] (10,)
2025-07-16 07:04:35,449 [ERROR] app.service.task: Task not found: 10
2025-07-16 07:04:35,449 [ERROR] app.service.task: Failed to update task: Task 10 not found
2025-07-16 07:04:35,450 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 07:04:35,450 [INFO] app.core.logging_config: Session closed
2025-07-16 07:04:35,451 [INFO] uvicorn.access: 172.20.0.1:32986 - "PATCH /api/tasks/10 HTTP/1.1" 500
2025-07-16 07:04:35,452 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/app/app/service/task.py", line 112, in update_task
    raise TaskNotFoundError(f"Task {task_id} not found")
app.core.exceptions.TaskNotFoundError: Task 10 not found

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 168, in update_task
    return await service.update_task(task_id, update_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 126, in update_task
    raise DatabaseError("Failed to update task") from e
app.core.exceptions.DatabaseError: Failed to update task
2025-07-16 07:04:41,923 [INFO] app.core.logging_config: Session opened
2025-07-16 07:04:41,923 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:04:41,923 [INFO] app.core.auth: Decoding token
2025-07-16 07:04:41,925 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:04:41,925 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 07:04:41,926 [INFO] sqlalchemy.engine.Engine: [cached since 215.4s ago] (10,)
2025-07-16 07:04:41,928 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 07:04:41,928 [INFO] app.handlers.tasks: Updating task with ID: 9 and data: name='string' pomodoro_count=1 category_id=1 description='string' owner_id=1
2025-07-16 07:04:41,928 [INFO] app.service.task: Updating task 9 with data: {'name': 'string', 'pomodoro_count': 1, 'category_id': 1, 'description': 'string', 'owner_id': 1}
2025-07-16 07:04:41,929 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER AND tasks.is_deleted IS false
2025-07-16 07:04:41,929 [INFO] sqlalchemy.engine.Engine: [cached since 6.482s ago] (9,)
2025-07-16 07:04:41,933 [INFO] sqlalchemy.engine.Engine: UPDATE tasks SET name=$1::VARCHAR, pomodoro_count=$2::INTEGER, description=$3::VARCHAR, owner_id=$4::INTEGER, updated_at=now() WHERE tasks.id = $5::INTEGER
2025-07-16 07:04:41,934 [INFO] sqlalchemy.engine.Engine: [generated in 0.00045s] ('string', 1, 'string', 1, 9)
2025-07-16 07:04:41,944 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 07:04:41,945 [ERROR] app.service.task: Failed to update task: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "tasks" violates foreign key constraint "tasks_owner_id_fkey"
DETAIL:  Key (owner_id)=(1) is not present in table "users".
[SQL: UPDATE tasks SET name=$1::VARCHAR, pomodoro_count=$2::INTEGER, description=$3::VARCHAR, owner_id=$4::INTEGER, updated_at=now() WHERE tasks.id = $5::INTEGER]
[parameters: ('string', 1, 'string', 1, 9)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-16 07:04:41,946 [INFO] app.core.logging_config: Session closed
2025-07-16 07:04:41,946 [INFO] uvicorn.access: 172.20.0.1:32994 - "PATCH /api/tasks/9 HTTP/1.1" 500
2025-07-16 07:04:41,946 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.ForeignKeyViolationError: insert or update on table "tasks" violates foreign key constraint "tasks_owner_id_fkey"
DETAIL:  Key (owner_id)=(1) is not present in table "users".

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "tasks" violates foreign key constraint "tasks_owner_id_fkey"
DETAIL:  Key (owner_id)=(1) is not present in table "users".

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/app/app/service/task.py", line 118, in update_task
    updated_task = await self.repository.update(task)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/repository.py", line 129, in update
    await self.db_session.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.ForeignKeyViolationError'>: insert or update on table "tasks" violates foreign key constraint "tasks_owner_id_fkey"
DETAIL:  Key (owner_id)=(1) is not present in table "users".
[SQL: UPDATE tasks SET name=$1::VARCHAR, pomodoro_count=$2::INTEGER, description=$3::VARCHAR, owner_id=$4::INTEGER, updated_at=now() WHERE tasks.id = $5::INTEGER]
[parameters: ('string', 1, 'string', 1, 9)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 168, in update_task
    return await service.update_task(task_id, update_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/task.py", line 126, in update_task
    raise DatabaseError("Failed to update task") from e
app.core.exceptions.DatabaseError: Failed to update task
2025-07-16 07:06:33,738 [INFO] uvicorn.error: Shutting down
2025-07-16 07:06:33,839 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:06:33,839 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:06:33,839 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:06:33,840 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:06:33,847 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:06:33,848 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:06:33,848 [INFO] uvicorn.error: Finished server process [75]
2025-07-16 07:06:34,887 [INFO] uvicorn.error: Started server process [78]
2025-07-16 07:06:34,887 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:06:34,888 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:06:34,888 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:06:34,891 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:06:34,891 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:06:34,892 [INFO] app.core.logging_config: Session opened
2025-07-16 07:06:34,892 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:06:34,892 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:06:34,893 [INFO] app.core.logging_config: Session closed
2025-07-16 07:08:08,855 [INFO] uvicorn.error: Shutting down
2025-07-16 07:08:08,955 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:08:08,955 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:08:08,955 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:08:08,956 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:08:08,956 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:08:08,956 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:08:08,957 [INFO] uvicorn.error: Finished server process [78]
2025-07-16 07:08:09,840 [INFO] uvicorn.error: Started server process [80]
2025-07-16 07:08:09,840 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:08:09,841 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:08:09,841 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:08:09,845 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:08:09,845 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:08:09,846 [INFO] app.core.logging_config: Session opened
2025-07-16 07:08:09,846 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:08:09,846 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:08:09,847 [INFO] app.core.logging_config: Session closed
2025-07-16 07:09:26,464 [INFO] uvicorn.error: Shutting down
2025-07-16 07:09:26,565 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:09:26,565 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:09:26,565 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:09:26,565 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:09:26,566 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:09:26,566 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:09:26,566 [INFO] uvicorn.error: Finished server process [80]
2025-07-16 07:09:27,314 [INFO] uvicorn.error: Started server process [82]
2025-07-16 07:09:27,315 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:09:27,315 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:09:27,315 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:09:27,317 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:09:27,318 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:09:27,318 [INFO] app.core.logging_config: Session opened
2025-07-16 07:09:27,318 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:09:27,318 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:09:27,318 [INFO] app.core.logging_config: Session closed
2025-07-16 07:09:33,635 [INFO] uvicorn.error: Shutting down
2025-07-16 07:09:33,735 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:09:33,736 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:09:33,736 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:09:33,736 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:09:33,737 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:09:33,737 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:09:33,737 [INFO] uvicorn.error: Finished server process [82]
2025-07-16 07:09:34,816 [INFO] uvicorn.error: Started server process [84]
2025-07-16 07:09:34,816 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:09:34,816 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:09:34,816 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:09:34,820 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:09:34,820 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:09:34,821 [INFO] app.core.logging_config: Session opened
2025-07-16 07:09:34,821 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:09:34,821 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:09:34,821 [INFO] app.core.logging_config: Session closed
2025-07-16 07:09:38,030 [INFO] uvicorn.error: Shutting down
2025-07-16 07:09:38,130 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:09:38,131 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:09:38,131 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:09:38,131 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:09:38,132 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:09:38,132 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:09:38,132 [INFO] uvicorn.error: Finished server process [84]
2025-07-16 07:09:39,226 [INFO] uvicorn.error: Started server process [86]
2025-07-16 07:09:39,226 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:09:39,226 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:09:39,227 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:09:39,231 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:09:39,231 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:09:39,231 [INFO] app.core.logging_config: Session opened
2025-07-16 07:09:39,231 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:09:39,231 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:09:39,232 [INFO] app.core.logging_config: Session closed
2025-07-16 07:09:40,777 [INFO] app.core.logging_config: Session opened
2025-07-16 07:09:40,778 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:09:40,778 [INFO] app.core.auth: Decoding token
2025-07-16 07:09:40,821 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 07:09:40,821 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:09:40,823 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 07:09:40,823 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:09:40,824 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 07:09:40,825 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:09:40,829 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:09:40,840 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 07:09:40,840 [INFO] sqlalchemy.engine.Engine: [generated in 0.00035s] (10,)
2025-07-16 07:09:40,855 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 07:09:40,857 [INFO] app.handlers.tasks: Updating task with ID: 9 and data: name='string' pomodoro_count=1 category_id=1 description='string'
2025-07-16 07:09:40,857 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 07:09:40,858 [INFO] app.core.logging_config: Session closed
2025-07-16 07:09:40,858 [INFO] uvicorn.access: 172.20.0.1:33862 - "PATCH /api/tasks/9 HTTP/1.1" 500
2025-07-16 07:09:40,859 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 168, in update_task
    task_db = TaskSchemaDB(**dict(task_data), owner_id=user.id)
                                  ^^^^^^^^^
NameError: name 'task_data' is not defined
2025-07-16 07:09:49,565 [INFO] uvicorn.error: Shutting down
2025-07-16 07:09:49,666 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:09:49,666 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:09:49,666 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:09:49,666 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:09:49,670 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:09:49,670 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:09:49,670 [INFO] uvicorn.error: Finished server process [86]
2025-07-16 07:09:50,435 [INFO] uvicorn.error: Started server process [88]
2025-07-16 07:09:50,435 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:09:50,436 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:09:50,436 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:09:50,439 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:09:50,439 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:09:50,439 [INFO] app.core.logging_config: Session opened
2025-07-16 07:09:50,439 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:09:50,439 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:09:50,440 [INFO] app.core.logging_config: Session closed
2025-07-16 07:09:52,210 [INFO] app.core.logging_config: Session opened
2025-07-16 07:09:52,211 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:09:52,211 [INFO] app.core.auth: Decoding token
2025-07-16 07:09:52,253 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 07:09:52,253 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:09:52,254 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 07:09:52,254 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:09:52,256 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 07:09:52,256 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:09:52,258 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:09:52,269 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 07:09:52,269 [INFO] sqlalchemy.engine.Engine: [generated in 0.00028s] (10,)
2025-07-16 07:09:52,282 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 07:09:52,283 [INFO] app.handlers.tasks: Updating task with ID: 9 and data: name='string' pomodoro_count=1 category_id=1 description='string'
2025-07-16 07:09:52,284 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 07:09:52,285 [INFO] app.core.logging_config: Session closed
2025-07-16 07:09:52,285 [INFO] uvicorn.access: 172.20.0.1:41202 - "PATCH /api/tasks/9 HTTP/1.1" 500
2025-07-16 07:09:52,286 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 168, in update_task
    task_db = TaskSchemaDB(**dict(task_data), owner_id=user.id)
                                  ^^^^^^^^^
NameError: name 'task_data' is not defined
2025-07-16 07:10:02,381 [INFO] uvicorn.error: Shutting down
2025-07-16 07:10:02,481 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:10:02,481 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:10:02,481 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:10:02,482 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:10:02,485 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:10:02,485 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:10:02,486 [INFO] uvicorn.error: Finished server process [88]
2025-07-16 07:10:03,256 [INFO] uvicorn.error: Started server process [90]
2025-07-16 07:10:03,256 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:10:03,256 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:10:03,256 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:10:03,260 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:10:03,260 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:10:03,260 [INFO] app.core.logging_config: Session opened
2025-07-16 07:10:03,260 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:10:03,261 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:10:03,261 [INFO] app.core.logging_config: Session closed
2025-07-16 07:10:06,862 [INFO] app.core.logging_config: Session opened
2025-07-16 07:10:06,862 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:10:06,862 [INFO] app.core.auth: Decoding token
2025-07-16 07:10:06,898 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 07:10:06,898 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:10:06,900 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 07:10:06,900 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:10:06,901 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 07:10:06,901 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:10:06,903 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:10:06,910 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 07:10:06,911 [INFO] sqlalchemy.engine.Engine: [generated in 0.00030s] (10,)
2025-07-16 07:10:06,920 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 07:10:06,922 [INFO] app.handlers.tasks: Updating task with ID: 9 and data: name='string' pomodoro_count=1 category_id=1 description='string'
2025-07-16 07:10:06,922 [INFO] app.service.task: Updating task 9 with data: {'name': 'string', 'pomodoro_count': 1, 'category_id': 1, 'description': 'string', 'owner_id': 10}
2025-07-16 07:10:06,925 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER AND tasks.is_deleted IS false
2025-07-16 07:10:06,925 [INFO] sqlalchemy.engine.Engine: [generated in 0.00049s] (9,)
2025-07-16 07:10:06,929 [INFO] sqlalchemy.engine.Engine: UPDATE tasks SET name=$1::VARCHAR, pomodoro_count=$2::INTEGER, description=$3::VARCHAR, updated_at=now() WHERE tasks.id = $4::INTEGER
2025-07-16 07:10:06,929 [INFO] sqlalchemy.engine.Engine: [generated in 0.00028s] ('string', 1, 'string', 9)
2025-07-16 07:10:06,931 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-16 07:10:06,944 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:10:06,945 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-16 07:10:06,945 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] (9,)
2025-07-16 07:10:06,947 [INFO] app.service.task: Task updated successfully: 9
2025-07-16 07:10:06,947 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 07:10:06,948 [INFO] app.core.logging_config: Session closed
2025-07-16 07:10:06,948 [INFO] uvicorn.access: 172.20.0.1:48774 - "PATCH /api/tasks/9 HTTP/1.1" 200
2025-07-16 07:11:09,280 [INFO] app.core.logging_config: Session opened
2025-07-16 07:11:09,280 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:11:09,281 [ERROR] app.core.authz: Missing access token
2025-07-16 07:11:09,281 [INFO] app.core.logging_config: Session closed
2025-07-16 07:11:09,282 [INFO] uvicorn.access: 172.20.0.1:55344 - "GET /api/tasks HTTP/1.1" 401
2025-07-16 07:12:04,247 [INFO] uvicorn.access: 172.20.0.1:55996 - "OPTIONS /api/tasks HTTP/1.1" 200
2025-07-16 07:12:04,250 [INFO] app.core.logging_config: Session opened
2025-07-16 07:12:04,251 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:12:04,251 [ERROR] app.core.authz: Missing access token
2025-07-16 07:12:04,251 [INFO] app.core.logging_config: Session closed
2025-07-16 07:12:04,251 [INFO] uvicorn.access: 172.20.0.1:56006 - "POST /api/tasks HTTP/1.1" 401
2025-07-16 07:12:36,912 [INFO] uvicorn.access: 172.20.0.1:53214 - "GET /docs HTTP/1.1" 200
2025-07-16 07:12:37,019 [INFO] uvicorn.access: 172.20.0.1:53214 - "GET /openapi.json HTTP/1.1" 200
2025-07-16 07:12:39,024 [INFO] uvicorn.access: 172.20.0.1:53214 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-07-16 07:14:41,866 [INFO] uvicorn.error: Shutting down
2025-07-16 07:14:41,967 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:14:41,967 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:14:41,967 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:14:41,968 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:14:41,971 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:14:41,972 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:14:41,972 [INFO] uvicorn.error: Finished server process [90]
2025-07-16 07:14:42,722 [INFO] uvicorn.error: Started server process [92]
2025-07-16 07:14:42,723 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:14:42,723 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:14:42,723 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:14:42,726 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:14:42,726 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:14:42,727 [INFO] app.core.logging_config: Session opened
2025-07-16 07:14:42,727 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:14:42,727 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:14:42,727 [INFO] app.core.logging_config: Session closed
2025-07-16 07:14:43,731 [INFO] uvicorn.error: Shutting down
2025-07-16 07:14:43,832 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:14:43,832 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:14:43,832 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:14:43,832 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:14:43,833 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:14:43,833 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:14:43,833 [INFO] uvicorn.error: Finished server process [92]
2025-07-16 07:24:10,501 [INFO] uvicorn.error: Started server process [9]
2025-07-16 07:24:10,501 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:24:10,501 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:24:10,501 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:24:10,506 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:24:10,507 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:24:10,507 [INFO] app.core.logging_config: Session opened
2025-07-16 07:24:10,507 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:24:10,507 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:24:10,508 [INFO] app.core.logging_config: Session closed
2025-07-16 07:24:19,176 [INFO] uvicorn.access: 172.20.0.1:60132 - "OPTIONS /api/tasks HTTP/1.1" 200
2025-07-16 07:24:19,180 [INFO] app.core.logging_config: Session opened
2025-07-16 07:24:19,180 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:24:19,180 [ERROR] app.core.authz: Missing access token
2025-07-16 07:24:19,180 [INFO] app.core.logging_config: Session closed
2025-07-16 07:24:19,181 [INFO] uvicorn.access: 172.20.0.1:60142 - "POST /api/tasks HTTP/1.1" 401
2025-07-16 07:25:58,694 [INFO] uvicorn.error: Shutting down
2025-07-16 07:25:58,794 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:25:58,795 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:25:58,795 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:25:58,795 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:25:58,796 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:25:58,796 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:25:58,796 [INFO] uvicorn.error: Finished server process [9]
2025-07-16 07:26:45,150 [INFO] uvicorn.error: Started server process [9]
2025-07-16 07:26:45,150 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:26:45,150 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:26:45,150 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:26:45,154 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:26:45,154 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:26:45,154 [INFO] app.core.logging_config: Session opened
2025-07-16 07:26:45,154 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:26:45,155 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:26:45,155 [INFO] app.core.logging_config: Session closed
2025-07-16 07:26:48,936 [INFO] app.core.logging_config: Session opened
2025-07-16 07:26:48,937 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:26:48,937 [ERROR] app.core.authz: Missing access token
2025-07-16 07:26:48,937 [INFO] app.core.logging_config: Session closed
2025-07-16 07:26:48,938 [INFO] uvicorn.access: 172.20.0.1:37240 - "POST /api/tasks HTTP/1.1" 401
2025-07-16 07:28:09,020 [INFO] app.core.logging_config: Session opened
2025-07-16 07:28:09,020 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:28:09,020 [INFO] app.core.auth: Decoding token
2025-07-16 07:28:09,066 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 07:28:09,066 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:28:09,068 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 07:28:09,069 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:28:09,071 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 07:28:09,071 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 07:28:09,074 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:28:09,085 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 07:28:09,085 [INFO] sqlalchemy.engine.Engine: [generated in 0.00056s] (10,)
2025-07-16 07:28:09,104 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 07:28:09,105 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-16 07:28:09,105 [INFO] app.service.task: Fetching tasks for user ID: 10 with include_deleted: False
2025-07-16 07:28:09,105 [INFO] app.repository.task: Fetching tasks for user ID: 10 with include_deleted: False
2025-07-16 07:28:09,108 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 07:28:09,108 [INFO] sqlalchemy.engine.Engine: [generated in 0.00057s] (10,)
2025-07-16 07:28:09,111 [INFO] app.repository.task: Fetched 1 tasks for user ID: 10
2025-07-16 07:28:09,112 [INFO] app.service.task: Fetched 1 tasks for user ID: 10
2025-07-16 07:28:09,113 [INFO] app.handlers.tasks: Fetched 1 tasks successfully
2025-07-16 07:28:09,114 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 07:28:09,115 [INFO] app.core.logging_config: Session closed
2025-07-16 07:28:09,115 [INFO] uvicorn.access: 172.20.0.1:51932 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 07:28:31,618 [INFO] app.core.logging_config: Session opened
2025-07-16 07:28:31,618 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:28:31,618 [ERROR] app.core.authz: Missing access token
2025-07-16 07:28:31,618 [INFO] app.core.logging_config: Session closed
2025-07-16 07:28:31,619 [INFO] uvicorn.access: 172.20.0.1:35256 - "GET /api/tasks HTTP/1.1" 401
2025-07-16 07:28:35,590 [INFO] app.core.logging_config: Session opened
2025-07-16 07:28:35,591 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:28:35,591 [INFO] app.core.auth: Decoding token
2025-07-16 07:28:35,593 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 07:28:35,593 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 07:28:35,593 [INFO] sqlalchemy.engine.Engine: [cached since 26.51s ago] (10,)
2025-07-16 07:28:35,596 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 07:28:35,596 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-16 07:28:35,597 [INFO] app.service.task: Fetching tasks for user ID: 10 with include_deleted: False
2025-07-16 07:28:35,597 [INFO] app.repository.task: Fetching tasks for user ID: 10 with include_deleted: False
2025-07-16 07:28:35,598 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 07:28:35,598 [INFO] sqlalchemy.engine.Engine: [cached since 26.49s ago] (10,)
2025-07-16 07:28:35,599 [INFO] app.repository.task: Fetched 1 tasks for user ID: 10
2025-07-16 07:28:35,600 [INFO] app.service.task: Fetched 1 tasks for user ID: 10
2025-07-16 07:28:35,600 [INFO] app.handlers.tasks: Fetched 1 tasks successfully
2025-07-16 07:28:35,601 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 07:28:35,601 [INFO] app.core.logging_config: Session closed
2025-07-16 07:28:35,602 [INFO] uvicorn.access: 172.20.0.1:38088 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 07:30:25,470 [INFO] app.core.logging_config: Session opened
2025-07-16 07:30:25,470 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:30:25,470 [ERROR] app.core.authz: Missing access token
2025-07-16 07:30:25,470 [INFO] app.core.logging_config: Session closed
2025-07-16 07:30:25,470 [INFO] uvicorn.access: 172.20.0.1:42066 - "POST /api/tasks HTTP/1.1" 401
2025-07-16 07:41:26,669 [INFO] app.core.logging_config: Session opened
2025-07-16 07:41:26,669 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:41:26,669 [INFO] app.core.auth: Decoding token
2025-07-16 07:41:26,670 [ERROR] app.core.auth: Token decoding error: Signature has expired.
2025-07-16 07:41:26,670 [ERROR] app.core.authz: Invalid token
2025-07-16 07:41:26,670 [INFO] app.core.logging_config: Session closed
2025-07-16 07:41:26,670 [INFO] uvicorn.access: 172.20.0.1:57392 - "GET /api/tasks HTTP/1.1" 401
2025-07-16 07:46:41,843 [INFO] app.core.logging_config: Session opened
2025-07-16 07:46:41,844 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:46:41,844 [ERROR] app.core.authz: Missing access token
2025-07-16 07:46:41,844 [INFO] app.core.logging_config: Session closed
2025-07-16 07:46:41,845 [INFO] uvicorn.access: 172.20.0.1:55796 - "GET /api/tasks HTTP/1.1" 401
2025-07-16 07:46:48,171 [INFO] uvicorn.error: Shutting down
2025-07-16 07:46:48,272 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 07:46:48,272 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 07:46:48,272 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 07:46:48,272 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 07:46:48,276 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 07:46:48,276 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 07:46:48,276 [INFO] uvicorn.error: Finished server process [9]
2025-07-16 07:49:04,604 [INFO] uvicorn.error: Started server process [9]
2025-07-16 07:49:04,605 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 07:49:04,605 [INFO] app.core.logging_config: Initializing application...
2025-07-16 07:49:04,605 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 07:49:04,609 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 07:49:04,610 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 07:49:04,610 [INFO] app.core.logging_config: Session opened
2025-07-16 07:49:04,610 [INFO] app.core.logging_config: Database connection verified
2025-07-16 07:49:04,610 [INFO] uvicorn.error: Application startup complete.
2025-07-16 07:49:04,610 [INFO] app.core.logging_config: Session closed
2025-07-16 07:50:44,984 [INFO] app.core.logging_config: Session opened
2025-07-16 07:50:44,985 [INFO] app.core.authz: Retrieving current user
2025-07-16 07:50:44,985 [INFO] app.core.auth: Decoding token
2025-07-16 07:50:44,991 [ERROR] app.core.auth: Token decoding error: Signature has expired.
2025-07-16 07:50:44,991 [ERROR] app.core.authz: Invalid token
2025-07-16 07:50:44,992 [INFO] app.core.logging_config: Session closed
2025-07-16 07:50:44,992 [INFO] uvicorn.access: 172.20.0.5:44846 - "GET /api/tasks HTTP/1.0" 401
2025-07-16 12:18:10,053 [INFO] app.core.logging_config: Session opened
2025-07-16 12:18:10,092 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 12:18:10,092 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:18:10,094 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 12:18:10,094 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:18:10,096 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 12:18:10,096 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:18:10,097 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:18:10,108 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:18:10,108 [INFO] sqlalchemy.engine.Engine: [generated in 0.00061s] ('user@example.com',)
2025-07-16 12:18:10,110 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:18:10,111 [INFO] app.core.logging_config: Session closed
2025-07-16 12:18:10,111 [INFO] uvicorn.access: 172.20.0.1:39646 - "POST /auth/login HTTP/1.1" 500
2025-07-16 12:18:10,111 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "users" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 34, in login_user
    user = await service.repository.get_user_by_email(form_data.username)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 12, in get_user_by_email
    result = await self.db.execute(select(User).filter(User.email == email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist
[SQL: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR]
[parameters: ('user@example.com',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-07-16 12:23:51,302 [INFO] uvicorn.error: Shutting down
2025-07-16 12:23:51,402 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 12:23:51,403 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 12:23:51,403 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 12:23:51,404 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 12:23:51,410 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 12:23:51,411 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 12:23:51,411 [INFO] uvicorn.error: Finished server process [9]
2025-07-16 12:23:52,268 [INFO] uvicorn.error: Started server process [12]
2025-07-16 12:23:52,268 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 12:23:52,268 [INFO] app.core.logging_config: Initializing application...
2025-07-16 12:23:52,268 [INFO] app.core.logging_config: Connecting to Redis...
2025-07-16 12:23:52,274 [INFO] app.core.logging_config: Redis connected successfully
2025-07-16 12:23:52,274 [INFO] app.core.logging_config: Verifying database connection...
2025-07-16 12:23:52,274 [INFO] app.core.logging_config: Session opened
2025-07-16 12:23:52,275 [INFO] app.core.logging_config: Database connection verified
2025-07-16 12:23:52,275 [INFO] uvicorn.error: Application startup complete.
2025-07-16 12:23:52,276 [INFO] app.core.logging_config: Session closed
2025-07-16 12:23:58,847 [INFO] app.core.logging_config: Session opened
2025-07-16 12:23:58,888 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 12:23:58,889 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:23:58,891 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 12:23:58,891 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:23:58,894 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 12:23:58,895 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:23:58,896 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:23:58,904 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:23:58,904 [INFO] sqlalchemy.engine.Engine: [generated in 0.00035s] ('user@example.com',)
2025-07-16 12:23:58,917 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:23:58,919 [INFO] app.core.logging_config: Session closed
2025-07-16 12:23:58,920 [INFO] uvicorn.access: 172.20.0.1:38338 - "POST /auth/login HTTP/1.1" 401
2025-07-16 12:24:02,102 [INFO] app.core.logging_config: Session opened
2025-07-16 12:24:02,104 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:24:02,105 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:24:02,105 [INFO] sqlalchemy.engine.Engine: [cached since 3.201s ago] ('user@example.com',)
2025-07-16 12:24:02,106 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:24:02,107 [INFO] app.core.logging_config: Session closed
2025-07-16 12:24:02,107 [INFO] uvicorn.access: 172.20.0.1:38338 - "POST /auth/login HTTP/1.1" 401
2025-07-16 12:24:25,037 [INFO] app.core.logging_config: Session opened
2025-07-16 12:24:25,038 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:24:25,038 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:24:25,038 [INFO] sqlalchemy.engine.Engine: [cached since 26.13s ago] ('user@example.com',)
2025-07-16 12:24:25,040 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:24:25,041 [INFO] app.core.logging_config: Session closed
2025-07-16 12:24:25,042 [INFO] uvicorn.access: 172.20.0.1:38794 - "POST /auth/login HTTP/1.1" 401
2025-07-16 12:24:45,328 [INFO] app.core.logging_config: Session opened
2025-07-16 12:24:45,330 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:24:45,331 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:24:45,331 [INFO] sqlalchemy.engine.Engine: [cached since 46.43s ago] ('gay@gmail.com',)
2025-07-16 12:24:45,332 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:24:45,333 [INFO] app.core.logging_config: Session closed
2025-07-16 12:24:45,333 [INFO] uvicorn.access: 172.20.0.1:33898 - "POST /auth/login HTTP/1.1" 401
2025-07-16 12:25:14,994 [INFO] app.core.logging_config: Session opened
2025-07-16 12:25:15,001 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:25:15,001 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:25:15,001 [INFO] sqlalchemy.engine.Engine: [cached since 76.1s ago] ('user@example.com',)
2025-07-16 12:25:15,003 [INFO] app.core.auth: Hashing password
2025-07-16 12:25:15,210 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-16 12:25:15,210 [INFO] sqlalchemy.engine.Engine: [generated in 0.00028s] ('string', 'user@example.com', '$2b$12$r3WmMM7BqYtp8grqKqWi2uSUmwshtHKfe1Tv5tefJOxyAsyKLpXqi', True, False, 'USER', '["read", "delete", "write"]', False)
2025-07-16 12:25:15,213 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-16 12:25:15,223 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:25:15,225 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 12:25:15,225 [INFO] sqlalchemy.engine.Engine: [generated in 0.00038s] (1,)
2025-07-16 12:25:15,227 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:25:15,228 [INFO] app.core.logging_config: Session closed
2025-07-16 12:25:15,228 [INFO] uvicorn.access: 172.20.0.1:50484 - "POST /auth/register HTTP/1.1" 200
2025-07-16 12:25:29,586 [INFO] app.core.logging_config: Session opened
2025-07-16 12:25:29,588 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:25:29,589 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:25:29,589 [INFO] sqlalchemy.engine.Engine: [cached since 90.69s ago] ('user@example.com',)
2025-07-16 12:25:29,590 [INFO] app.core.auth: Verifying password
2025-07-16 12:25:29,778 [INFO] app.core.auth: Creating access token
2025-07-16 12:25:29,782 [INFO] app.core.auth: Creating refresh token
2025-07-16 12:25:29,783 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:25:29,784 [INFO] app.core.logging_config: Session closed
2025-07-16 12:25:29,784 [INFO] uvicorn.access: 172.20.0.1:45998 - "POST /auth/login HTTP/1.1" 200
2025-07-16 12:25:40,396 [INFO] app.core.logging_config: Session opened
2025-07-16 12:25:40,396 [INFO] app.core.authz: Retrieving current user
2025-07-16 12:25:40,396 [INFO] app.core.auth: Decoding token
2025-07-16 12:25:40,397 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:25:40,399 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 12:25:40,399 [INFO] sqlalchemy.engine.Engine: [generated in 0.00038s] (1,)
2025-07-16 12:25:40,401 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 12:25:40,402 [INFO] app.handlers.tasks: Creating task with data: name='Моя задача' pomodoro_count=4 category_id=1 description='Нужно сделать это и то'
2025-07-16 12:25:40,403 [INFO] app.service.task: Creating task with data: {'name': 'Моя задача', 'pomodoro_count': 4, 'category_id': 1, 'description': 'Нужно сделать это и то', 'owner_id': 1}
2025-07-16 12:25:40,405 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-16 12:25:40,406 [INFO] sqlalchemy.engine.Engine: [generated in 0.00034s] ('Моя задача', 4, 1, 'Нужно сделать это и то', 1, False)
2025-07-16 12:25:40,408 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-16 12:25:40,410 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:25:40,411 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-16 12:25:40,411 [INFO] sqlalchemy.engine.Engine: [generated in 0.00030s] (1,)
2025-07-16 12:25:40,413 [INFO] app.service.task: Task created successfully with ID: 1
2025-07-16 12:25:40,413 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:25:40,414 [INFO] app.core.logging_config: Session closed
2025-07-16 12:25:40,414 [INFO] uvicorn.access: 172.20.0.1:40176 - "POST /api/tasks HTTP/1.1" 201
2025-07-16 12:25:45,497 [INFO] app.core.logging_config: Session opened
2025-07-16 12:25:45,497 [INFO] app.core.authz: Retrieving current user
2025-07-16 12:25:45,497 [INFO] app.core.auth: Decoding token
2025-07-16 12:25:45,499 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:25:45,500 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 12:25:45,500 [INFO] sqlalchemy.engine.Engine: [cached since 5.101s ago] (1,)
2025-07-16 12:25:45,502 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 12:25:45,502 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-16 12:25:45,502 [INFO] app.service.task: Fetching tasks for user ID: 1 with include_deleted: False
2025-07-16 12:25:45,502 [INFO] app.repository.task: Fetching tasks for user ID: 1 with include_deleted: False
2025-07-16 12:25:45,504 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 12:25:45,505 [INFO] sqlalchemy.engine.Engine: [generated in 0.00078s] (1,)
2025-07-16 12:25:45,508 [INFO] app.repository.task: Fetched 1 tasks for user ID: 1
2025-07-16 12:25:45,508 [INFO] app.service.task: Fetched 1 tasks for user ID: 1
2025-07-16 12:25:45,508 [INFO] app.handlers.tasks: Fetched 1 tasks successfully
2025-07-16 12:25:45,508 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:25:45,509 [INFO] app.core.logging_config: Session closed
2025-07-16 12:25:45,509 [INFO] uvicorn.access: 172.20.0.1:48700 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 12:25:46,455 [INFO] app.core.logging_config: Session opened
2025-07-16 12:25:46,455 [INFO] app.core.authz: Retrieving current user
2025-07-16 12:25:46,455 [INFO] app.core.auth: Decoding token
2025-07-16 12:25:46,457 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:25:46,458 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 12:25:46,458 [INFO] sqlalchemy.engine.Engine: [cached since 6.059s ago] (1,)
2025-07-16 12:25:46,459 [INFO] app.core.authz: User retrieved: user@example.com
2025-07-16 12:25:46,459 [INFO] app.handlers.tasks: Fetching all tasks
2025-07-16 12:25:46,460 [INFO] app.service.task: Fetching tasks for user ID: 1 with include_deleted: False
2025-07-16 12:25:46,460 [INFO] app.repository.task: Fetching tasks for user ID: 1 with include_deleted: False
2025-07-16 12:25:46,460 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 12:25:46,461 [INFO] sqlalchemy.engine.Engine: [cached since 0.9565s ago] (1,)
2025-07-16 12:25:46,461 [INFO] app.repository.task: Fetched 1 tasks for user ID: 1
2025-07-16 12:25:46,462 [INFO] app.service.task: Fetched 1 tasks for user ID: 1
2025-07-16 12:25:46,462 [INFO] app.handlers.tasks: Fetched 1 tasks successfully
2025-07-16 12:25:46,462 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:25:46,463 [INFO] app.core.logging_config: Session closed
2025-07-16 12:25:46,463 [INFO] uvicorn.access: 172.20.0.1:48700 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 12:25:54,588 [INFO] app.core.logging_config: Session opened
2025-07-16 12:25:54,590 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:25:54,590 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:25:54,591 [INFO] sqlalchemy.engine.Engine: [cached since 115.7s ago] ('user2@example.com',)
2025-07-16 12:25:54,593 [INFO] app.core.auth: Hashing password
2025-07-16 12:25:54,783 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-16 12:25:54,783 [INFO] sqlalchemy.engine.Engine: [cached since 39.57s ago] ('string', 'user2@example.com', '$2b$12$Zzp.Sqr/PFkBfCN1RpHq..Rd1UEm6CJdkISM6Hd43mv.t00SZhSOi', True, False, 'USER', '["read", "delete", "write"]', False)
2025-07-16 12:25:54,784 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:25:54,786 [INFO] app.core.logging_config: Session closed
2025-07-16 12:25:54,787 [INFO] uvicorn.access: 172.20.0.1:49338 - "POST /auth/register HTTP/1.1" 500
2025-07-16 12:25:54,788 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.UniqueViolationError: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 23, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 18, in register_user
    db_user = await self.repository.create_user(user_copy)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 23, in create_user
    await self.db.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.
[SQL: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('string', 'user2@example.com', '$2b$12$Zzp.Sqr/PFkBfCN1RpHq..Rd1UEm6CJdkISM6Hd43mv.t00SZhSOi', True, False, 'USER', '["read", "delete", "write"]', False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-16 12:27:51,259 [INFO] uvicorn.error: Shutting down
2025-07-16 12:27:51,360 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 12:27:51,360 [INFO] app.core.logging_config: Shutting down application...
2025-07-16 12:27:51,360 [INFO] app.core.logging_config: Closing Redis connection...
2025-07-16 12:27:51,360 [INFO] app.core.logging_config: Disposing database engine...
2025-07-16 12:27:51,364 [INFO] app.core.logging_config: Shutdown completed
2025-07-16 12:27:51,364 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 12:27:51,364 [INFO] uvicorn.error: Finished server process [12]
2025-07-16 12:27:52,346 [INFO] uvicorn.error: Started server process [15]
2025-07-16 12:27:52,347 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 12:27:52,351 [INFO] uvicorn.error: Application startup complete.
2025-07-16 12:27:55,460 [INFO] uvicorn.error: Shutting down
2025-07-16 12:27:55,560 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 12:27:55,561 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 12:27:55,562 [INFO] uvicorn.error: Finished server process [15]
2025-07-16 12:28:08,418 [INFO] uvicorn.error: Started server process [9]
2025-07-16 12:28:08,419 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 12:28:08,427 [INFO] uvicorn.error: Application startup complete.
2025-07-16 12:28:10,534 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 12:28:10,534 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:28:10,536 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 12:28:10,537 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:28:10,539 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 12:28:10,539 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:28:10,540 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:28:10,550 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:28:10,550 [INFO] sqlalchemy.engine.Engine: [generated in 0.00055s] ('user2@example.com',)
2025-07-16 12:28:10,775 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-16 12:28:10,775 [INFO] sqlalchemy.engine.Engine: [generated in 0.00043s] ('string', 'user2@example.com', '$2b$12$I7P4VIpcN0JzFjIr8Au7kephCQJg9egX1x4o/6hHSpPlyKBcy.KPO', True, False, 'USER', '["read", "delete", "write"]', False)
2025-07-16 12:28:10,777 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:28:10,779 [INFO] uvicorn.access: 172.20.0.1:40078 - "POST /auth/register HTTP/1.1" 500
2025-07-16 12:28:10,779 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 545, in _prepare_and_execute
    self._rows = deque(await prepared_stmt.fetch(*parameters))
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 176, in fetch
    data = await self.__bind_execute(args, 0, timeout)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 267, in __bind_execute
    data, status, _ = await self.__do_execute(
                      ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/prepared_stmt.py", line 256, in __do_execute
    return await executor(protocol)
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 206, in bind_execute
asyncpg.exceptions.UniqueViolationError: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.IntegrityError: <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 23, in register_user
    return await service.register_user(user)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user_service.py", line 18, in register_user
    db_user = await self.repository.create_user(user_copy)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user_repository.py", line 23, in create_user
    await self.db.commit()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 1014, in commit
    await greenlet_spawn(self.sync_session.commit)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 203, in greenlet_spawn
    result = context.switch(value)
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4345, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4480, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4441, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.IntegrityError: (sqlalchemy.dialects.postgresql.asyncpg.IntegrityError) <class 'asyncpg.exceptions.UniqueViolationError'>: duplicate key value violates unique constraint "ix_users_username"
DETAIL:  Key (username)=(string) already exists.
[SQL: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at]
[parameters: ('string', 'user2@example.com', '$2b$12$I7P4VIpcN0JzFjIr8Au7kephCQJg9egX1x4o/6hHSpPlyKBcy.KPO', True, False, 'USER', '["read", "delete", "write"]', False)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-07-16 12:29:00,020 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:29:00,020 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:29:00,021 [INFO] sqlalchemy.engine.Engine: [cached since 49.47s ago] ('user2@example.com',)
2025-07-16 12:29:00,212 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_active, is_superuser, role, permissions, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN, $5::BOOLEAN, $6::role, $7::VARCHAR, $8::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-07-16 12:29:00,212 [INFO] sqlalchemy.engine.Engine: [cached since 49.44s ago] ('string2', 'user2@example.com', '$2b$12$OIaX.xppYLXyA5XZODBd6..Go.hwe/dXGCkI9qI.meg2tBFALibce', True, False, 'USER', '["read", "delete", "write"]', False)
2025-07-16 12:29:00,214 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-16 12:29:00,225 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:29:00,228 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 12:29:00,228 [INFO] sqlalchemy.engine.Engine: [generated in 0.00069s] (4,)
2025-07-16 12:29:00,232 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:29:00,233 [INFO] uvicorn.access: 172.20.0.1:44558 - "POST /auth/register HTTP/1.1" 200
2025-07-16 12:29:16,499 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:29:16,499 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:29:16,500 [INFO] sqlalchemy.engine.Engine: [cached since 65.95s ago] ('user2@example.com',)
2025-07-16 12:29:16,693 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:29:16,694 [INFO] uvicorn.access: 172.20.0.1:41004 - "POST /auth/login HTTP/1.1" 200
2025-07-16 12:29:26,282 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:29:26,284 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 12:29:26,284 [INFO] sqlalchemy.engine.Engine: [generated in 0.00071s] (4,)
2025-07-16 12:29:26,291 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, pomodoro_count, category_id, description, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::INTEGER, $3::INTEGER, $4::VARCHAR, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id, tasks.created_at, tasks.updated_at
2025-07-16 12:29:26,292 [INFO] sqlalchemy.engine.Engine: [generated in 0.00038s] ('Моя задача2', 4, 1, 'Нужно сделать это и то', 4, False)
2025-07-16 12:29:26,295 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-07-16 12:29:26,302 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:29:26,304 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-07-16 12:29:26,305 [INFO] sqlalchemy.engine.Engine: [generated in 0.00029s] (2,)
2025-07-16 12:29:26,307 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:29:26,308 [INFO] uvicorn.access: 172.20.0.1:33120 - "POST /api/tasks HTTP/1.1" 201
2025-07-16 12:29:31,442 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:29:31,443 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 12:29:31,443 [INFO] sqlalchemy.engine.Engine: [cached since 5.159s ago] (4,)
2025-07-16 12:29:31,446 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 12:29:31,446 [INFO] sqlalchemy.engine.Engine: [generated in 0.00037s] (4,)
2025-07-16 12:29:31,449 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:29:31,451 [INFO] uvicorn.access: 172.20.0.1:35270 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 12:29:48,340 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:29:48,341 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:29:48,341 [INFO] sqlalchemy.engine.Engine: [cached since 97.79s ago] ('user@example.com',)
2025-07-16 12:29:48,531 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:29:48,532 [INFO] uvicorn.access: 172.20.0.1:48768 - "POST /auth/login HTTP/1.1" 200
2025-07-16 12:29:57,302 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:29:57,302 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 12:29:57,302 [INFO] sqlalchemy.engine.Engine: [cached since 31.02s ago] (1,)
2025-07-16 12:29:57,304 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 12:29:57,305 [INFO] sqlalchemy.engine.Engine: [cached since 25.86s ago] (1,)
2025-07-16 12:29:57,306 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:29:57,306 [INFO] uvicorn.access: 172.20.0.1:47406 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 12:30:54,295 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:30:54,296 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:30:54,296 [INFO] sqlalchemy.engine.Engine: [cached since 163.7s ago] ('user@example.com',)
2025-07-16 12:30:54,488 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:30:54,489 [INFO] uvicorn.access: 172.20.0.1:35894 - "POST /auth/login HTTP/1.1" 401
2025-07-16 12:31:01,084 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:31:01,084 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 12:31:01,085 [INFO] sqlalchemy.engine.Engine: [cached since 170.5s ago] ('user@example.com',)
2025-07-16 12:31:01,276 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:31:01,277 [INFO] uvicorn.access: 172.20.0.1:52464 - "POST /auth/login HTTP/1.1" 200
2025-07-16 12:34:32,682 [INFO] uvicorn.error: Shutting down
2025-07-16 12:34:32,783 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 12:34:32,789 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 12:34:32,790 [INFO] uvicorn.error: Finished server process [9]
2025-07-16 12:44:47,785 [INFO] uvicorn.error: Started server process [20]
2025-07-16 12:44:47,785 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 12:44:47,790 [INFO] uvicorn.error: Application startup complete.
2025-07-16 12:44:47,827 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 12:44:47,827 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:44:47,828 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 12:44:47,829 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:44:47,830 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 12:44:47,830 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 12:44:47,831 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:44:47,841 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 12:44:47,841 [INFO] sqlalchemy.engine.Engine: [generated in 0.00032s] (1,)
2025-07-16 12:44:47,856 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 12:44:47,856 [INFO] sqlalchemy.engine.Engine: [generated in 0.00041s] (1,)
2025-07-16 12:44:47,859 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:44:47,860 [INFO] uvicorn.access: 172.20.0.1:48748 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 12:44:50,175 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 12:44:50,175 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 12:44:50,175 [INFO] sqlalchemy.engine.Engine: [cached since 2.335s ago] (1,)
2025-07-16 12:44:50,178 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 12:44:50,179 [INFO] sqlalchemy.engine.Engine: [cached since 2.324s ago] (1,)
2025-07-16 12:44:50,183 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 12:44:50,186 [INFO] uvicorn.access: 172.20.0.1:48748 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 12:54:03,093 [INFO] uvicorn.error: Shutting down
2025-07-16 12:54:03,193 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 12:54:03,198 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 12:54:03,198 [INFO] uvicorn.error: Finished server process [20]
2025-07-16 12:54:04,246 [INFO] uvicorn.error: Started server process [22]
2025-07-16 12:54:04,247 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 12:54:04,251 [INFO] uvicorn.error: Application startup complete.
2025-07-16 12:59:53,862 [INFO] uvicorn.error: Shutting down
2025-07-16 12:59:53,962 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 12:59:53,964 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 12:59:53,964 [INFO] uvicorn.error: Finished server process [22]
2025-07-16 12:59:54,932 [INFO] uvicorn.error: Started server process [24]
2025-07-16 12:59:54,932 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 12:59:54,939 [INFO] uvicorn.error: Application startup complete.
2025-07-16 13:12:00,129 [INFO] uvicorn.error: Shutting down
2025-07-16 13:12:00,230 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 13:12:00,232 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 13:12:00,233 [INFO] uvicorn.error: Finished server process [24]
2025-07-16 13:12:01,337 [INFO] uvicorn.error: Started server process [26]
2025-07-16 13:12:01,337 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 13:12:01,342 [INFO] uvicorn.error: Application startup complete.
2025-07-16 13:43:45,178 [INFO] uvicorn.error: Shutting down
2025-07-16 13:43:45,279 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 13:43:45,280 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 13:43:45,281 [INFO] uvicorn.error: Finished server process [26]
2025-07-16 13:43:46,108 [INFO] uvicorn.error: Started server process [28]
2025-07-16 13:43:46,108 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 13:43:46,112 [INFO] uvicorn.error: Application startup complete.
2025-07-16 13:44:00,752 [INFO] uvicorn.error: Shutting down
2025-07-16 13:44:00,852 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 13:44:00,854 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 13:44:00,854 [INFO] uvicorn.error: Finished server process [28]
2025-07-16 13:44:01,623 [INFO] uvicorn.error: Started server process [30]
2025-07-16 13:44:01,623 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 13:44:01,626 [INFO] uvicorn.error: Application startup complete.
2025-07-16 13:44:07,046 [INFO] uvicorn.error: Shutting down
2025-07-16 13:44:07,147 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 13:44:07,148 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 13:44:07,149 [INFO] uvicorn.error: Finished server process [30]
2025-07-16 13:44:19,917 [INFO] uvicorn.error: Started server process [9]
2025-07-16 13:44:19,917 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 13:44:19,926 [INFO] uvicorn.error: Application startup complete.
2025-07-16 13:44:20,395 [INFO] uvicorn.access: 172.20.0.1:34314 - "GET /docs HTTP/1.1" 200
2025-07-16 13:44:20,519 [INFO] uvicorn.access: 172.20.0.1:34314 - "GET /openapi.json HTTP/1.1" 200
2025-07-16 13:44:29,049 [ERROR] app.core.auth: Token decoding error: Signature has expired.
2025-07-16 13:44:29,050 [ERROR] app.core.auth: Token decoding error: Subject must be a string.
2025-07-16 13:44:29,050 [INFO] uvicorn.access: 172.20.0.1:34318 - "GET /api/tasks HTTP/1.1" 500
2025-07-16 13:44:29,050 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/authz.py", line 39, in get_current_user
    user = await db.get(User, int(payload["sub"]))
                                  ~~~~~~~^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-07-16 13:44:38,800 [INFO] uvicorn.access: 172.20.0.1:38462 - "GET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1" 404
2025-07-16 13:46:49,636 [INFO] uvicorn.error: Shutting down
2025-07-16 13:46:49,737 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 13:46:49,738 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 13:46:49,738 [INFO] uvicorn.error: Finished server process [9]
2025-07-16 13:46:50,476 [INFO] uvicorn.error: Started server process [11]
2025-07-16 13:46:50,476 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 13:46:50,480 [INFO] uvicorn.error: Application startup complete.
2025-07-16 13:46:53,261 [ERROR] app.core.auth: Token decoding error: Signature has expired.
2025-07-16 13:46:53,261 [ERROR] app.core.auth: Token decoding error: Subject must be a string.
2025-07-16 13:46:53,262 [INFO] uvicorn.access: 172.20.0.1:33918 - "GET /api/tasks HTTP/1.1" 500
2025-07-16 13:46:53,263 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/authz.py", line 40, in get_current_user
    user = await db.get(User, int(payload["sub"]))
                                  ~~~~~~~^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-07-16 13:47:22,498 [INFO] uvicorn.error: Shutting down
2025-07-16 13:47:22,599 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 13:47:22,600 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 13:47:22,601 [INFO] uvicorn.error: Finished server process [11]
2025-07-16 13:47:23,383 [INFO] uvicorn.error: Started server process [13]
2025-07-16 13:47:23,383 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 13:47:23,387 [INFO] uvicorn.error: Application startup complete.
2025-07-16 13:47:23,805 [ERROR] app.core.auth: Token decoding error: Signature has expired.
2025-07-16 13:47:23,805 [ERROR] app.core.auth: Token decoding error: Subject must be a string.
2025-07-16 13:47:23,805 [INFO] uvicorn.access: 172.20.0.1:44416 - "GET /api/tasks HTTP/1.1" 500
2025-07-16 13:47:23,806 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/authz.py", line 41, in get_current_user
    user = await db.get(User, int(payload["sub"]))
                                  ~~~~~~~^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-07-16 13:47:41,162 [INFO] uvicorn.error: Shutting down
2025-07-16 13:47:41,263 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 13:47:41,264 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 13:47:41,264 [INFO] uvicorn.error: Finished server process [13]
2025-07-16 13:47:42,050 [INFO] uvicorn.error: Started server process [15]
2025-07-16 13:47:42,051 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 13:47:42,054 [INFO] uvicorn.error: Application startup complete.
2025-07-16 13:47:43,332 [ERROR] app.core.auth: Token decoding error: Signature has expired.
2025-07-16 13:47:43,333 [ERROR] app.core.auth: Token decoding error: Subject must be a string.
2025-07-16 13:47:43,333 [INFO] uvicorn.access: 172.20.0.1:34648 - "GET /api/tasks HTTP/1.1" 500
2025-07-16 13:47:43,334 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/authz.py", line 42, in get_current_user
    user = await db.get(User, int(payload["sub"]))
                                  ~~~~~~~^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-07-16 13:48:11,655 [INFO] uvicorn.error: Shutting down
2025-07-16 13:48:11,756 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 13:48:11,757 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 13:48:11,758 [INFO] uvicorn.error: Finished server process [15]
2025-07-16 13:48:12,670 [INFO] uvicorn.error: Started server process [17]
2025-07-16 13:48:12,670 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 13:48:12,674 [INFO] uvicorn.error: Application startup complete.
2025-07-16 13:48:12,946 [ERROR] app.core.auth: Token decoding error: Signature has expired.
2025-07-16 13:48:12,947 [ERROR] app.core.auth: Token decoding error: Subject must be a string.
2025-07-16 13:48:12,947 [INFO] uvicorn.access: 172.20.0.1:36346 - "GET /api/tasks HTTP/1.1" 500
2025-07-16 13:48:12,948 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/authz.py", line 42, in get_current_user
    user = await db.get(User, int(payload["sub"]))
                                  ~~~~~~~^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-07-16 13:48:52,903 [INFO] uvicorn.error: Shutting down
2025-07-16 13:48:53,004 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 13:48:53,005 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 13:48:53,005 [INFO] uvicorn.error: Finished server process [17]
2025-07-16 13:48:53,843 [INFO] uvicorn.error: Started server process [19]
2025-07-16 13:48:53,843 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 13:48:53,847 [INFO] uvicorn.error: Application startup complete.
2025-07-16 13:48:54,058 [ERROR] app.core.auth: Token decoding error: Signature has expired.
2025-07-16 13:48:54,058 [ERROR] app.core.auth: Token decoding error: Subject must be a string.
2025-07-16 13:48:54,059 [INFO] uvicorn.access: 172.20.0.1:35634 - "GET /api/tasks HTTP/1.1" 500
2025-07-16 13:48:54,059 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 615, in solve_dependencies
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/authz.py", line 42, in get_current_user
    user = await db.get(User, int(payload["sub"]))
                                  ~~~~~~~^^^^^^^
TypeError: 'NoneType' object is not subscriptable
2025-07-16 13:51:27,679 [INFO] uvicorn.error: Shutting down
2025-07-16 13:51:27,780 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 13:51:27,782 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 13:51:27,782 [INFO] uvicorn.error: Finished server process [19]
2025-07-16 13:51:28,598 [INFO] uvicorn.error: Started server process [21]
2025-07-16 13:51:28,598 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 13:51:28,602 [INFO] uvicorn.error: Application startup complete.
2025-07-16 14:10:15,666 [INFO] uvicorn.error: Shutting down
2025-07-16 14:10:15,767 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 14:10:15,769 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 14:10:15,769 [INFO] uvicorn.error: Finished server process [21]
2025-07-16 14:10:16,913 [INFO] uvicorn.error: Started server process [23]
2025-07-16 14:10:16,913 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 14:10:16,919 [INFO] uvicorn.error: Application startup complete.
2025-07-16 14:12:34,376 [ERROR] app.core.auth: Token decoding error: Signature has expired.
2025-07-16 14:12:34,376 [ERROR] app.core.auth: Token decoding error: Subject must be a string.
2025-07-16 14:12:34,376 [ERROR] app.core.authz: Invalid token
2025-07-16 14:12:34,377 [INFO] uvicorn.access: 172.20.0.1:36782 - "GET /api/tasks HTTP/1.1" 401
2025-07-16 14:12:59,152 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-07-16 14:12:59,152 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 14:12:59,154 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-07-16 14:12:59,155 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 14:12:59,157 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-07-16 14:12:59,157 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-07-16 14:12:59,158 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 14:12:59,171 [INFO] sqlalchemy.engine.Engine: SELECT users.id, users.username, users.email, users.hashed_password, users.is_active, users.is_superuser, users.role, users.permissions, users.refresh_token, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-07-16 14:12:59,171 [INFO] sqlalchemy.engine.Engine: [generated in 0.00059s] ('user@example.com',)
2025-07-16 14:12:59,402 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 14:12:59,404 [INFO] uvicorn.access: 172.20.0.1:59300 - "POST /auth/login HTTP/1.1" 200
2025-07-16 14:13:47,047 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 14:13:47,049 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.refresh_token AS users_refresh_token, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 14:13:47,050 [INFO] sqlalchemy.engine.Engine: [generated in 0.00077s] (1,)
2025-07-16 14:13:47,052 [ERROR] app.core.authz: Permission: Permission.READ, User Permissions: ["read", "delete", "write"]
2025-07-16 14:13:47,054 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 14:13:47,054 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] (1,)
2025-07-16 14:13:47,058 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 14:13:47,059 [INFO] uvicorn.access: 172.20.0.1:55968 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 14:13:50,242 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-07-16 14:13:50,243 [INFO] sqlalchemy.engine.Engine: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.is_active AS users_is_active, users.is_superuser AS users_is_superuser, users.role AS users_role, users.permissions AS users_permissions, users.refresh_token AS users_refresh_token, users.created_at AS users_created_at, users.updated_at AS users_updated_at, users.is_deleted AS users_is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-07-16 14:13:50,243 [INFO] sqlalchemy.engine.Engine: [cached since 3.194s ago] (1,)
2025-07-16 14:13:50,245 [ERROR] app.core.authz: Permission: Permission.READ, User Permissions: ["read", "delete", "write"]
2025-07-16 14:13:50,246 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.pomodoro_count, tasks.category_id, tasks.description, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-07-16 14:13:50,246 [INFO] sqlalchemy.engine.Engine: [cached since 3.192s ago] (1,)
2025-07-16 14:13:50,248 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-07-16 14:13:50,248 [INFO] uvicorn.access: 172.20.0.1:55968 - "GET /api/tasks HTTP/1.1" 200
2025-07-16 14:14:56,778 [ERROR] app.core.auth: Token decoding error: Signature has expired.
2025-07-16 14:14:56,778 [ERROR] app.core.auth: Token decoding error: Subject must be a string.
2025-07-16 14:14:56,778 [ERROR] app.core.authz: Invalid token
2025-07-16 14:14:56,779 [INFO] uvicorn.access: 172.20.0.1:49310 - "GET /api/tasks HTTP/1.1" 401
2025-07-16 14:17:48,158 [INFO] uvicorn.error: Shutting down
2025-07-16 14:17:48,259 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 14:17:48,265 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 14:17:48,265 [INFO] uvicorn.error: Finished server process [23]
2025-07-16 14:17:53,538 [INFO] uvicorn.error: Started server process [27]
2025-07-16 14:17:53,538 [INFO] uvicorn.error: Waiting for application startup.
2025-07-16 14:17:53,542 [INFO] uvicorn.error: Application startup complete.
2025-07-16 14:29:00,739 [INFO] uvicorn.error: Shutting down
2025-07-16 14:29:00,840 [INFO] uvicorn.error: Waiting for application shutdown.
2025-07-16 14:29:00,842 [INFO] uvicorn.error: Application shutdown complete.
2025-07-16 14:29:00,842 [INFO] uvicorn.error: Finished server process [27]
2025-08-06 09:00:09,094 [INFO] uvicorn.error: Started server process [13]
2025-08-06 09:00:09,095 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:00:09,105 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:00:48,131 [INFO] uvicorn.error: Shutting down
2025-08-06 09:00:48,231 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:00:48,234 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:00:48,234 [INFO] uvicorn.error: Finished server process [13]
2025-08-06 09:00:50,158 [INFO] uvicorn.error: Started server process [15]
2025-08-06 09:00:50,158 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:00:50,165 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:01:07,001 [INFO] uvicorn.access: 172.18.0.1:60434 - "GET / HTTP/1.1" 404
2025-08-06 09:01:07,060 [INFO] uvicorn.access: 172.18.0.1:60434 - "GET /favicon.ico HTTP/1.1" 404
2025-08-06 09:01:10,980 [INFO] uvicorn.access: 172.18.0.1:60434 - "GET /docs HTTP/1.1" 200
2025-08-06 09:01:12,034 [INFO] uvicorn.access: 172.18.0.1:60434 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 09:01:26,682 [INFO] uvicorn.access: 172.18.0.1:60450 - "GET /api/tasks HTTP/1.1" 401
2025-08-06 09:01:45,860 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 09:01:45,860 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:01:45,865 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 09:01:45,865 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:01:45,868 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 09:01:45,869 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:01:45,871 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 09:01:45,885 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users."ID", users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 09:01:45,886 [INFO] sqlalchemy.engine.Engine: [generated in 0.00055s] ('user@example.com',)
2025-08-06 09:01:45,889 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 09:01:45,890 [INFO] uvicorn.access: 172.18.0.1:60460 - "POST /auth/register HTTP/1.1" 500
2025-08-06 09:01:45,891 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "users" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 22, in register_user
    payload = await service.register_user(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user.py", line 26, in register_user
    user = await self.repository.create_user(user_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 30, in create_user
    existing_user = await self.get_user_by_email(user.email)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 16, in get_user_by_email
    result = await self.db_session.execute(select(User).filter(User.email == email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist
[SQL: SELECT users.username, users.email, users.hashed_password, users."ID", users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR]
[parameters: ('user@example.com',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-06 09:02:12,195 [INFO] uvicorn.access: 172.18.0.1:54838 - "GET /ping/db HTTP/1.1" 200
2025-08-06 09:02:22,011 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 09:02:22,012 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users."ID", users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 09:02:22,013 [INFO] sqlalchemy.engine.Engine: [cached since 36.13s ago] ('user@example.com',)
2025-08-06 09:02:22,016 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 09:02:22,017 [INFO] uvicorn.access: 172.18.0.1:54850 - "POST /auth/register HTTP/1.1" 500
2025-08-06 09:02:22,018 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 521, in _prepare_and_execute
    prepared_stmt, attributes = await adapt_connection._prepare(
                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 768, in _prepare
    prepared_stmt = await self._connection.prepare(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 635, in prepare
    return await self._prepare(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 653, in _prepare
    stmt = await self._get_statement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/asyncpg/connection.py", line 432, in _get_statement
    statement = await self._protocol.prepare(
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "asyncpg/protocol/protocol.pyx", line 165, in prepare
asyncpg.exceptions.UndefinedTableError: relation "users" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.dialects.postgresql.asyncpg.AsyncAdapt_asyncpg_dbapi.ProgrammingError: <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 22, in register_user
    payload = await service.register_user(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user.py", line 26, in register_user
    user = await self.repository.create_user(user_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 30, in create_user
    existing_user = await self.get_user_by_email(user.email)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 16, in get_user_by_email
    result = await self.db_session.execute(select(User).filter(User.email == email))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/ext/asyncio/session.py", line 463, in execute
    result = await greenlet_spawn(
             ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 201, in greenlet_spawn
    result = context.throw(*sys.exc_info())
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2351, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 132, in await_only
    return current.parent.switch(awaitable)  # type: ignore[no-any-return,attr-defined] # noqa: E501
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 196, in greenlet_spawn
    value = await result
            ^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 558, in _prepare_and_execute
    self._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 508, in _handle_exception
    self._adapt_connection._handle_exception(error)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 792, in _handle_exception
    raise translated_error from error
sqlalchemy.exc.ProgrammingError: (sqlalchemy.dialects.postgresql.asyncpg.ProgrammingError) <class 'asyncpg.exceptions.UndefinedTableError'>: relation "users" does not exist
[SQL: SELECT users.username, users.email, users.hashed_password, users."ID", users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR]
[parameters: ('user@example.com',)]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-08-06 09:03:28,777 [INFO] uvicorn.access: 172.18.0.1:35976 - "GET /ping/db HTTP/1.1" 200
2025-08-06 09:06:43,221 [INFO] uvicorn.error: Shutting down
2025-08-06 09:06:43,322 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:06:43,327 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:06:43,327 [INFO] uvicorn.error: Finished server process [15]
2025-08-06 09:06:44,113 [INFO] uvicorn.error: Started server process [17]
2025-08-06 09:06:44,113 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:06:44,118 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:06:47,328 [INFO] uvicorn.error: Shutting down
2025-08-06 09:06:47,428 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:06:47,430 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:06:47,430 [INFO] uvicorn.error: Finished server process [17]
2025-08-06 09:06:48,235 [INFO] uvicorn.error: Started server process [19]
2025-08-06 09:06:48,235 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:06:48,239 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:07:57,886 [INFO] uvicorn.error: Shutting down
2025-08-06 09:07:57,987 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:07:57,990 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:07:57,990 [INFO] uvicorn.error: Finished server process [19]
2025-08-06 09:07:59,221 [INFO] uvicorn.error: Started server process [21]
2025-08-06 09:07:59,222 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:07:59,237 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:08:27,130 [INFO] uvicorn.error: Shutting down
2025-08-06 09:08:27,230 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:08:27,232 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:08:27,232 [INFO] uvicorn.error: Finished server process [21]
2025-08-06 09:08:28,356 [INFO] uvicorn.error: Started server process [23]
2025-08-06 09:08:28,357 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:08:28,361 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:08:34,781 [INFO] uvicorn.error: Shutting down
2025-08-06 09:08:34,882 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:08:34,883 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:08:34,884 [INFO] uvicorn.error: Finished server process [23]
2025-08-06 09:08:36,789 [INFO] uvicorn.error: Started server process [25]
2025-08-06 09:08:36,790 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:08:36,797 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:08:39,108 [INFO] uvicorn.error: Shutting down
2025-08-06 09:08:39,208 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:08:39,210 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:08:39,210 [INFO] uvicorn.error: Finished server process [25]
2025-08-06 09:08:39,904 [INFO] uvicorn.error: Started server process [27]
2025-08-06 09:08:39,905 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:08:39,908 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:08:40,210 [INFO] uvicorn.error: Shutting down
2025-08-06 09:08:40,310 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:08:40,312 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:08:40,312 [INFO] uvicorn.error: Finished server process [27]
2025-08-06 09:08:41,043 [INFO] uvicorn.error: Started server process [29]
2025-08-06 09:08:41,043 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:08:41,047 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:08:44,758 [INFO] uvicorn.error: Shutting down
2025-08-06 09:08:44,859 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:08:44,862 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:08:44,863 [INFO] uvicorn.error: Finished server process [29]
2025-08-06 09:08:46,787 [INFO] uvicorn.error: Started server process [31]
2025-08-06 09:08:46,787 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:08:46,794 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:08:48,601 [INFO] uvicorn.error: Shutting down
2025-08-06 09:08:48,702 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:08:48,704 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:08:48,704 [INFO] uvicorn.error: Finished server process [31]
2025-08-06 09:08:49,814 [INFO] uvicorn.error: Started server process [33]
2025-08-06 09:08:49,814 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:08:49,819 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:08:50,522 [INFO] uvicorn.error: Shutting down
2025-08-06 09:08:50,623 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:08:50,624 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:08:50,624 [INFO] uvicorn.error: Finished server process [33]
2025-08-06 09:08:51,328 [INFO] uvicorn.error: Started server process [35]
2025-08-06 09:08:51,328 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:08:51,332 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:10:43,275 [INFO] uvicorn.error: Shutting down
2025-08-06 09:10:43,376 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:10:43,378 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:10:43,378 [INFO] uvicorn.error: Finished server process [35]
2025-08-06 09:10:45,236 [INFO] uvicorn.error: Started server process [37]
2025-08-06 09:10:45,236 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:10:45,241 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:10:48,553 [INFO] uvicorn.error: Shutting down
2025-08-06 09:10:48,653 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:10:48,655 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:10:48,655 [INFO] uvicorn.error: Finished server process [37]
2025-08-06 09:10:49,450 [INFO] uvicorn.error: Started server process [39]
2025-08-06 09:10:49,450 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:10:49,454 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:10:55,775 [INFO] uvicorn.error: Shutting down
2025-08-06 09:10:55,876 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:10:55,878 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:10:55,878 [INFO] uvicorn.error: Finished server process [39]
2025-08-06 09:10:57,618 [INFO] uvicorn.error: Started server process [41]
2025-08-06 09:10:57,619 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:10:57,624 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:11:09,163 [INFO] uvicorn.error: Shutting down
2025-08-06 09:11:09,264 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:11:09,266 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:11:09,266 [INFO] uvicorn.error: Finished server process [41]
2025-08-06 09:11:10,172 [INFO] uvicorn.error: Started server process [43]
2025-08-06 09:11:10,172 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:11:10,177 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:11:25,530 [INFO] uvicorn.error: Shutting down
2025-08-06 09:11:25,631 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:11:25,633 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:11:25,634 [INFO] uvicorn.error: Finished server process [43]
2025-08-06 09:11:27,279 [INFO] uvicorn.error: Started server process [45]
2025-08-06 09:11:27,279 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:11:27,283 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:11:36,112 [INFO] uvicorn.error: Shutting down
2025-08-06 09:11:36,212 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:11:36,214 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:11:36,215 [INFO] uvicorn.error: Finished server process [45]
2025-08-06 09:11:37,903 [INFO] uvicorn.error: Started server process [47]
2025-08-06 09:11:37,903 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:11:37,908 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:11:57,572 [INFO] uvicorn.error: Shutting down
2025-08-06 09:11:57,673 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:11:57,675 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:11:57,676 [INFO] uvicorn.error: Finished server process [47]
2025-08-06 09:11:59,871 [INFO] uvicorn.error: Started server process [49]
2025-08-06 09:11:59,871 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:11:59,880 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:12:55,972 [INFO] uvicorn.error: Shutting down
2025-08-06 09:12:56,073 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:12:56,077 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:12:56,078 [INFO] uvicorn.error: Finished server process [49]
2025-08-06 09:12:58,239 [INFO] uvicorn.error: Started server process [51]
2025-08-06 09:12:58,239 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:12:58,248 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:13:44,416 [INFO] uvicorn.error: Shutting down
2025-08-06 09:13:44,517 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:13:44,519 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:13:44,519 [INFO] uvicorn.error: Finished server process [51]
2025-08-06 09:13:46,298 [INFO] uvicorn.error: Started server process [53]
2025-08-06 09:13:46,298 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:13:46,305 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:13:54,932 [INFO] uvicorn.error: Shutting down
2025-08-06 09:13:55,033 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:13:55,035 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:13:55,036 [INFO] uvicorn.error: Finished server process [53]
2025-08-06 09:13:56,976 [INFO] uvicorn.error: Started server process [55]
2025-08-06 09:13:56,976 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:13:56,981 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:14:05,612 [INFO] uvicorn.error: Shutting down
2025-08-06 09:14:05,713 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:14:05,715 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:14:05,716 [INFO] uvicorn.error: Finished server process [55]
2025-08-06 09:14:07,390 [INFO] uvicorn.error: Started server process [57]
2025-08-06 09:14:07,390 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:14:07,395 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:14:17,229 [INFO] uvicorn.error: Shutting down
2025-08-06 09:14:17,330 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:14:17,333 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:14:17,333 [INFO] uvicorn.error: Finished server process [57]
2025-08-06 09:14:19,017 [INFO] uvicorn.error: Started server process [59]
2025-08-06 09:14:19,017 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:14:19,023 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:15:14,004 [INFO] uvicorn.error: Shutting down
2025-08-06 09:15:14,105 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:15:14,107 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:15:14,107 [INFO] uvicorn.error: Finished server process [59]
2025-08-06 09:15:15,102 [INFO] uvicorn.error: Started server process [61]
2025-08-06 09:15:15,102 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:15:15,105 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:15:18,416 [INFO] uvicorn.error: Shutting down
2025-08-06 09:15:18,517 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:15:18,519 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:15:18,519 [INFO] uvicorn.error: Finished server process [61]
2025-08-06 09:15:20,089 [INFO] uvicorn.error: Started server process [63]
2025-08-06 09:15:20,089 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:15:20,095 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:25:41,473 [INFO] uvicorn.error: Shutting down
2025-08-06 09:25:41,573 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:25:41,575 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:25:41,575 [INFO] uvicorn.error: Finished server process [63]
2025-08-06 09:25:42,395 [INFO] uvicorn.error: Started server process [65]
2025-08-06 09:25:42,396 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:25:42,399 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:27:50,702 [INFO] uvicorn.error: Shutting down
2025-08-06 09:27:50,803 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:27:50,804 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:27:50,805 [INFO] uvicorn.error: Finished server process [65]
2025-08-06 09:27:51,524 [INFO] uvicorn.error: Started server process [67]
2025-08-06 09:27:51,525 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:27:51,528 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:30:24,660 [INFO] uvicorn.error: Shutting down
2025-08-06 09:30:24,760 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:30:24,762 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:30:24,762 [INFO] uvicorn.error: Finished server process [67]
2025-08-06 09:30:25,508 [INFO] uvicorn.error: Started server process [69]
2025-08-06 09:30:25,508 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:30:25,514 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:31:02,620 [INFO] uvicorn.error: Shutting down
2025-08-06 09:31:02,721 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:31:02,722 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:31:02,722 [INFO] uvicorn.error: Finished server process [69]
2025-08-06 09:31:03,456 [INFO] uvicorn.error: Started server process [71]
2025-08-06 09:31:03,457 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:31:03,460 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:32:22,286 [INFO] uvicorn.error: Shutting down
2025-08-06 09:32:22,387 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:32:22,388 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:32:22,388 [INFO] uvicorn.error: Finished server process [71]
2025-08-06 09:32:23,082 [INFO] uvicorn.error: Started server process [73]
2025-08-06 09:32:23,082 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:32:23,086 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:34:21,410 [INFO] uvicorn.error: Shutting down
2025-08-06 09:34:21,511 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:34:21,512 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:34:21,513 [INFO] uvicorn.error: Finished server process [73]
2025-08-06 09:34:22,411 [INFO] uvicorn.error: Started server process [75]
2025-08-06 09:34:22,411 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:34:22,416 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:34:32,341 [INFO] uvicorn.error: Shutting down
2025-08-06 09:34:32,441 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:34:32,443 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:34:32,443 [INFO] uvicorn.error: Finished server process [75]
2025-08-06 09:34:33,230 [INFO] uvicorn.error: Started server process [77]
2025-08-06 09:34:33,230 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:34:33,233 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:34:59,807 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 09:34:59,807 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:34:59,808 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 09:34:59,809 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:34:59,810 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 09:34:59,810 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:34:59,811 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 09:34:59,816 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 09:34:59,816 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] ('user@example.com',)
2025-08-06 09:34:59,820 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-08-06 09:34:59,820 [INFO] sqlalchemy.engine.Engine: [generated in 0.00025s] ('string', 'user@example.com', '$2b$12$Xo0RKmqsWTMC1zWIZinci.uASQsQnFRskyqR1XaDDR30AiCpVmoiu', False)
2025-08-06 09:34:59,822 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-08-06 09:34:59,832 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 09:34:59,834 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 09:34:59,834 [INFO] sqlalchemy.engine.Engine: [generated in 0.00019s] (1,)
2025-08-06 09:34:59,837 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.owner_id AS tasks_owner_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE $1::INTEGER = tasks.owner_id
2025-08-06 09:34:59,837 [INFO] sqlalchemy.engine.Engine: [generated in 0.00020s] (1,)
2025-08-06 09:34:59,837 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 09:34:59,838 [INFO] uvicorn.access: 172.18.0.1:46950 - "POST /auth/register HTTP/1.1" 500
2025-08-06 09:34:59,838 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 22, in register_user
    payload = await service.register_user(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user.py", line 26, in register_user
    user = await self.repository.create_user(user_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 47, in create_user
    tasks=[TaskData(**task.__dict__) for task in db_user.tasks],
                                                 ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 1141, in _emit_lazyload
    result = session.execute(
             ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2354, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-08-06 09:45:17,190 [INFO] uvicorn.error: Shutting down
2025-08-06 09:45:17,291 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:45:17,295 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:45:17,296 [INFO] uvicorn.error: Finished server process [77]
2025-08-06 09:45:18,139 [INFO] uvicorn.error: Started server process [79]
2025-08-06 09:45:18,139 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:45:18,143 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:45:24,660 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 09:45:24,660 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:45:24,661 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 09:45:24,661 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:45:24,662 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 09:45:24,663 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:45:24,663 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 09:45:24,669 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 09:45:24,669 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ('user@example.com',)
2025-08-06 09:45:24,673 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.owner_id AS tasks_owner_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE $1::INTEGER = tasks.owner_id
2025-08-06 09:45:24,673 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] (1,)
2025-08-06 09:45:24,673 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 09:45:24,674 [INFO] uvicorn.access: 172.18.0.1:60748 - "POST /auth/register HTTP/1.1" 500
2025-08-06 09:45:24,674 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 22, in register_user
    payload = await service.register_user(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user.py", line 26, in register_user
    user = await self.repository.create_user(user_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 30, in create_user
    existing_user = await self.get_user_by_email(user.email)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 24, in get_user_by_email
    tasks=[TaskData(**task.__dict__) for task in user.tasks],
                                                 ^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 1141, in _emit_lazyload
    result = session.execute(
             ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2354, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-08-06 09:47:58,587 [INFO] uvicorn.error: Shutting down
2025-08-06 09:47:58,688 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:47:58,693 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:47:58,693 [INFO] uvicorn.error: Finished server process [79]
2025-08-06 09:47:59,494 [INFO] uvicorn.error: Started server process [81]
2025-08-06 09:47:59,495 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:47:59,498 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:48:03,509 [INFO] uvicorn.error: Shutting down
2025-08-06 09:48:03,609 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:48:03,610 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:48:03,610 [INFO] uvicorn.error: Finished server process [81]
2025-08-06 09:48:04,438 [INFO] uvicorn.error: Started server process [83]
2025-08-06 09:48:04,438 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:48:04,442 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:48:10,114 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 09:48:10,114 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:48:10,116 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 09:48:10,116 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:48:10,117 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 09:48:10,117 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:48:10,118 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 09:48:10,124 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 09:48:10,124 [INFO] sqlalchemy.engine.Engine: [generated in 0.00025s] ('user@example.com',)
2025-08-06 09:48:10,129 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.owner_id AS tasks_owner_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE $1::INTEGER = tasks.owner_id
2025-08-06 09:48:10,129 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] (1,)
2025-08-06 09:48:10,129 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 09:48:10,130 [INFO] uvicorn.access: 172.18.0.1:38132 - "POST /auth/register HTTP/1.1" 500
2025-08-06 09:48:10,130 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 22, in register_user
    payload = await service.register_user(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user.py", line 26, in register_user
    user = await self.repository.create_user(user_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 30, in create_user
    existing_user = await self.get_user_by_email(user.email)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 24, in get_user_by_email
    tasks=[TaskData(**task.__dict__) for task in user.tasks],
                                                 ^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 1141, in _emit_lazyload
    result = session.execute(
             ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2354, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-08-06 09:50:52,398 [INFO] uvicorn.error: Shutting down
2025-08-06 09:50:52,499 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:50:52,503 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:50:52,504 [INFO] uvicorn.error: Finished server process [83]
2025-08-06 09:50:53,283 [INFO] uvicorn.error: Started server process [85]
2025-08-06 09:50:53,283 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:50:53,286 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:50:54,391 [INFO] uvicorn.error: Shutting down
2025-08-06 09:50:54,491 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:50:54,493 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:50:54,493 [INFO] uvicorn.error: Finished server process [85]
2025-08-06 09:50:55,383 [INFO] uvicorn.error: Started server process [87]
2025-08-06 09:50:55,383 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:50:55,388 [INFO] uvicorn.error: Application startup complete.
2025-08-06 09:51:00,484 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 09:51:00,484 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:51:00,486 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 09:51:00,486 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:51:00,487 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 09:51:00,487 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 09:51:00,487 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 09:51:00,493 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 09:51:00,493 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ('user@example.com',)
2025-08-06 09:51:00,497 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.owner_id AS tasks_owner_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE $1::INTEGER = tasks.owner_id
2025-08-06 09:51:00,497 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] (1,)
2025-08-06 09:51:00,498 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 09:51:00,498 [INFO] uvicorn.access: 172.18.0.1:36768 - "POST /auth/register HTTP/1.1" 500
2025-08-06 09:51:00,499 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 22, in register_user
    payload = await service.register_user(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user.py", line 26, in register_user
    user = await self.repository.create_user(user_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 30, in create_user
    existing_user = await self.get_user_by_email(user.email)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 24, in get_user_by_email
    tasks=[TaskData(**task.__dict__) for task in user.tasks],
                                                 ^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 1141, in _emit_lazyload
    result = session.execute(
             ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2354, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-08-06 09:51:47,474 [INFO] uvicorn.error: Shutting down
2025-08-06 09:51:47,575 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 09:51:47,579 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 09:51:47,579 [INFO] uvicorn.error: Finished server process [87]
2025-08-06 09:51:48,297 [INFO] uvicorn.error: Started server process [89]
2025-08-06 09:51:48,297 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 09:51:48,301 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:13:44,997 [INFO] uvicorn.error: Shutting down
2025-08-06 10:13:45,097 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:13:45,099 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:13:45,099 [INFO] uvicorn.error: Finished server process [89]
2025-08-06 10:13:45,856 [INFO] uvicorn.error: Started server process [91]
2025-08-06 10:13:45,856 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:13:45,859 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:14:40,210 [INFO] uvicorn.error: Shutting down
2025-08-06 10:14:40,311 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:14:40,312 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:14:40,312 [INFO] uvicorn.error: Finished server process [91]
2025-08-06 10:14:41,063 [INFO] uvicorn.error: Started server process [93]
2025-08-06 10:14:41,063 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:14:41,066 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:15:02,825 [INFO] uvicorn.error: Shutting down
2025-08-06 10:15:02,926 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:15:02,927 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:15:02,927 [INFO] uvicorn.error: Finished server process [93]
2025-08-06 10:15:03,704 [INFO] uvicorn.error: Started server process [95]
2025-08-06 10:15:03,704 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:15:03,708 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:15:17,647 [INFO] uvicorn.error: Shutting down
2025-08-06 10:15:17,747 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:15:17,749 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:15:17,749 [INFO] uvicorn.error: Finished server process [95]
2025-08-06 10:15:18,614 [INFO] uvicorn.error: Started server process [97]
2025-08-06 10:15:18,615 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:15:18,618 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:15:34,163 [INFO] uvicorn.error: Shutting down
2025-08-06 10:15:34,263 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:15:34,264 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:15:34,265 [INFO] uvicorn.error: Finished server process [97]
2025-08-06 10:15:35,039 [INFO] uvicorn.error: Started server process [99]
2025-08-06 10:15:35,039 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:15:35,043 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:16:41,741 [INFO] uvicorn.error: Shutting down
2025-08-06 10:16:41,842 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:16:41,843 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:16:41,843 [INFO] uvicorn.error: Finished server process [99]
2025-08-06 10:16:42,682 [INFO] uvicorn.error: Started server process [101]
2025-08-06 10:16:42,682 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:16:42,685 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:16:57,327 [INFO] uvicorn.error: Shutting down
2025-08-06 10:16:57,427 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:16:57,429 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:16:57,429 [INFO] uvicorn.error: Finished server process [101]
2025-08-06 10:16:58,272 [INFO] uvicorn.error: Started server process [103]
2025-08-06 10:16:58,272 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:16:58,275 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:17:01,150 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 10:17:01,150 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:17:01,152 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 10:17:01,152 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:17:01,153 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 10:17:01,153 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:17:01,154 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:17:01,160 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:17:01,161 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ('user@example.com',)
2025-08-06 10:17:01,164 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.owner_id AS tasks_owner_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE $1::INTEGER = tasks.owner_id
2025-08-06 10:17:01,165 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] (1,)
2025-08-06 10:17:01,165 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:17:01,166 [INFO] uvicorn.access: 172.18.0.1:55096 - "POST /auth/register HTTP/1.1" 500
2025-08-06 10:17:01,166 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 22, in register_user
    payload = await service.register_user(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user.py", line 26, in register_user
    user = await self.repository.create_user(user_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 31, in create_user
    existing_user = await self.get_user_by_email(user.email)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 25, in get_user_by_email
    tasks=[TaskData(**task.__dict__) for task in user.tasks],
                                                 ^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 1141, in _emit_lazyload
    result = session.execute(
             ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2354, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-08-06 10:17:18,069 [INFO] uvicorn.error: Shutting down
2025-08-06 10:17:18,170 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:17:18,174 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:17:18,174 [INFO] uvicorn.error: Finished server process [103]
2025-08-06 10:17:18,928 [INFO] uvicorn.error: Started server process [105]
2025-08-06 10:17:18,928 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:17:18,931 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:17:21,386 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 10:17:21,386 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:17:21,388 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 10:17:21,388 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:17:21,389 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 10:17:21,389 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:17:21,390 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:17:21,395 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:17:21,396 [INFO] sqlalchemy.engine.Engine: [generated in 0.00029s] ('user@example.com',)
2025-08-06 10:17:21,400 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.owner_id AS tasks_owner_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE $1::INTEGER = tasks.owner_id
2025-08-06 10:17:21,400 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] (1,)
2025-08-06 10:17:21,400 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:17:21,401 [INFO] uvicorn.access: 172.18.0.1:60846 - "POST /auth/register HTTP/1.1" 500
2025-08-06 10:17:21,401 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/auth.py", line 22, in register_user
    payload = await service.register_user(
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user.py", line 26, in register_user
    user = await self.repository.create_user(user_data)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 33, in create_user
    existing_user = await self.get_user_by_email(user.email)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 25, in get_user_by_email
    tasks=[TaskData(**task.__dict__) for task in user.tasks],
                                                 ^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 1141, in _emit_lazyload
    result = session.execute(
             ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2354, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-08-06 10:18:05,381 [INFO] uvicorn.error: Shutting down
2025-08-06 10:18:05,482 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:18:05,486 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:18:05,486 [INFO] uvicorn.error: Finished server process [105]
2025-08-06 10:18:06,241 [INFO] uvicorn.error: Started server process [107]
2025-08-06 10:18:06,241 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:18:06,244 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:18:13,364 [INFO] uvicorn.error: Shutting down
2025-08-06 10:18:13,464 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:18:13,465 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:18:13,466 [INFO] uvicorn.error: Finished server process [107]
2025-08-06 10:18:14,219 [INFO] uvicorn.error: Started server process [109]
2025-08-06 10:18:14,219 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:18:14,223 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:18:16,530 [INFO] uvicorn.error: Shutting down
2025-08-06 10:18:16,631 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:18:16,632 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:18:16,632 [INFO] uvicorn.error: Finished server process [109]
2025-08-06 10:18:17,469 [INFO] uvicorn.error: Started server process [111]
2025-08-06 10:18:17,470 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:18:17,474 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:18:18,578 [INFO] uvicorn.error: Shutting down
2025-08-06 10:18:18,678 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:18:18,680 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:18:18,680 [INFO] uvicorn.error: Finished server process [111]
2025-08-06 10:18:19,520 [INFO] uvicorn.error: Started server process [113]
2025-08-06 10:18:19,520 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:18:19,523 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:18:23,535 [INFO] uvicorn.error: Shutting down
2025-08-06 10:18:23,635 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:18:23,637 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:18:23,637 [INFO] uvicorn.error: Finished server process [113]
2025-08-06 10:18:24,560 [INFO] uvicorn.error: Started server process [115]
2025-08-06 10:18:24,560 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:18:24,566 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:18:26,346 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 10:18:26,347 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:18:26,348 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 10:18:26,348 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:18:26,349 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 10:18:26,349 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:18:26,350 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:18:26,356 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:18:26,356 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] ('user@example.com',)
2025-08-06 10:18:26,359 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:18:26,359 [INFO] uvicorn.access: 172.18.0.1:33762 - "POST /auth/register HTTP/1.1" 409
2025-08-06 10:18:53,345 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:18:53,346 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:18:53,346 [INFO] sqlalchemy.engine.Engine: [cached since 26.99s ago] ('user@example.com',)
2025-08-06 10:18:53,348 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-08-06 10:18:53,349 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] ('string', 'user@example.com', '$2b$12$DaA/F6Q/LsNvRoGhAX7UAu8Eh286GuRA13F6YJ2kaBJuIK561TXCO', False)
2025-08-06 10:18:53,350 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-08-06 10:18:53,360 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:18:53,361 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 10:18:53,362 [INFO] sqlalchemy.engine.Engine: [generated in 0.00025s] (2,)
2025-08-06 10:18:53,363 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:18:53,364 [INFO] uvicorn.access: 172.18.0.1:33766 - "POST /auth/register HTTP/1.1" 500
2025-08-06 10:18:53,365 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 5 validation errors:
  {'type': 'missing', 'loc': ('response', 'user_id'), 'msg': 'Field required', 'input': {'user': UserData(user_id=2, username='string', email='user@example.com', hashed_password='$2b$12$DaA/F6Q/LsNvRoGhAX7UAu8Eh286GuRA13F6YJ2kaBJuIK561TXCO', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJzdHJpbmciLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20iLCJleHAiOjE3NTQ0NzY0MzN9.aLrWubCa23C9P0TVg8Uwnm8ppIEl482WfuGzD_LUlwA', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'username'), 'msg': 'Field required', 'input': {'user': UserData(user_id=2, username='string', email='user@example.com', hashed_password='$2b$12$DaA/F6Q/LsNvRoGhAX7UAu8Eh286GuRA13F6YJ2kaBJuIK561TXCO', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJzdHJpbmciLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20iLCJleHAiOjE3NTQ0NzY0MzN9.aLrWubCa23C9P0TVg8Uwnm8ppIEl482WfuGzD_LUlwA', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'email'), 'msg': 'Field required', 'input': {'user': UserData(user_id=2, username='string', email='user@example.com', hashed_password='$2b$12$DaA/F6Q/LsNvRoGhAX7UAu8Eh286GuRA13F6YJ2kaBJuIK561TXCO', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJzdHJpbmciLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20iLCJleHAiOjE3NTQ0NzY0MzN9.aLrWubCa23C9P0TVg8Uwnm8ppIEl482WfuGzD_LUlwA', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'user': UserData(user_id=2, username='string', email='user@example.com', hashed_password='$2b$12$DaA/F6Q/LsNvRoGhAX7UAu8Eh286GuRA13F6YJ2kaBJuIK561TXCO', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJzdHJpbmciLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20iLCJleHAiOjE3NTQ0NzY0MzN9.aLrWubCa23C9P0TVg8Uwnm8ppIEl482WfuGzD_LUlwA', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'is_superuser'), 'msg': 'Field required', 'input': {'user': UserData(user_id=2, username='string', email='user@example.com', hashed_password='$2b$12$DaA/F6Q/LsNvRoGhAX7UAu8Eh286GuRA13F6YJ2kaBJuIK561TXCO', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIyIiwidXNlcm5hbWUiOiJzdHJpbmciLCJlbWFpbCI6InVzZXJAZXhhbXBsZS5jb20iLCJleHAiOjE3NTQ0NzY0MzN9.aLrWubCa23C9P0TVg8Uwnm8ppIEl482WfuGzD_LUlwA', 'token_type': 'bearer'}}

2025-08-06 10:19:14,506 [INFO] uvicorn.error: Shutting down
2025-08-06 10:19:14,607 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:19:14,613 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:19:14,613 [INFO] uvicorn.error: Finished server process [115]
2025-08-06 10:26:07,500 [INFO] uvicorn.error: Started server process [9]
2025-08-06 10:26:07,500 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:26:07,507 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:26:45,595 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 10:26:45,595 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:26:45,597 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 10:26:45,597 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:26:45,598 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 10:26:45,598 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:26:45,599 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:26:45,601 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:26:45,601 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ('user@example.com',)
2025-08-06 10:26:45,605 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 10:26:45,606 [INFO] sqlalchemy.engine.Engine: [generated in 0.00032s] (2,)
2025-08-06 10:26:45,608 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:26:45,608 [INFO] uvicorn.access: 172.18.0.1:53420 - "POST /auth/register HTTP/1.1" 409
2025-08-06 10:27:00,275 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:27:00,275 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:27:00,276 [INFO] sqlalchemy.engine.Engine: [cached since 14.67s ago] ('user2@example.com',)
2025-08-06 10:27:00,279 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-08-06 10:27:00,279 [INFO] sqlalchemy.engine.Engine: [generated in 0.00041s] ('string2', 'user2@example.com', '$2b$12$Ty6246eO5UTm3RBI3nzpdO3uzaGYudTlr6b3P5dNOF1eTI0.yd8Qm', False)
2025-08-06 10:27:00,281 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-08-06 10:27:00,292 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:27:00,293 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 10:27:00,294 [INFO] sqlalchemy.engine.Engine: [generated in 0.00025s] (3,)
2025-08-06 10:27:00,296 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:27:00,297 [INFO] uvicorn.access: 172.18.0.1:53426 - "POST /auth/register HTTP/1.1" 500
2025-08-06 10:27:00,298 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 5 validation errors:
  {'type': 'missing', 'loc': ('response', 'user_id'), 'msg': 'Field required', 'input': {'user': UserData(user_id=3, username='string2', email='user2@example.com', hashed_password='$2b$12$Ty6246eO5UTm3RBI3nzpdO3uzaGYudTlr6b3P5dNOF1eTI0.yd8Qm', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJzdHJpbmcyIiwiZW1haWwiOiJ1c2VyMkBleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3NjkyMH0.-YcyRbo4tttpDqVKJ-tBP3vTRhZfYXdP9J6a8xehziI', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'username'), 'msg': 'Field required', 'input': {'user': UserData(user_id=3, username='string2', email='user2@example.com', hashed_password='$2b$12$Ty6246eO5UTm3RBI3nzpdO3uzaGYudTlr6b3P5dNOF1eTI0.yd8Qm', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJzdHJpbmcyIiwiZW1haWwiOiJ1c2VyMkBleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3NjkyMH0.-YcyRbo4tttpDqVKJ-tBP3vTRhZfYXdP9J6a8xehziI', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'email'), 'msg': 'Field required', 'input': {'user': UserData(user_id=3, username='string2', email='user2@example.com', hashed_password='$2b$12$Ty6246eO5UTm3RBI3nzpdO3uzaGYudTlr6b3P5dNOF1eTI0.yd8Qm', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJzdHJpbmcyIiwiZW1haWwiOiJ1c2VyMkBleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3NjkyMH0.-YcyRbo4tttpDqVKJ-tBP3vTRhZfYXdP9J6a8xehziI', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'user': UserData(user_id=3, username='string2', email='user2@example.com', hashed_password='$2b$12$Ty6246eO5UTm3RBI3nzpdO3uzaGYudTlr6b3P5dNOF1eTI0.yd8Qm', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJzdHJpbmcyIiwiZW1haWwiOiJ1c2VyMkBleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3NjkyMH0.-YcyRbo4tttpDqVKJ-tBP3vTRhZfYXdP9J6a8xehziI', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'is_superuser'), 'msg': 'Field required', 'input': {'user': UserData(user_id=3, username='string2', email='user2@example.com', hashed_password='$2b$12$Ty6246eO5UTm3RBI3nzpdO3uzaGYudTlr6b3P5dNOF1eTI0.yd8Qm', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzIiwidXNlcm5hbWUiOiJzdHJpbmcyIiwiZW1haWwiOiJ1c2VyMkBleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3NjkyMH0.-YcyRbo4tttpDqVKJ-tBP3vTRhZfYXdP9J6a8xehziI', 'token_type': 'bearer'}}

2025-08-06 10:27:18,436 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:27:18,436 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:27:18,437 [INFO] sqlalchemy.engine.Engine: [cached since 32.84s ago] ('user@example.com',)
2025-08-06 10:27:18,439 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 10:27:18,439 [INFO] sqlalchemy.engine.Engine: [cached since 32.83s ago] (2,)
2025-08-06 10:27:18,441 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:27:18,442 [INFO] uvicorn.access: 172.18.0.1:36430 - "POST /auth/register HTTP/1.1" 409
2025-08-06 10:27:24,536 [INFO] uvicorn.access: 172.18.0.1:36434 - "GET /api/tasks HTTP/1.1" 401
2025-08-06 10:27:39,749 [INFO] uvicorn.access: 172.18.0.1:33326 - "POST /login HTTP/1.1" 404
2025-08-06 10:27:50,276 [INFO] uvicorn.access: 172.18.0.1:33340 - "POST /login HTTP/1.1" 404
2025-08-06 10:28:52,310 [INFO] uvicorn.access: 172.18.0.1:53002 - "POST /auth/login HTTP/1.1" 422
2025-08-06 10:31:09,187 [INFO] uvicorn.access: 172.18.0.1:49632 - "GET /api/tasks HTTP/1.1" 401
2025-08-06 10:36:16,192 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:36:16,192 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:36:16,192 [INFO] sqlalchemy.engine.Engine: [cached since 570.6s ago] ('user@example.com',)
2025-08-06 10:36:16,195 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 10:36:16,195 [INFO] sqlalchemy.engine.Engine: [cached since 570.6s ago] (2,)
2025-08-06 10:36:16,200 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:36:16,201 [INFO] uvicorn.access: 172.18.0.1:51066 - "POST /auth/register HTTP/1.1" 409
2025-08-06 10:36:29,600 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:36:29,601 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:36:29,601 [INFO] sqlalchemy.engine.Engine: [cached since 584s ago] ('user2@example.com',)
2025-08-06 10:36:29,603 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 10:36:29,603 [INFO] sqlalchemy.engine.Engine: [cached since 584s ago] (3,)
2025-08-06 10:36:29,605 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:36:29,606 [INFO] uvicorn.access: 172.18.0.1:51068 - "POST /auth/register HTTP/1.1" 409
2025-08-06 10:36:33,921 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:36:33,922 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:36:33,922 [INFO] sqlalchemy.engine.Engine: [cached since 588.3s ago] ('user2@example.com',)
2025-08-06 10:36:33,924 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 10:36:33,924 [INFO] sqlalchemy.engine.Engine: [cached since 588.3s ago] (3,)
2025-08-06 10:36:33,926 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:36:33,927 [INFO] uvicorn.access: 172.18.0.1:51068 - "POST /auth/register HTTP/1.1" 409
2025-08-06 10:36:43,203 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:36:43,203 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:36:43,203 [INFO] sqlalchemy.engine.Engine: [cached since 597.6s ago] ('user3@example.com',)
2025-08-06 10:36:43,205 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-08-06 10:36:43,205 [INFO] sqlalchemy.engine.Engine: [cached since 582.9s ago] ('string3', 'user3@example.com', '$2b$12$LqflFfuFnYa2ipNlCVEJg.FNZEf9GQoN43nOWSdUVs5UtOJ0KGtOG', False)
2025-08-06 10:36:43,207 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-08-06 10:36:43,217 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:36:43,218 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 10:36:43,218 [INFO] sqlalchemy.engine.Engine: [cached since 582.9s ago] (4,)
2025-08-06 10:36:43,219 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:36:43,220 [INFO] uvicorn.access: 172.18.0.1:50082 - "POST /auth/register HTTP/1.1" 500
2025-08-06 10:36:43,221 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 5 validation errors:
  {'type': 'missing', 'loc': ('response', 'user_id'), 'msg': 'Field required', 'input': {'user': UserData(user_id=4, username='string3', email='user3@example.com', hashed_password='$2b$12$LqflFfuFnYa2ipNlCVEJg.FNZEf9GQoN43nOWSdUVs5UtOJ0KGtOG', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwidXNlcm5hbWUiOiJzdHJpbmczIiwiZW1haWwiOiJ1c2VyM0BleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3NzUwM30.toolfBLPavKFMB0C9atsE0RF2PwXT07naIL--FtBJFE', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'username'), 'msg': 'Field required', 'input': {'user': UserData(user_id=4, username='string3', email='user3@example.com', hashed_password='$2b$12$LqflFfuFnYa2ipNlCVEJg.FNZEf9GQoN43nOWSdUVs5UtOJ0KGtOG', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwidXNlcm5hbWUiOiJzdHJpbmczIiwiZW1haWwiOiJ1c2VyM0BleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3NzUwM30.toolfBLPavKFMB0C9atsE0RF2PwXT07naIL--FtBJFE', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'email'), 'msg': 'Field required', 'input': {'user': UserData(user_id=4, username='string3', email='user3@example.com', hashed_password='$2b$12$LqflFfuFnYa2ipNlCVEJg.FNZEf9GQoN43nOWSdUVs5UtOJ0KGtOG', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwidXNlcm5hbWUiOiJzdHJpbmczIiwiZW1haWwiOiJ1c2VyM0BleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3NzUwM30.toolfBLPavKFMB0C9atsE0RF2PwXT07naIL--FtBJFE', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'user': UserData(user_id=4, username='string3', email='user3@example.com', hashed_password='$2b$12$LqflFfuFnYa2ipNlCVEJg.FNZEf9GQoN43nOWSdUVs5UtOJ0KGtOG', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwidXNlcm5hbWUiOiJzdHJpbmczIiwiZW1haWwiOiJ1c2VyM0BleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3NzUwM30.toolfBLPavKFMB0C9atsE0RF2PwXT07naIL--FtBJFE', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'is_superuser'), 'msg': 'Field required', 'input': {'user': UserData(user_id=4, username='string3', email='user3@example.com', hashed_password='$2b$12$LqflFfuFnYa2ipNlCVEJg.FNZEf9GQoN43nOWSdUVs5UtOJ0KGtOG', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI0IiwidXNlcm5hbWUiOiJzdHJpbmczIiwiZW1haWwiOiJ1c2VyM0BleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3NzUwM30.toolfBLPavKFMB0C9atsE0RF2PwXT07naIL--FtBJFE', 'token_type': 'bearer'}}

2025-08-06 10:38:09,962 [INFO] uvicorn.error: Shutting down
2025-08-06 10:38:10,063 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:38:10,067 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:38:10,067 [INFO] uvicorn.error: Finished server process [9]
2025-08-06 10:38:10,837 [INFO] uvicorn.error: Started server process [11]
2025-08-06 10:38:10,837 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:38:10,840 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:47:10,238 [INFO] uvicorn.error: Shutting down
2025-08-06 10:47:10,339 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:47:10,340 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:47:10,340 [INFO] uvicorn.error: Finished server process [11]
2025-08-06 10:47:11,206 [INFO] uvicorn.error: Started server process [13]
2025-08-06 10:47:11,206 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:47:11,210 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:48:47,350 [INFO] uvicorn.error: Shutting down
2025-08-06 10:48:47,450 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:48:47,452 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:48:47,452 [INFO] uvicorn.error: Finished server process [13]
2025-08-06 10:48:48,271 [INFO] uvicorn.error: Started server process [15]
2025-08-06 10:48:48,271 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:48:48,275 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:49:00,506 [INFO] uvicorn.error: Shutting down
2025-08-06 10:49:00,607 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:49:00,608 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:49:00,609 [INFO] uvicorn.error: Finished server process [15]
2025-08-06 10:49:01,403 [INFO] uvicorn.error: Started server process [17]
2025-08-06 10:49:01,404 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:49:01,407 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:49:01,910 [INFO] uvicorn.error: Shutting down
2025-08-06 10:49:02,010 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:49:02,011 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:49:02,012 [INFO] uvicorn.error: Finished server process [17]
2025-08-06 10:49:02,751 [INFO] uvicorn.error: Started server process [19]
2025-08-06 10:49:02,751 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:49:02,755 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:49:06,929 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 10:49:06,929 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:49:06,931 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 10:49:06,931 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:49:06,932 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 10:49:06,932 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:49:06,933 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:49:06,937 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:49:06,937 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ('user3@example.com',)
2025-08-06 10:49:06,941 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 10:49:06,941 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] (4,)
2025-08-06 10:49:06,943 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:49:06,943 [INFO] uvicorn.access: 172.18.0.1:58216 - "POST /auth/register HTTP/1.1" 409
2025-08-06 10:49:14,261 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:49:14,261 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:49:14,262 [INFO] sqlalchemy.engine.Engine: [cached since 7.325s ago] ('user4@example.com',)
2025-08-06 10:49:14,264 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-08-06 10:49:14,264 [INFO] sqlalchemy.engine.Engine: [generated in 0.00035s] ('string4', 'user4@example.com', '$2b$12$44ziQfa3bfYGxb2clJ4xIeqmt5V/8dSco3AF0fUAWEhkrBaJyLP9y', False)
2025-08-06 10:49:14,266 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-08-06 10:49:14,268 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:49:14,269 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 10:49:14,269 [INFO] sqlalchemy.engine.Engine: [generated in 0.00018s] (5,)
2025-08-06 10:49:14,271 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:49:14,271 [INFO] uvicorn.access: 172.18.0.1:58232 - "POST /auth/register HTTP/1.1" 500
2025-08-06 10:49:14,272 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 327, in app
    content = await serialize_response(
              ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 176, in serialize_response
    raise ResponseValidationError(
fastapi.exceptions.ResponseValidationError: 3 validation errors:
  {'type': 'missing', 'loc': ('response', 'user_id'), 'msg': 'Field required', 'input': {'user': UserData(user_id=5, username='string4', email='user4@example.com', hashed_password='$2b$12$44ziQfa3bfYGxb2clJ4xIeqmt5V/8dSco3AF0fUAWEhkrBaJyLP9y', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1IiwidXNlcm5hbWUiOiJzdHJpbmc0IiwiZW1haWwiOiJ1c2VyNEBleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3ODI1NH0.__sZwIFO61L6ozrhozUkW4UzDvrZCaa87PJwX2DnxTw', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'username'), 'msg': 'Field required', 'input': {'user': UserData(user_id=5, username='string4', email='user4@example.com', hashed_password='$2b$12$44ziQfa3bfYGxb2clJ4xIeqmt5V/8dSco3AF0fUAWEhkrBaJyLP9y', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1IiwidXNlcm5hbWUiOiJzdHJpbmc0IiwiZW1haWwiOiJ1c2VyNEBleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3ODI1NH0.__sZwIFO61L6ozrhozUkW4UzDvrZCaa87PJwX2DnxTw', 'token_type': 'bearer'}}
  {'type': 'missing', 'loc': ('response', 'email'), 'msg': 'Field required', 'input': {'user': UserData(user_id=5, username='string4', email='user4@example.com', hashed_password='$2b$12$44ziQfa3bfYGxb2clJ4xIeqmt5V/8dSco3AF0fUAWEhkrBaJyLP9y', tasks=[]), 'access_token': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiI1IiwidXNlcm5hbWUiOiJzdHJpbmc0IiwiZW1haWwiOiJ1c2VyNEBleGFtcGxlLmNvbSIsImV4cCI6MTc1NDQ3ODI1NH0.__sZwIFO61L6ozrhozUkW4UzDvrZCaa87PJwX2DnxTw', 'token_type': 'bearer'}}

2025-08-06 10:50:02,184 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:50:02,185 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:50:02,185 [INFO] sqlalchemy.engine.Engine: [cached since 55.25s ago] ('user4@example.com',)
2025-08-06 10:50:02,187 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 10:50:02,187 [INFO] sqlalchemy.engine.Engine: [cached since 55.25s ago] (5,)
2025-08-06 10:50:02,188 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:50:02,189 [INFO] uvicorn.access: 172.18.0.1:43054 - "POST /auth/register HTTP/1.1" 409
2025-08-06 10:52:15,530 [INFO] uvicorn.error: Shutting down
2025-08-06 10:52:15,630 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:52:15,636 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:52:15,636 [INFO] uvicorn.error: Finished server process [19]
2025-08-06 10:52:16,487 [INFO] uvicorn.error: Started server process [21]
2025-08-06 10:52:16,488 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:52:16,492 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:52:21,105 [INFO] uvicorn.error: Shutting down
2025-08-06 10:52:21,206 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:52:21,207 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:52:21,207 [INFO] uvicorn.error: Finished server process [21]
2025-08-06 10:52:21,987 [INFO] uvicorn.error: Started server process [23]
2025-08-06 10:52:21,987 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:52:21,991 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:52:32,784 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 10:52:32,785 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:52:32,786 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 10:52:32,786 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:52:32,788 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 10:52:32,788 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:52:32,790 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:52:32,793 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:52:32,793 [INFO] sqlalchemy.engine.Engine: [generated in 0.00038s] ('user5@example.com',)
2025-08-06 10:52:32,797 [INFO] sqlalchemy.engine.Engine: INSERT INTO users (username, email, hashed_password, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::VARCHAR, $4::BOOLEAN) RETURNING users.id, users.created_at, users.updated_at
2025-08-06 10:52:32,797 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] ('string5', 'user5@example.com', '$2b$12$.fwbkqln.x/lf1hGDzZBHutEi2/1srgCTGhCKABlvFaBzyp8UQUYm', False)
2025-08-06 10:52:32,799 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-08-06 10:52:32,809 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:52:32,810 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 10:52:32,810 [INFO] sqlalchemy.engine.Engine: [generated in 0.00019s] (6,)
2025-08-06 10:52:32,812 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:52:32,812 [INFO] uvicorn.access: 172.18.0.1:33638 - "POST /auth/register HTTP/1.1" 200
2025-08-06 10:52:55,782 [INFO] uvicorn.access: 172.18.0.1:33644 - "POST /login HTTP/1.1" 404
2025-08-06 10:53:10,107 [INFO] uvicorn.access: 172.18.0.1:44420 - "POST /auth/login HTTP/1.1" 422
2025-08-06 10:53:34,327 [INFO] uvicorn.access: 172.18.0.1:40920 - "POST /auth/login HTTP/1.1" 422
2025-08-06 10:54:33,391 [INFO] uvicorn.access: 172.18.0.1:48904 - "POST /auth/login HTTP/1.1" 422
2025-08-06 10:54:44,049 [INFO] uvicorn.access: 172.18.0.1:48920 - "POST /auth/login HTTP/1.1" 422
2025-08-06 10:55:43,973 [INFO] uvicorn.access: 172.18.0.1:46150 - "GET /docs HTTP/1.1" 200
2025-08-06 10:55:44,154 [INFO] uvicorn.access: 172.18.0.1:46150 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 10:56:06,038 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:56:06,038 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:56:06,038 [INFO] sqlalchemy.engine.Engine: [cached since 213.2s ago] ('user5@example.com',)
2025-08-06 10:56:06,042 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 10:56:06,042 [INFO] sqlalchemy.engine.Engine: [generated in 0.00029s] (6,)
2025-08-06 10:56:06,230 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:56:06,231 [INFO] uvicorn.access: 172.18.0.1:46166 - "POST /auth/login HTTP/1.1" 200
2025-08-06 10:56:14,757 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:56:14,758 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:56:14,758 [INFO] sqlalchemy.engine.Engine: [cached since 222s ago] ('user4@example.com',)
2025-08-06 10:56:14,760 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 10:56:14,760 [INFO] sqlalchemy.engine.Engine: [cached since 8.719s ago] (5,)
2025-08-06 10:56:14,950 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:56:14,951 [INFO] uvicorn.access: 172.18.0.1:46168 - "POST /auth/login HTTP/1.1" 200
2025-08-06 10:56:23,802 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:56:23,802 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:56:23,803 [INFO] sqlalchemy.engine.Engine: [cached since 231s ago] ('user@example.com',)
2025-08-06 10:56:23,804 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 10:56:23,804 [INFO] sqlalchemy.engine.Engine: [cached since 17.76s ago] (2,)
2025-08-06 10:56:23,991 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:56:23,991 [INFO] uvicorn.access: 172.18.0.1:54124 - "POST /auth/login HTTP/1.1" 200
2025-08-06 10:56:49,260 [INFO] uvicorn.error: Shutting down
2025-08-06 10:56:49,361 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:56:49,368 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:56:49,369 [INFO] uvicorn.error: Finished server process [23]
2025-08-06 10:56:50,115 [INFO] uvicorn.error: Started server process [26]
2025-08-06 10:56:50,115 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:56:50,119 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:56:52,926 [INFO] uvicorn.error: Shutting down
2025-08-06 10:56:53,027 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 10:56:53,028 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 10:56:53,028 [INFO] uvicorn.error: Finished server process [26]
2025-08-06 10:56:53,877 [INFO] uvicorn.error: Started server process [28]
2025-08-06 10:56:53,877 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 10:56:53,881 [INFO] uvicorn.error: Application startup complete.
2025-08-06 10:57:10,867 [INFO] uvicorn.access: 172.18.0.1:48782 - "POST /login HTTP/1.1" 404
2025-08-06 10:57:28,633 [INFO] uvicorn.access: 172.18.0.1:48796 - "POST /login HTTP/1.1" 404
2025-08-06 10:57:49,055 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 10:57:49,055 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:57:49,057 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 10:57:49,057 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:57:49,058 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 10:57:49,058 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 10:57:49,059 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 10:57:49,062 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 10:57:49,062 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ('user@example.com',)
2025-08-06 10:57:49,066 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 10:57:49,067 [INFO] sqlalchemy.engine.Engine: [generated in 0.00042s] (2,)
2025-08-06 10:57:49,275 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 10:57:49,276 [INFO] uvicorn.access: 172.18.0.1:47888 - "POST /auth/login HTTP/1.1" 200
2025-08-06 10:59:07,578 [INFO] uvicorn.access: 172.18.0.1:56906 - "POST /login HTTP/1.1" 404
2025-08-06 10:59:19,201 [INFO] uvicorn.access: 172.18.0.1:56918 - "POST /login HTTP/1.1" 404
2025-08-06 10:59:42,934 [INFO] uvicorn.access: 172.18.0.1:46194 - "POST /login HTTP/1.1" 404
2025-08-06 11:02:11,074 [INFO] uvicorn.error: Shutting down
2025-08-06 11:02:11,175 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:02:11,180 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:02:11,180 [INFO] uvicorn.error: Finished server process [28]
2025-08-06 11:02:12,005 [INFO] uvicorn.error: Started server process [31]
2025-08-06 11:02:12,006 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:02:12,009 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:02:13,621 [INFO] uvicorn.access: 172.18.0.1:38498 - "GET /docs HTTP/1.1" 200
2025-08-06 11:02:13,779 [INFO] uvicorn.access: 172.18.0.1:38498 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 11:02:22,764 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:02:22,764 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:02:22,765 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:02:22,765 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:02:22,766 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:02:22,766 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:02:22,767 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:02:22,769 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 11:02:22,770 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ('user5@example.com',)
2025-08-06 11:02:22,774 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 11:02:22,774 [INFO] sqlalchemy.engine.Engine: [generated in 0.00029s] (6,)
2025-08-06 11:02:22,982 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:02:22,983 [INFO] uvicorn.access: 172.18.0.1:38506 - "POST /auth/login HTTP/1.1" 200
2025-08-06 11:02:33,667 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:02:33,668 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:02:33,668 [INFO] sqlalchemy.engine.Engine: [generated in 0.00020s] (6,)
2025-08-06 11:02:33,671 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.owner_id AS tasks_owner_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE $1::INTEGER = tasks.owner_id
2025-08-06 11:02:33,671 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] (6,)
2025-08-06 11:02:33,671 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:02:33,672 [INFO] uvicorn.access: 172.18.0.1:38520 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:02:33,672 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/dependencies.py", line 35, in get_current_user
    user_data = await service.get_user_by_id(user_id=user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user.py", line 115, in get_user_by_id
    user = await self.repository.get_user_by_id(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 80, in get_user_by_id
    tasks=[TaskData(**task.__dict__) for task in user.tasks],
                                                 ^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 1141, in _emit_lazyload
    result = session.execute(
             ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2354, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-08-06 11:02:41,231 [INFO] uvicorn.error: Shutting down
2025-08-06 11:02:41,332 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:02:41,336 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:02:41,336 [INFO] uvicorn.error: Finished server process [31]
2025-08-06 11:02:42,058 [INFO] uvicorn.error: Started server process [34]
2025-08-06 11:02:42,058 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:02:42,063 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:02:56,305 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:02:56,305 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:02:56,306 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:02:56,306 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:02:56,307 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:02:56,307 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:02:56,308 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:02:56,313 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:02:56,314 [INFO] sqlalchemy.engine.Engine: [generated in 0.00030s] (6,)
2025-08-06 11:02:56,318 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.owner_id AS tasks_owner_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE $1::INTEGER = tasks.owner_id
2025-08-06 11:02:56,318 [INFO] sqlalchemy.engine.Engine: [generated in 0.00033s] (6,)
2025-08-06 11:02:56,319 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:02:56,319 [INFO] uvicorn.access: 172.18.0.1:52294 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:02:56,320 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/dependencies.py", line 35, in get_current_user
    user_data = await service.get_user_by_id(user_id=user_id)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/service/user.py", line 115, in get_user_by_id
    user = await self.repository.get_user_by_id(user_id)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/repository/user.py", line 80, in get_user_by_id
    tasks=[TaskData(**task.__dict__) for task in user.tasks],
                                                 ^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 566, in __get__
    return self.impl.get(state, dict_)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1086, in get
    value = self._fire_loader_callables(state, key, passive)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/attributes.py", line 1121, in _fire_loader_callables
    return self.callable_(state, passive)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 978, in _load_for_state
    return self._emit_lazyload(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/strategies.py", line 1141, in _emit_lazyload
    result = session.execute(
             ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1415, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1637, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1842, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1982, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2354, in _handle_dbapi_exception
    raise exc_info[1].with_traceback(exc_info[2])
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1963, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 943, in do_execute
    cursor.execute(statement, parameters)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/dialects/postgresql/asyncpg.py", line 580, in execute
    self._adapt_connection.await_(
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/_concurrency_py3k.py", line 123, in await_only
    raise exc.MissingGreenlet(
sqlalchemy.exc.MissingGreenlet: greenlet_spawn has not been called; can't call await_only() here. Was IO attempted in an unexpected place? (Background on this error at: https://sqlalche.me/e/20/xd2s)
2025-08-06 11:07:15,673 [INFO] uvicorn.error: Shutting down
2025-08-06 11:07:15,774 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:07:15,778 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:07:15,778 [INFO] uvicorn.error: Finished server process [34]
2025-08-06 11:07:16,596 [INFO] uvicorn.error: Started server process [36]
2025-08-06 11:07:16,597 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:07:16,600 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:07:17,604 [INFO] uvicorn.error: Shutting down
2025-08-06 11:07:17,704 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:07:17,706 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:07:17,706 [INFO] uvicorn.error: Finished server process [36]
2025-08-06 11:07:18,521 [INFO] uvicorn.error: Started server process [38]
2025-08-06 11:07:18,521 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:07:18,525 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:07:53,720 [INFO] uvicorn.error: Shutting down
2025-08-06 11:07:53,820 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:07:53,821 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:07:53,821 [INFO] uvicorn.error: Finished server process [38]
2025-08-06 11:07:54,598 [INFO] uvicorn.error: Started server process [40]
2025-08-06 11:07:54,598 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:07:54,601 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:07:56,807 [INFO] uvicorn.error: Shutting down
2025-08-06 11:07:56,908 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:07:56,909 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:07:56,910 [INFO] uvicorn.error: Finished server process [40]
2025-08-06 11:07:57,707 [INFO] uvicorn.error: Started server process [42]
2025-08-06 11:07:57,707 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:07:57,711 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:08:16,461 [INFO] uvicorn.error: Shutting down
2025-08-06 11:08:16,561 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:08:16,563 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:08:16,563 [INFO] uvicorn.error: Finished server process [42]
2025-08-06 11:08:17,337 [INFO] uvicorn.error: Started server process [44]
2025-08-06 11:08:17,337 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:08:17,342 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:08:18,447 [INFO] uvicorn.error: Shutting down
2025-08-06 11:08:18,547 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:08:18,548 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:08:18,548 [INFO] uvicorn.error: Finished server process [44]
2025-08-06 11:08:19,424 [INFO] uvicorn.error: Started server process [46]
2025-08-06 11:08:19,424 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:08:19,428 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:08:30,459 [INFO] uvicorn.error: Shutting down
2025-08-06 11:08:30,560 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:08:30,561 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:08:30,561 [INFO] uvicorn.error: Finished server process [46]
2025-08-06 11:08:31,322 [INFO] uvicorn.error: Started server process [48]
2025-08-06 11:08:31,323 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:08:31,326 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:08:37,642 [INFO] uvicorn.error: Shutting down
2025-08-06 11:08:37,743 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:08:37,744 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:08:37,744 [INFO] uvicorn.error: Finished server process [48]
2025-08-06 11:08:38,511 [INFO] uvicorn.error: Started server process [50]
2025-08-06 11:08:38,511 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:08:38,515 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:08:45,320 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:08:45,320 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:08:45,321 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:08:45,321 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:08:45,323 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:08:45,323 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:08:45,324 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:08:45,331 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:08:45,332 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] (6,)
2025-08-06 11:08:45,333 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:08:45,334 [INFO] uvicorn.access: 172.18.0.1:34890 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:08:45,335 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/dependencies.py", line 43, in get_current_user
    tasks=user_data["tasks"],
          ~~~~~~~~~^^^^^^^^^
KeyError: 'tasks'
2025-08-06 11:09:37,369 [INFO] uvicorn.error: Shutting down
2025-08-06 11:09:37,470 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:09:37,474 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:09:37,474 [INFO] uvicorn.error: Finished server process [50]
2025-08-06 11:09:38,222 [INFO] uvicorn.error: Started server process [52]
2025-08-06 11:09:38,222 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:09:38,226 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:09:51,817 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:09:51,817 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:09:51,819 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:09:51,819 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:09:51,820 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:09:51,820 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:09:51,821 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:09:51,826 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:09:51,826 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] (6,)
2025-08-06 11:09:51,828 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:09:51,829 [INFO] uvicorn.access: 172.18.0.1:58180 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:09:51,829 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/dependencies.py", line 43, in get_current_user
    tasks=user_data["tasks"],
          ~~~~~~~~~^^^^^^^^^
KeyError: 'tasks'
2025-08-06 11:10:03,990 [INFO] uvicorn.error: Shutting down
2025-08-06 11:10:04,091 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:10:04,096 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:10:04,096 [INFO] uvicorn.error: Finished server process [52]
2025-08-06 11:10:04,909 [INFO] uvicorn.error: Started server process [54]
2025-08-06 11:10:04,909 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:10:04,912 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:10:09,257 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:10:09,257 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:10:09,259 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:10:09,259 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:10:09,260 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:10:09,260 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:10:09,261 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:10:09,267 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:10:09,267 [INFO] sqlalchemy.engine.Engine: [generated in 0.00027s] (6,)
2025-08-06 11:10:09,269 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:10:09,269 [INFO] uvicorn.access: 172.18.0.1:38672 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:10:09,270 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/dependencies.py", line 38, in get_current_user
    user = User(
           ^^^^^
  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/decl_base.py", line 2173, in _declarative_constructor
    raise TypeError(
TypeError: 'id' is an invalid keyword argument for User
2025-08-06 11:10:51,747 [INFO] uvicorn.error: Shutting down
2025-08-06 11:10:51,848 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:10:51,853 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:10:51,853 [INFO] uvicorn.error: Finished server process [54]
2025-08-06 11:10:52,573 [INFO] uvicorn.error: Started server process [56]
2025-08-06 11:10:52,574 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:10:52,578 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:11:22,557 [INFO] uvicorn.error: Shutting down
2025-08-06 11:11:22,658 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:11:22,659 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:11:22,660 [INFO] uvicorn.error: Finished server process [56]
2025-08-06 11:11:41,615 [INFO] uvicorn.error: Started server process [59]
2025-08-06 11:11:41,615 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:11:41,619 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:11:41,653 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:11:41,653 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:11:41,655 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:11:41,655 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:11:41,656 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:11:41,656 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:11:41,657 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:11:41,663 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:11:41,664 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] (6,)
2025-08-06 11:11:41,666 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:11:41,668 [INFO] uvicorn.access: 172.18.0.1:36058 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:11:41,668 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 85, in __call__
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 291, in app
    solved_result = await solve_dependencies(
                    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/dependencies/utils.py", line 638, in solve_dependencies
    solved = await call(**solved_result.values)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/core/dependencies.py", line 38, in get_current_user
    user = User(
           ^^^^^
  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/usr/local/lib/python3.12/site-packages/sqlalchemy/orm/decl_base.py", line 2173, in _declarative_constructor
    raise TypeError(
TypeError: 'id' is an invalid keyword argument for User
2025-08-06 11:12:03,883 [INFO] uvicorn.error: Shutting down
2025-08-06 11:12:03,984 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:12:03,988 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:12:03,988 [INFO] uvicorn.error: Finished server process [59]
2025-08-06 11:12:04,772 [INFO] uvicorn.error: Started server process [61]
2025-08-06 11:12:04,772 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:12:04,776 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:12:07,838 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:12:07,838 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:12:07,840 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:12:07,840 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:12:07,841 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:12:07,841 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:12:07,842 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:12:07,847 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:12:07,848 [INFO] sqlalchemy.engine.Engine: [generated in 0.00025s] (6,)
2025-08-06 11:12:07,851 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:12:07,851 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] (6,)
2025-08-06 11:12:07,862 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:12:07,863 [INFO] uvicorn.access: 172.18.0.1:53734 - "GET /api/tasks HTTP/1.1" 200
2025-08-06 11:13:18,414 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:13:18,414 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:13:18,415 [INFO] sqlalchemy.engine.Engine: [cached since 70.57s ago] (6,)
2025-08-06 11:13:18,416 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:13:18,417 [INFO] sqlalchemy.engine.Engine: [cached since 70.57s ago] (6,)
2025-08-06 11:13:18,417 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:13:18,418 [INFO] uvicorn.access: 172.18.0.1:51170 - "GET /api/tasks HTTP/1.1" 200
2025-08-06 11:13:28,953 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:13:28,954 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:13:28,954 [INFO] sqlalchemy.engine.Engine: [cached since 81.11s ago] (6,)
2025-08-06 11:13:28,958 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, description, pomodoro_count, category_id, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::INTEGER, $4::INTEGER, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id
2025-08-06 11:13:28,958 [INFO] sqlalchemy.engine.Engine: [generated in 0.00031s] ('string', 'string', 0, 0, 6, False)
2025-08-06 11:13:28,969 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-08-06 11:13:28,971 [INFO] uvicorn.access: 172.18.0.1:51186 - "POST /api/tasks HTTP/1.1" 500
2025-08-06 11:13:28,971 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 94, in create_task
    return TaskSchemaOutput(**created_task)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/pydantic/main.py", line 253, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
pydantic_core._pydantic_core.ValidationError: 2 validation errors for TaskSchemaOutput
created_at
  Field required [type=missing, input_value={'task_id': 1, 'name': 's...'string', 'owner_id': 6}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
updated_at
  Field required [type=missing, input_value={'task_id': 1, 'name': 's...'string', 'owner_id': 6}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.11/v/missing
2025-08-06 11:16:22,896 [INFO] uvicorn.error: Shutting down
2025-08-06 11:16:22,997 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:16:23,002 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:16:23,002 [INFO] uvicorn.error: Finished server process [61]
2025-08-06 11:16:29,659 [INFO] uvicorn.error: Started server process [64]
2025-08-06 11:16:29,659 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:16:29,663 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:16:54,526 [INFO] uvicorn.error: Shutting down
2025-08-06 11:16:54,626 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:16:54,627 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:16:54,628 [INFO] uvicorn.error: Finished server process [64]
2025-08-06 11:17:18,951 [INFO] uvicorn.error: Started server process [67]
2025-08-06 11:17:18,951 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:17:18,954 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:17:38,306 [INFO] uvicorn.error: Shutting down
2025-08-06 11:17:38,407 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:17:38,408 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:17:38,408 [INFO] uvicorn.error: Finished server process [67]
2025-08-06 11:17:39,175 [INFO] uvicorn.error: Started server process [69]
2025-08-06 11:17:39,175 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:17:39,178 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:17:51,512 [INFO] uvicorn.error: Shutting down
2025-08-06 11:17:51,612 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:17:51,614 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:17:51,614 [INFO] uvicorn.error: Finished server process [69]
2025-08-06 11:17:52,337 [INFO] uvicorn.error: Started server process [71]
2025-08-06 11:17:52,337 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:17:52,341 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:18:04,072 [INFO] uvicorn.error: Shutting down
2025-08-06 11:18:04,173 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:18:04,174 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:18:04,175 [INFO] uvicorn.error: Finished server process [71]
2025-08-06 11:18:05,044 [INFO] uvicorn.error: Started server process [73]
2025-08-06 11:18:05,044 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:18:05,047 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:18:08,958 [INFO] uvicorn.error: Shutting down
2025-08-06 11:18:09,058 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:18:09,060 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:18:09,060 [INFO] uvicorn.error: Finished server process [73]
2025-08-06 11:18:09,965 [INFO] uvicorn.error: Started server process [75]
2025-08-06 11:18:09,965 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:18:09,970 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:18:15,934 [INFO] uvicorn.access: 172.18.0.1:35388 - "POST /api/tasks HTTP/1.1" 401
2025-08-06 11:18:28,394 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:18:28,394 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:18:28,396 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:18:28,396 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:18:28,397 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:18:28,397 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:18:28,398 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:18:28,401 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 11:18:28,401 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] ('user5@example.com',)
2025-08-06 11:18:28,405 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 11:18:28,405 [INFO] sqlalchemy.engine.Engine: [generated in 0.00026s] (6,)
2025-08-06 11:18:28,615 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:18:28,615 [INFO] uvicorn.access: 172.18.0.1:35660 - "POST /auth/login HTTP/1.1" 200
2025-08-06 11:18:32,714 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:18:32,714 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:18:32,715 [INFO] sqlalchemy.engine.Engine: [generated in 0.00022s] (6,)
2025-08-06 11:18:32,717 [ERROR] app.service.task: Failed to create task: TaskData.__init__() missing 2 required positional arguments: 'created_at' and 'updated_at'
2025-08-06 11:18:32,718 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:18:32,719 [INFO] uvicorn.access: 172.18.0.1:35660 - "POST /api/tasks HTTP/1.1" 500
2025-08-06 11:18:50,849 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:18:50,850 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:18:50,850 [INFO] sqlalchemy.engine.Engine: [cached since 18.14s ago] (6,)
2025-08-06 11:18:50,851 [ERROR] app.service.task: Failed to create task: TaskData.__init__() missing 2 required positional arguments: 'created_at' and 'updated_at'
2025-08-06 11:18:50,852 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:18:50,853 [INFO] uvicorn.access: 172.18.0.1:35670 - "POST /api/tasks HTTP/1.1" 500
2025-08-06 11:23:57,479 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:23:57,479 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 11:23:57,479 [INFO] sqlalchemy.engine.Engine: [cached since 329.1s ago] ('user5@example.com',)
2025-08-06 11:23:57,482 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 11:23:57,482 [INFO] sqlalchemy.engine.Engine: [cached since 329.1s ago] (6,)
2025-08-06 11:23:57,669 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:23:57,670 [INFO] uvicorn.access: 172.18.0.1:36244 - "POST /auth/login HTTP/1.1" 200
2025-08-06 11:24:01,590 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:24:01,591 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:24:01,591 [INFO] sqlalchemy.engine.Engine: [cached since 328.9s ago] (6,)
2025-08-06 11:24:01,593 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:24:01,593 [INFO] sqlalchemy.engine.Engine: [generated in 0.00029s] (6,)
2025-08-06 11:24:01,595 [ERROR] app.service.task: Failed to fetch tasks for user ID: 6. Error: TaskData.__init__() missing 2 required positional arguments: 'created_at' and 'updated_at'
2025-08-06 11:24:01,595 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:24:01,596 [INFO] uvicorn.access: 172.18.0.1:36244 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:24:13,006 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:24:13,007 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:24:13,007 [INFO] sqlalchemy.engine.Engine: [cached since 340.3s ago] (6,)
2025-08-06 11:24:13,008 [ERROR] app.service.task: Failed to create task: TaskData.__init__() missing 2 required positional arguments: 'created_at' and 'updated_at'
2025-08-06 11:24:13,009 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:24:13,010 [INFO] uvicorn.access: 172.18.0.1:36260 - "POST /api/tasks HTTP/1.1" 500
2025-08-06 11:25:01,454 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:25:01,455 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:25:01,455 [INFO] sqlalchemy.engine.Engine: [cached since 388.7s ago] (6,)
2025-08-06 11:25:01,457 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:25:01,457 [INFO] sqlalchemy.engine.Engine: [cached since 59.86s ago] (6,)
2025-08-06 11:25:01,458 [ERROR] app.service.task: Failed to fetch tasks for user ID: 6. Error: TaskData.__init__() missing 2 required positional arguments: 'created_at' and 'updated_at'
2025-08-06 11:25:01,458 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:25:01,458 [INFO] uvicorn.access: 172.18.0.1:42800 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:26:19,146 [INFO] uvicorn.error: Shutting down
2025-08-06 11:26:19,247 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:26:19,253 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:26:19,253 [INFO] uvicorn.error: Finished server process [75]
2025-08-06 11:26:19,956 [INFO] uvicorn.error: Started server process [78]
2025-08-06 11:26:19,957 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:26:19,960 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:26:23,254 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:26:23,254 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:26:23,255 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:26:23,255 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:26:23,256 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:26:23,257 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:26:23,257 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:26:23,264 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:26:23,264 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] (6,)
2025-08-06 11:26:23,267 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:26:23,267 [INFO] sqlalchemy.engine.Engine: [generated in 0.00029s] (6,)
2025-08-06 11:26:23,269 [ERROR] app.service.task: Failed to fetch tasks for user ID: 6. Error: TaskData.__init__() missing 2 required positional arguments: 'created_at' and 'updated_at'
2025-08-06 11:26:23,269 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:26:23,270 [INFO] uvicorn.access: 172.18.0.1:55254 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:26:37,510 [INFO] uvicorn.error: Shutting down
2025-08-06 11:26:37,611 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:26:37,616 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:26:37,616 [INFO] uvicorn.error: Finished server process [78]
2025-08-06 11:26:38,408 [INFO] uvicorn.error: Started server process [80]
2025-08-06 11:26:38,408 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:26:38,411 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:26:41,319 [INFO] uvicorn.error: Shutting down
2025-08-06 11:26:41,419 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:26:41,421 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:26:41,421 [INFO] uvicorn.error: Finished server process [80]
2025-08-06 11:26:42,193 [INFO] uvicorn.error: Started server process [82]
2025-08-06 11:26:42,193 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:26:42,196 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:26:45,268 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:26:45,268 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:26:45,269 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:26:45,269 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:26:45,270 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:26:45,270 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:26:45,271 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:26:45,278 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:26:45,278 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] (6,)
2025-08-06 11:26:45,281 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:26:45,281 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] (6,)
2025-08-06 11:26:45,283 [ERROR] app.service.task: Failed to fetch tasks for user ID: 6. Error: TaskData.__init__() missing 2 required positional arguments: 'created_at' and 'updated_at'
2025-08-06 11:26:45,283 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:26:45,283 [INFO] uvicorn.access: 172.18.0.1:57994 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:26:51,270 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:26:51,271 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:26:51,271 [INFO] sqlalchemy.engine.Engine: [cached since 5.993s ago] (6,)
2025-08-06 11:26:51,273 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:26:51,273 [INFO] sqlalchemy.engine.Engine: [cached since 5.992s ago] (6,)
2025-08-06 11:26:51,274 [ERROR] app.service.task: Failed to fetch tasks for user ID: 6. Error: TaskData.__init__() missing 2 required positional arguments: 'created_at' and 'updated_at'
2025-08-06 11:26:51,274 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:26:51,275 [INFO] uvicorn.access: 172.18.0.1:58004 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:26:51,446 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:26:51,447 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:26:51,447 [INFO] sqlalchemy.engine.Engine: [cached since 6.17s ago] (6,)
2025-08-06 11:26:51,449 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:26:51,449 [INFO] sqlalchemy.engine.Engine: [cached since 6.168s ago] (6,)
2025-08-06 11:26:51,450 [ERROR] app.service.task: Failed to fetch tasks for user ID: 6. Error: TaskData.__init__() missing 2 required positional arguments: 'created_at' and 'updated_at'
2025-08-06 11:26:51,451 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:26:51,451 [INFO] uvicorn.access: 172.18.0.1:58004 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:26:56,348 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:26:56,348 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:26:56,348 [INFO] sqlalchemy.engine.Engine: [cached since 11.07s ago] (6,)
2025-08-06 11:26:56,350 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:26:56,350 [INFO] sqlalchemy.engine.Engine: [cached since 11.07s ago] (6,)
2025-08-06 11:26:56,351 [ERROR] app.service.task: Failed to fetch tasks for user ID: 6. Error: TaskData.__init__() missing 2 required positional arguments: 'created_at' and 'updated_at'
2025-08-06 11:26:56,351 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:26:56,352 [INFO] uvicorn.access: 172.18.0.1:58004 - "GET /api/tasks HTTP/1.1" 500
2025-08-06 11:28:49,530 [INFO] uvicorn.error: Shutting down
2025-08-06 11:28:49,631 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:28:49,635 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:28:49,635 [INFO] uvicorn.error: Finished server process [82]
2025-08-06 11:28:50,447 [INFO] uvicorn.error: Started server process [84]
2025-08-06 11:28:50,448 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:28:50,451 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:30:22,093 [INFO] uvicorn.error: Shutting down
2025-08-06 11:30:22,194 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:30:22,195 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:30:22,195 [INFO] uvicorn.error: Finished server process [84]
2025-08-06 11:32:17,382 [INFO] uvicorn.error: Started server process [88]
2025-08-06 11:32:17,382 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:32:17,386 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:32:24,405 [INFO] uvicorn.error: Shutting down
2025-08-06 11:32:24,505 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:32:24,507 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:32:24,507 [INFO] uvicorn.error: Finished server process [88]
2025-08-06 11:32:25,270 [INFO] uvicorn.error: Started server process [90]
2025-08-06 11:32:25,271 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:32:25,274 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:33:18,515 [INFO] uvicorn.error: Shutting down
2025-08-06 11:33:18,616 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:33:18,617 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:33:18,617 [INFO] uvicorn.error: Finished server process [90]
2025-08-06 11:34:32,995 [INFO] uvicorn.error: Started server process [98]
2025-08-06 11:34:32,995 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:34:32,999 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:34:36,766 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:34:36,767 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:34:36,769 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:34:36,769 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:34:36,770 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:34:36,770 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:34:36,771 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:34:36,776 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:34:36,777 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] (6,)
2025-08-06 11:34:36,780 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:34:36,781 [INFO] sqlalchemy.engine.Engine: [generated in 0.00024s] (6,)
2025-08-06 11:34:36,782 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:34:36,783 [INFO] uvicorn.access: 172.18.0.1:53788 - "GET /api/tasks HTTP/1.1" 200
2025-08-06 11:34:45,736 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:34:45,737 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:34:45,737 [INFO] sqlalchemy.engine.Engine: [cached since 8.96s ago] (6,)
2025-08-06 11:34:45,738 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:34:45,738 [INFO] sqlalchemy.engine.Engine: [cached since 8.958s ago] (6,)
2025-08-06 11:34:45,740 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:34:45,740 [INFO] uvicorn.access: 172.18.0.1:53798 - "GET /api/tasks HTTP/1.1" 200
2025-08-06 11:34:52,639 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:34:52,640 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:34:52,640 [INFO] sqlalchemy.engine.Engine: [cached since 15.86s ago] (6,)
2025-08-06 11:34:52,643 [INFO] sqlalchemy.engine.Engine: INSERT INTO tasks (name, description, pomodoro_count, category_id, owner_id, is_deleted) VALUES ($1::VARCHAR, $2::VARCHAR, $3::INTEGER, $4::INTEGER, $5::INTEGER, $6::BOOLEAN) RETURNING tasks.id
2025-08-06 11:34:52,643 [INFO] sqlalchemy.engine.Engine: [generated in 0.00037s] ('string', 'string', 0, 0, 6, False)
2025-08-06 11:34:52,645 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-08-06 11:34:52,654 [INFO] uvicorn.access: 172.18.0.1:34974 - "POST /api/tasks HTTP/1.1" 201
2025-08-06 11:35:00,743 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:35:00,743 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:35:00,743 [INFO] sqlalchemy.engine.Engine: [cached since 23.97s ago] (6,)
2025-08-06 11:35:00,745 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:35:00,745 [INFO] sqlalchemy.engine.Engine: [cached since 23.96s ago] (6,)
2025-08-06 11:35:00,746 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:35:00,747 [INFO] uvicorn.access: 172.18.0.1:34980 - "GET /api/tasks HTTP/1.1" 200
2025-08-06 11:35:16,728 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:35:16,730 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 11:35:16,730 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] ('user3@example.com',)
2025-08-06 11:35:16,733 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 11:35:16,733 [INFO] sqlalchemy.engine.Engine: [generated in 0.00028s] (4,)
2025-08-06 11:35:16,941 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:35:16,942 [INFO] uvicorn.access: 172.18.0.1:33288 - "POST /auth/login HTTP/1.1" 200
2025-08-06 11:35:21,858 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:35:21,859 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:35:21,859 [INFO] sqlalchemy.engine.Engine: [cached since 45.08s ago] (4,)
2025-08-06 11:35:21,861 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:35:21,861 [INFO] sqlalchemy.engine.Engine: [cached since 45.08s ago] (4,)
2025-08-06 11:35:21,862 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:35:21,863 [INFO] uvicorn.access: 172.18.0.1:33288 - "GET /api/tasks HTTP/1.1" 200
2025-08-06 11:35:32,691 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:35:32,692 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 11:35:32,692 [INFO] sqlalchemy.engine.Engine: [cached since 15.96s ago] ('user5@example.com',)
2025-08-06 11:35:32,693 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 11:35:32,693 [INFO] sqlalchemy.engine.Engine: [cached since 15.96s ago] (6,)
2025-08-06 11:35:32,881 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:35:32,882 [INFO] uvicorn.access: 172.18.0.1:33296 - "POST /auth/login HTTP/1.1" 200
2025-08-06 11:35:38,206 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:35:38,207 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:35:38,207 [INFO] sqlalchemy.engine.Engine: [cached since 61.43s ago] (6,)
2025-08-06 11:35:38,208 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:35:38,209 [INFO] sqlalchemy.engine.Engine: [cached since 61.43s ago] (6,)
2025-08-06 11:35:38,210 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:35:38,211 [INFO] uvicorn.access: 172.18.0.1:32984 - "GET /api/tasks HTTP/1.1" 200
2025-08-06 11:35:46,108 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:35:46,109 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:35:46,109 [INFO] sqlalchemy.engine.Engine: [cached since 69.33s ago] (6,)
2025-08-06 11:35:46,110 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:35:46,110 [INFO] uvicorn.access: 172.18.0.1:32990 - "DELETE /api/tasks/2 HTTP/1.1" 500
2025-08-06 11:35:46,111 [ERROR] uvicorn.error: Exception in ASGI application
Traceback (most recent call last):
  File "/usr/local/lib/python3.12/site-packages/uvicorn/protocols/http/h11_impl.py", line 403, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/uvicorn/middleware/proxy_headers.py", line 60, in __call__
    return await self.app(scope, receive, send)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/applications.py", line 112, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 187, in __call__
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/errors.py", line 165, in __call__
    await self.app(scope, receive, _send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/cors.py", line 144, in simple_response
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/middleware/exceptions.py", line 62, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 714, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 734, in app
    await route.handle(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 288, in handle
    await self.app(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 76, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    raise exc
  File "/usr/local/lib/python3.12/site-packages/starlette/_exception_handler.py", line 42, in wrapped_app
    await app(scope, receive, sender)
  File "/usr/local/lib/python3.12/site-packages/starlette/routing.py", line 73, in app
    response = await f(request)
               ^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 301, in app
    raw_response = await run_endpoint_function(
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.12/site-packages/fastapi/routing.py", line 212, in run_endpoint_function
    return await dependant.call(**values)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/app/app/handlers/tasks.py", line 129, in delete_task
    await service.delete_task(task_id, user_id=user.ID)
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: TaskService.delete_task() got an unexpected keyword argument 'user_id'
2025-08-06 11:38:19,747 [INFO] uvicorn.error: Shutting down
2025-08-06 11:38:19,848 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:38:19,856 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:38:19,856 [INFO] uvicorn.error: Finished server process [98]
2025-08-06 11:38:21,065 [INFO] uvicorn.error: Started server process [101]
2025-08-06 11:38:21,065 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:38:21,070 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:38:41,722 [INFO] uvicorn.error: Shutting down
2025-08-06 11:38:41,823 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:38:41,824 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:38:41,824 [INFO] uvicorn.error: Finished server process [101]
2025-08-06 11:38:42,609 [INFO] uvicorn.error: Started server process [103]
2025-08-06 11:38:42,609 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:38:42,612 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:38:43,115 [INFO] uvicorn.error: Shutting down
2025-08-06 11:38:43,215 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:38:43,217 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:38:43,217 [INFO] uvicorn.error: Finished server process [103]
2025-08-06 11:38:44,132 [INFO] uvicorn.error: Started server process [105]
2025-08-06 11:38:44,132 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:38:44,138 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:38:52,258 [INFO] uvicorn.error: Shutting down
2025-08-06 11:38:52,358 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:38:52,360 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:38:52,360 [INFO] uvicorn.error: Finished server process [105]
2025-08-06 11:38:53,220 [INFO] uvicorn.error: Started server process [107]
2025-08-06 11:38:53,220 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:38:53,225 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:39:04,452 [INFO] uvicorn.error: Shutting down
2025-08-06 11:39:04,553 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:39:04,555 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:39:04,555 [INFO] uvicorn.error: Finished server process [107]
2025-08-06 11:39:05,391 [INFO] uvicorn.error: Started server process [109]
2025-08-06 11:39:05,391 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:39:05,395 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:39:32,963 [INFO] uvicorn.error: Shutting down
2025-08-06 11:39:33,064 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:39:33,065 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:39:33,065 [INFO] uvicorn.error: Finished server process [109]
2025-08-06 11:39:57,158 [INFO] uvicorn.error: Started server process [113]
2025-08-06 11:39:57,159 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:39:57,163 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:40:01,275 [INFO] uvicorn.error: Shutting down
2025-08-06 11:40:01,375 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 11:40:01,377 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 11:40:01,377 [INFO] uvicorn.error: Finished server process [113]
2025-08-06 11:40:02,115 [INFO] uvicorn.error: Started server process [115]
2025-08-06 11:40:02,115 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 11:40:02,120 [INFO] uvicorn.error: Application startup complete.
2025-08-06 11:40:04,669 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 11:40:04,669 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:40:04,671 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 11:40:04,671 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:40:04,673 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 11:40:04,673 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 11:40:04,674 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:40:04,681 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:40:04,681 [INFO] sqlalchemy.engine.Engine: [generated in 0.00033s] (6,)
2025-08-06 11:40:04,684 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-08-06 11:40:04,684 [INFO] sqlalchemy.engine.Engine: [generated in 0.00023s] (2,)
2025-08-06 11:40:04,687 [INFO] sqlalchemy.engine.Engine: DELETE FROM tasks WHERE tasks.id = $1::INTEGER
2025-08-06 11:40:04,687 [INFO] sqlalchemy.engine.Engine: [generated in 0.00029s] (2,)
2025-08-06 11:40:04,689 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-08-06 11:40:04,690 [INFO] uvicorn.access: 172.18.0.1:36314 - "DELETE /api/tasks/2 HTTP/1.1" 204
2025-08-06 11:40:18,701 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:40:18,703 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.email = $1::VARCHAR
2025-08-06 11:40:18,703 [INFO] sqlalchemy.engine.Engine: [generated in 0.00033s] ('user5@example.com',)
2025-08-06 11:40:18,707 [INFO] sqlalchemy.engine.Engine: SELECT tasks.owner_id AS tasks_owner_id, tasks.name AS tasks_name, tasks.description AS tasks_description, tasks.pomodoro_count AS tasks_pomodoro_count, tasks.category_id AS tasks_category_id, tasks.id AS tasks_id, tasks.created_at AS tasks_created_at, tasks.updated_at AS tasks_updated_at, tasks.is_deleted AS tasks_is_deleted 
FROM tasks 
WHERE tasks.owner_id IN ($1::INTEGER)
2025-08-06 11:40:18,707 [INFO] sqlalchemy.engine.Engine: [generated in 0.00029s] (6,)
2025-08-06 11:40:18,915 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:40:18,916 [INFO] uvicorn.access: 172.18.0.1:36320 - "POST /auth/login HTTP/1.1" 200
2025-08-06 11:40:22,106 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:40:22,107 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:40:22,107 [INFO] sqlalchemy.engine.Engine: [cached since 17.43s ago] (6,)
2025-08-06 11:40:22,110 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 11:40:22,110 [INFO] sqlalchemy.engine.Engine: [generated in 0.00030s] (6,)
2025-08-06 11:40:22,112 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 11:40:22,113 [INFO] uvicorn.access: 172.18.0.1:36320 - "GET /api/tasks HTTP/1.1" 200
2025-08-06 11:40:27,578 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 11:40:27,578 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 11:40:27,579 [INFO] sqlalchemy.engine.Engine: [cached since 22.9s ago] (6,)
2025-08-06 11:40:27,580 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.id = $1::INTEGER
2025-08-06 11:40:27,581 [INFO] sqlalchemy.engine.Engine: [cached since 22.9s ago] (1,)
2025-08-06 11:40:27,582 [INFO] sqlalchemy.engine.Engine: DELETE FROM tasks WHERE tasks.id = $1::INTEGER
2025-08-06 11:40:27,582 [INFO] sqlalchemy.engine.Engine: [cached since 22.9s ago] (1,)
2025-08-06 11:40:27,583 [INFO] sqlalchemy.engine.Engine: COMMIT
2025-08-06 11:40:27,584 [INFO] uvicorn.access: 172.18.0.1:57186 - "DELETE /api/tasks/1 HTTP/1.1" 204
2025-08-06 15:27:42,296 [INFO] uvicorn.error: Started server process [15]
2025-08-06 15:27:42,296 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:27:42,299 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:27:47,616 [INFO] uvicorn.error: Shutting down
2025-08-06 15:27:47,716 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:27:47,718 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:27:47,718 [INFO] uvicorn.error: Finished server process [15]
2025-08-06 15:27:48,427 [INFO] uvicorn.error: Started server process [17]
2025-08-06 15:27:48,428 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:27:48,432 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:30:00,484 [INFO] uvicorn.error: Shutting down
2025-08-06 15:30:00,584 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:30:00,586 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:30:00,586 [INFO] uvicorn.error: Finished server process [17]
2025-08-06 15:30:01,304 [INFO] uvicorn.error: Started server process [19]
2025-08-06 15:30:01,304 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:30:01,308 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:30:01,810 [INFO] uvicorn.error: Shutting down
2025-08-06 15:30:01,910 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:30:01,911 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:30:01,912 [INFO] uvicorn.error: Finished server process [19]
2025-08-06 15:30:02,643 [INFO] uvicorn.error: Started server process [21]
2025-08-06 15:30:02,644 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:30:02,647 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:32:15,725 [INFO] uvicorn.error: Shutting down
2025-08-06 15:32:15,826 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:32:15,829 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:32:15,830 [INFO] uvicorn.error: Finished server process [21]
2025-08-06 15:32:16,981 [INFO] uvicorn.error: Started server process [23]
2025-08-06 15:32:16,982 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:32:16,986 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:33:57,239 [INFO] uvicorn.error: Shutting down
2025-08-06 15:33:57,340 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:33:57,342 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:33:57,342 [INFO] uvicorn.error: Finished server process [23]
2025-08-06 15:33:58,179 [INFO] uvicorn.error: Started server process [25]
2025-08-06 15:33:58,180 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:33:58,183 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:33:59,187 [INFO] uvicorn.error: Shutting down
2025-08-06 15:33:59,287 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:33:59,288 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:33:59,288 [INFO] uvicorn.error: Finished server process [25]
2025-08-06 15:34:00,040 [INFO] uvicorn.error: Started server process [27]
2025-08-06 15:34:00,040 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:34:00,043 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:34:04,659 [INFO] uvicorn.error: Shutting down
2025-08-06 15:34:04,760 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:34:04,761 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:34:04,762 [INFO] uvicorn.error: Finished server process [27]
2025-08-06 15:34:05,618 [INFO] uvicorn.error: Started server process [29]
2025-08-06 15:34:05,618 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:34:05,622 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:34:52,782 [INFO] uvicorn.error: Shutting down
2025-08-06 15:34:52,882 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:34:52,884 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:34:52,885 [INFO] uvicorn.error: Finished server process [29]
2025-08-06 15:34:53,696 [INFO] uvicorn.error: Started server process [31]
2025-08-06 15:34:53,697 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:34:53,700 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:34:58,318 [INFO] uvicorn.error: Shutting down
2025-08-06 15:34:58,419 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:34:58,420 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:34:58,421 [INFO] uvicorn.error: Finished server process [31]
2025-08-06 15:34:59,251 [INFO] uvicorn.error: Started server process [33]
2025-08-06 15:34:59,252 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:34:59,256 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:34:59,658 [INFO] uvicorn.error: Shutting down
2025-08-06 15:34:59,758 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:34:59,759 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:34:59,759 [INFO] uvicorn.error: Finished server process [33]
2025-08-06 15:35:00,453 [INFO] uvicorn.error: Started server process [35]
2025-08-06 15:35:00,453 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:35:00,457 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:35:03,368 [INFO] uvicorn.error: Shutting down
2025-08-06 15:35:03,468 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:35:03,470 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:35:03,470 [INFO] uvicorn.error: Finished server process [35]
2025-08-06 15:35:04,272 [INFO] uvicorn.error: Started server process [37]
2025-08-06 15:35:04,272 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:35:04,276 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:35:07,086 [INFO] uvicorn.error: Shutting down
2025-08-06 15:35:07,187 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:35:07,188 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:35:07,188 [INFO] uvicorn.error: Finished server process [37]
2025-08-06 15:35:07,899 [INFO] uvicorn.error: Started server process [39]
2025-08-06 15:35:07,899 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:35:07,903 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:35:10,814 [INFO] uvicorn.error: Shutting down
2025-08-06 15:35:10,914 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:35:10,916 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:35:10,916 [INFO] uvicorn.error: Finished server process [39]
2025-08-06 15:35:11,618 [INFO] uvicorn.error: Started server process [41]
2025-08-06 15:35:11,618 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:35:11,621 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:35:12,725 [INFO] uvicorn.error: Shutting down
2025-08-06 15:35:12,826 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:35:12,827 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:35:12,827 [INFO] uvicorn.error: Finished server process [41]
2025-08-06 15:35:13,538 [INFO] uvicorn.error: Started server process [43]
2025-08-06 15:35:13,539 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:35:13,542 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:35:46,949 [INFO] uvicorn.error: Shutting down
2025-08-06 15:35:47,049 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:35:47,051 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:35:47,051 [INFO] uvicorn.error: Finished server process [43]
2025-08-06 15:35:47,831 [INFO] uvicorn.error: Started server process [45]
2025-08-06 15:35:47,831 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:35:47,835 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:40:41,175 [INFO] uvicorn.error: Shutting down
2025-08-06 15:40:41,276 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:40:41,277 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:40:41,277 [INFO] uvicorn.error: Finished server process [45]
2025-08-06 15:40:42,389 [INFO] uvicorn.error: Started server process [47]
2025-08-06 15:40:42,389 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:40:42,393 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:40:52,923 [INFO] uvicorn.error: Shutting down
2025-08-06 15:40:53,025 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:40:53,026 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:40:53,026 [INFO] uvicorn.error: Finished server process [47]
2025-08-06 15:40:53,882 [INFO] uvicorn.error: Started server process [49]
2025-08-06 15:40:53,882 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:40:53,886 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:41:27,084 [INFO] uvicorn.error: Shutting down
2025-08-06 15:41:27,184 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:41:27,185 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:41:27,185 [INFO] uvicorn.error: Finished server process [49]
2025-08-06 15:41:33,287 [INFO] uvicorn.error: Started server process [52]
2025-08-06 15:41:33,287 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:41:33,291 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:41:41,315 [INFO] uvicorn.error: Shutting down
2025-08-06 15:41:41,416 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:41:41,417 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:41:41,417 [INFO] uvicorn.error: Finished server process [52]
2025-08-06 15:41:42,170 [INFO] uvicorn.error: Started server process [54]
2025-08-06 15:41:42,170 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:41:42,174 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:43:03,205 [INFO] uvicorn.error: Shutting down
2025-08-06 15:43:03,305 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:43:03,307 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:43:03,307 [INFO] uvicorn.error: Finished server process [54]
2025-08-06 15:43:04,241 [INFO] uvicorn.error: Started server process [56]
2025-08-06 15:43:04,242 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:43:04,245 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:43:11,769 [INFO] uvicorn.error: Shutting down
2025-08-06 15:43:11,870 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:43:11,871 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:43:11,871 [INFO] uvicorn.error: Finished server process [56]
2025-08-06 15:43:12,875 [INFO] uvicorn.error: Started server process [58]
2025-08-06 15:43:12,875 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:43:12,879 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:43:23,911 [INFO] uvicorn.error: Shutting down
2025-08-06 15:43:24,011 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:43:24,012 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:43:24,012 [INFO] uvicorn.error: Finished server process [58]
2025-08-06 15:43:24,909 [INFO] uvicorn.error: Started server process [60]
2025-08-06 15:43:24,909 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:43:24,912 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:43:59,810 [INFO] uvicorn.error: Shutting down
2025-08-06 15:43:59,911 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:43:59,912 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:43:59,912 [INFO] uvicorn.error: Finished server process [60]
2025-08-06 15:44:00,632 [INFO] uvicorn.error: Started server process [62]
2025-08-06 15:44:00,632 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:44:00,635 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:44:02,341 [INFO] uvicorn.error: Shutting down
2025-08-06 15:44:02,442 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:44:02,443 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:44:02,443 [INFO] uvicorn.error: Finished server process [62]
2025-08-06 15:44:03,155 [INFO] uvicorn.error: Started server process [64]
2025-08-06 15:44:03,155 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:44:03,158 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:45:49,374 [INFO] uvicorn.error: Shutting down
2025-08-06 15:45:49,475 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:45:49,476 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:45:49,476 [INFO] uvicorn.error: Finished server process [64]
2025-08-06 15:45:50,406 [INFO] uvicorn.error: Started server process [66]
2025-08-06 15:45:50,406 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:45:50,409 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:46:37,539 [INFO] uvicorn.error: Shutting down
2025-08-06 15:46:37,640 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:46:37,641 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:46:37,641 [INFO] uvicorn.error: Finished server process [66]
2025-08-06 15:46:38,376 [INFO] uvicorn.error: Started server process [68]
2025-08-06 15:46:38,376 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:46:38,380 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:48:46,761 [INFO] uvicorn.error: Shutting down
2025-08-06 15:48:46,862 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:48:46,864 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:48:46,864 [INFO] uvicorn.error: Finished server process [68]
2025-08-06 15:48:48,633 [INFO] uvicorn.error: Started server process [70]
2025-08-06 15:48:48,634 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:48:48,639 [INFO] uvicorn.error: Application startup complete.
2025-08-06 15:49:11,612 [INFO] uvicorn.error: Shutting down
2025-08-06 15:49:11,713 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 15:49:11,715 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 15:49:11,715 [INFO] uvicorn.error: Finished server process [70]
2025-08-06 15:49:12,980 [INFO] uvicorn.error: Started server process [72]
2025-08-06 15:49:12,980 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 15:49:12,984 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:34:23,904 [INFO] uvicorn.access: 172.18.0.1:54622 - "GET /api/tasks HTTP/1.1" 401
2025-08-06 17:34:43,431 [INFO] sqlalchemy.engine.Engine: select pg_catalog.version()
2025-08-06 17:34:43,431 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 17:34:43,433 [INFO] sqlalchemy.engine.Engine: select current_schema()
2025-08-06 17:34:43,433 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 17:34:43,435 [INFO] sqlalchemy.engine.Engine: show standard_conforming_strings
2025-08-06 17:34:43,435 [INFO] sqlalchemy.engine.Engine: [raw sql] ()
2025-08-06 17:34:43,436 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 17:34:43,442 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.username = $1::VARCHAR
2025-08-06 17:34:43,443 [INFO] sqlalchemy.engine.Engine: [generated in 0.00035s] ('string5',)
2025-08-06 17:34:43,651 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 17:34:43,652 [INFO] uvicorn.access: 172.18.0.1:54634 - "POST /auth/login HTTP/1.1" 200
2025-08-06 17:34:47,888 [INFO] sqlalchemy.engine.Engine: BEGIN (implicit)
2025-08-06 17:34:47,890 [INFO] sqlalchemy.engine.Engine: SELECT users.username, users.email, users.hashed_password, users.id, users.created_at, users.updated_at, users.is_deleted 
FROM users 
WHERE users.id = $1::INTEGER
2025-08-06 17:34:47,890 [INFO] sqlalchemy.engine.Engine: [generated in 0.00037s] (6,)
2025-08-06 17:34:47,894 [INFO] sqlalchemy.engine.Engine: SELECT tasks.name, tasks.description, tasks.pomodoro_count, tasks.category_id, tasks.owner_id, tasks.id, tasks.created_at, tasks.updated_at, tasks.is_deleted 
FROM tasks 
WHERE tasks.owner_id = $1::INTEGER AND tasks.is_deleted IS false ORDER BY tasks.created_at DESC
2025-08-06 17:34:47,894 [INFO] sqlalchemy.engine.Engine: [generated in 0.00029s] (6,)
2025-08-06 17:34:47,896 [INFO] sqlalchemy.engine.Engine: ROLLBACK
2025-08-06 17:34:47,897 [INFO] uvicorn.access: 172.18.0.1:54634 - "GET /api/tasks HTTP/1.1" 200
2025-08-06 17:36:06,823 [INFO] uvicorn.error: Shutting down
2025-08-06 17:36:06,923 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:36:06,931 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:36:06,932 [INFO] uvicorn.error: Finished server process [72]
2025-08-06 17:36:08,134 [INFO] uvicorn.error: Started server process [75]
2025-08-06 17:36:08,134 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:36:08,138 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:36:19,274 [INFO] uvicorn.error: Shutting down
2025-08-06 17:36:19,375 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:36:19,377 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:36:19,377 [INFO] uvicorn.error: Finished server process [75]
2025-08-06 17:36:20,165 [INFO] uvicorn.error: Started server process [77]
2025-08-06 17:36:20,165 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:36:20,169 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:36:46,253 [INFO] uvicorn.error: Shutting down
2025-08-06 17:36:46,354 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:36:46,356 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:36:46,357 [INFO] uvicorn.error: Finished server process [77]
2025-08-06 17:36:47,297 [INFO] uvicorn.error: Started server process [79]
2025-08-06 17:36:47,297 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:36:47,304 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:36:47,606 [INFO] uvicorn.error: Shutting down
2025-08-06 17:36:47,707 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:36:47,708 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:36:47,709 [INFO] uvicorn.error: Finished server process [79]
2025-08-06 17:36:48,534 [INFO] uvicorn.error: Started server process [81]
2025-08-06 17:36:48,534 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:36:48,538 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:36:49,040 [INFO] uvicorn.error: Shutting down
2025-08-06 17:36:49,141 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:36:49,142 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:36:49,143 [INFO] uvicorn.error: Finished server process [81]
2025-08-06 17:36:50,096 [INFO] uvicorn.error: Started server process [83]
2025-08-06 17:36:50,096 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:36:50,100 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:36:50,502 [INFO] uvicorn.error: Shutting down
2025-08-06 17:36:50,603 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:36:50,604 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:36:50,604 [INFO] uvicorn.error: Finished server process [83]
2025-08-06 17:36:51,338 [INFO] uvicorn.error: Started server process [85]
2025-08-06 17:36:51,338 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:36:51,342 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:36:53,047 [INFO] uvicorn.error: Shutting down
2025-08-06 17:36:53,148 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:36:53,149 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:36:53,150 [INFO] uvicorn.error: Finished server process [85]
2025-08-06 17:36:53,897 [INFO] uvicorn.error: Started server process [87]
2025-08-06 17:36:53,897 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:36:53,901 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:39:05,699 [INFO] uvicorn.error: Shutting down
2025-08-06 17:39:05,799 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:39:05,800 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:39:05,801 [INFO] uvicorn.error: Finished server process [87]
2025-08-06 17:39:06,522 [INFO] uvicorn.error: Started server process [89]
2025-08-06 17:39:06,522 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:39:06,526 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:39:10,640 [INFO] uvicorn.error: Shutting down
2025-08-06 17:39:10,741 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:39:10,743 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:39:10,743 [INFO] uvicorn.error: Finished server process [89]
2025-08-06 17:39:11,614 [INFO] uvicorn.error: Started server process [91]
2025-08-06 17:39:11,614 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:39:11,618 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:39:28,073 [INFO] uvicorn.error: Shutting down
2025-08-06 17:39:28,174 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:39:28,176 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:39:28,176 [INFO] uvicorn.error: Finished server process [91]
2025-08-06 17:39:28,909 [INFO] uvicorn.error: Started server process [93]
2025-08-06 17:39:28,909 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:39:28,912 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:42:32,044 [INFO] uvicorn.error: Shutting down
2025-08-06 17:42:32,147 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:42:32,150 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:42:32,150 [INFO] uvicorn.error: Finished server process [93]
2025-08-06 17:42:33,304 [INFO] uvicorn.error: Started server process [95]
2025-08-06 17:42:33,304 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:42:33,308 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:42:41,933 [INFO] uvicorn.error: Shutting down
2025-08-06 17:42:42,034 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:42:42,038 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:42:42,038 [INFO] uvicorn.error: Finished server process [95]
2025-08-06 17:42:43,095 [INFO] uvicorn.error: Started server process [97]
2025-08-06 17:42:43,096 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:42:43,099 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:43:15,806 [INFO] uvicorn.error: Shutting down
2025-08-06 17:43:15,907 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:43:15,909 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:43:15,909 [INFO] uvicorn.error: Finished server process [97]
2025-08-06 17:43:17,100 [INFO] uvicorn.error: Started server process [99]
2025-08-06 17:43:17,101 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:43:17,104 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:44:05,854 [INFO] uvicorn.error: Shutting down
2025-08-06 17:44:05,955 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:44:05,958 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:44:05,959 [INFO] uvicorn.error: Finished server process [99]
2025-08-06 17:44:06,819 [INFO] uvicorn.error: Started server process [101]
2025-08-06 17:44:06,819 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:44:06,823 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:45:12,253 [INFO] uvicorn.error: Started server process [105]
2025-08-06 17:45:12,253 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:45:12,259 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:45:13,263 [INFO] uvicorn.error: Shutting down
2025-08-06 17:45:13,364 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:45:13,365 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:45:13,365 [INFO] uvicorn.error: Finished server process [105]
2025-08-06 17:45:14,063 [INFO] uvicorn.error: Started server process [107]
2025-08-06 17:45:14,063 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:45:14,066 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:46:04,610 [INFO] uvicorn.error: Shutting down
2025-08-06 17:46:04,710 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:46:04,712 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:46:04,712 [INFO] uvicorn.error: Finished server process [107]
2025-08-06 17:46:05,542 [INFO] uvicorn.error: Started server process [109]
2025-08-06 17:46:05,542 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:46:05,546 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:46:10,161 [INFO] uvicorn.error: Shutting down
2025-08-06 17:46:10,262 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:46:10,263 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:46:10,263 [INFO] uvicorn.error: Finished server process [109]
2025-08-06 17:46:11,171 [INFO] uvicorn.error: Started server process [111]
2025-08-06 17:46:11,171 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:46:11,175 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:47:08,667 [INFO] uvicorn.error: Shutting down
2025-08-06 17:47:08,768 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:47:08,769 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:47:08,769 [INFO] uvicorn.error: Finished server process [111]
2025-08-06 17:47:39,272 [INFO] uvicorn.error: Started server process [117]
2025-08-06 17:47:39,273 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:47:39,276 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:48:17,800 [INFO] uvicorn.error: Shutting down
2025-08-06 17:48:17,900 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:48:17,902 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:48:17,902 [INFO] uvicorn.error: Finished server process [117]
2025-08-06 17:48:29,832 [INFO] uvicorn.error: Started server process [120]
2025-08-06 17:48:29,832 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:48:29,836 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:48:37,354 [INFO] uvicorn.error: Shutting down
2025-08-06 17:48:37,454 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:48:37,455 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:48:37,456 [INFO] uvicorn.error: Finished server process [120]
2025-08-06 17:48:38,240 [INFO] uvicorn.error: Started server process [122]
2025-08-06 17:48:38,240 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:48:38,244 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:48:51,182 [INFO] uvicorn.error: Shutting down
2025-08-06 17:48:51,283 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:48:51,284 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:48:51,284 [INFO] uvicorn.error: Finished server process [122]
2025-08-06 17:48:52,084 [INFO] uvicorn.error: Started server process [124]
2025-08-06 17:48:52,084 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:48:52,087 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:49:03,821 [INFO] uvicorn.error: Shutting down
2025-08-06 17:49:03,922 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:49:03,923 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:49:03,923 [INFO] uvicorn.error: Finished server process [124]
2025-08-06 17:49:04,672 [INFO] uvicorn.error: Started server process [126]
2025-08-06 17:49:04,672 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:49:04,676 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:49:09,291 [INFO] uvicorn.error: Shutting down
2025-08-06 17:49:09,392 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:49:09,394 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:49:09,395 [INFO] uvicorn.error: Finished server process [126]
2025-08-06 17:49:10,289 [INFO] uvicorn.error: Started server process [128]
2025-08-06 17:49:10,289 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:49:10,293 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:49:44,999 [INFO] uvicorn.error: Shutting down
2025-08-06 17:49:45,099 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:49:45,101 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:49:45,101 [INFO] uvicorn.error: Finished server process [128]
2025-08-06 17:49:46,140 [INFO] uvicorn.error: Started server process [130]
2025-08-06 17:49:46,141 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:49:46,145 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:50:29,298 [INFO] uvicorn.error: Shutting down
2025-08-06 17:50:29,399 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:50:29,402 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:50:29,402 [INFO] uvicorn.error: Finished server process [130]
2025-08-06 17:50:30,338 [INFO] uvicorn.error: Started server process [132]
2025-08-06 17:50:30,338 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:50:30,342 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:55:35,571 [INFO] uvicorn.error: Shutting down
2025-08-06 17:55:35,671 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:55:35,672 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:55:35,673 [INFO] uvicorn.error: Finished server process [132]
2025-08-06 17:55:36,478 [INFO] uvicorn.error: Started server process [134]
2025-08-06 17:55:36,478 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:55:36,481 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:55:49,518 [INFO] uvicorn.error: Shutting down
2025-08-06 17:55:49,618 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:55:49,620 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:55:49,620 [INFO] uvicorn.error: Finished server process [134]
2025-08-06 17:55:50,396 [INFO] uvicorn.error: Started server process [136]
2025-08-06 17:55:50,396 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:55:50,399 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:56:03,842 [INFO] uvicorn.error: Shutting down
2025-08-06 17:56:03,943 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:56:03,945 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:56:03,945 [INFO] uvicorn.error: Finished server process [136]
2025-08-06 17:56:04,808 [INFO] uvicorn.error: Started server process [138]
2025-08-06 17:56:04,808 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:56:04,812 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:56:14,743 [INFO] uvicorn.error: Shutting down
2025-08-06 17:56:14,844 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:56:14,847 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:56:14,847 [INFO] uvicorn.error: Finished server process [138]
2025-08-06 17:56:15,666 [INFO] uvicorn.error: Started server process [140]
2025-08-06 17:56:15,666 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:56:15,670 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:56:16,675 [INFO] uvicorn.error: Shutting down
2025-08-06 17:56:16,775 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:56:16,777 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:56:16,777 [INFO] uvicorn.error: Finished server process [140]
2025-08-06 17:56:17,516 [INFO] uvicorn.error: Started server process [142]
2025-08-06 17:56:17,516 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:56:17,520 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:59:22,446 [INFO] uvicorn.error: Shutting down
2025-08-06 17:59:22,547 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:59:22,548 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:59:22,549 [INFO] uvicorn.error: Finished server process [142]
2025-08-06 17:59:23,626 [INFO] uvicorn.error: Started server process [144]
2025-08-06 17:59:23,626 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:59:23,630 [INFO] uvicorn.error: Application startup complete.
2025-08-06 17:59:45,397 [INFO] uvicorn.error: Shutting down
2025-08-06 17:59:45,498 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 17:59:45,499 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 17:59:45,499 [INFO] uvicorn.error: Finished server process [144]
2025-08-06 17:59:46,212 [INFO] uvicorn.error: Started server process [146]
2025-08-06 17:59:46,212 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 17:59:46,216 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:00:06,987 [INFO] uvicorn.error: Shutting down
2025-08-06 18:00:07,088 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:00:07,090 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:00:07,090 [INFO] uvicorn.error: Finished server process [146]
2025-08-06 18:00:07,870 [INFO] uvicorn.error: Started server process [148]
2025-08-06 18:00:07,870 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:00:07,873 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:00:41,082 [INFO] uvicorn.error: Shutting down
2025-08-06 18:00:41,182 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:00:41,183 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:00:41,184 [INFO] uvicorn.error: Finished server process [148]
2025-08-06 18:00:41,901 [INFO] uvicorn.error: Started server process [150]
2025-08-06 18:00:41,901 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:00:41,905 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:00:59,459 [INFO] uvicorn.error: Shutting down
2025-08-06 18:00:59,560 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:00:59,561 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:00:59,561 [INFO] uvicorn.error: Finished server process [150]
2025-08-06 18:01:00,315 [INFO] uvicorn.error: Started server process [152]
2025-08-06 18:01:00,315 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:01:00,319 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:02:01,785 [INFO] uvicorn.error: Shutting down
2025-08-06 18:02:01,886 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:02:01,887 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:02:01,887 [INFO] uvicorn.error: Finished server process [152]
2025-08-06 18:02:02,765 [INFO] uvicorn.error: Started server process [154]
2025-08-06 18:02:02,765 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:02:02,768 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:02:14,298 [INFO] uvicorn.error: Shutting down
2025-08-06 18:02:14,399 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:02:14,400 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:02:14,400 [INFO] uvicorn.error: Finished server process [154]
2025-08-06 18:02:21,593 [INFO] uvicorn.error: Started server process [158]
2025-08-06 18:02:21,593 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:02:21,596 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:04:50,107 [INFO] uvicorn.error: Shutting down
2025-08-06 18:04:50,208 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:04:50,211 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:04:50,211 [INFO] uvicorn.error: Finished server process [158]
2025-08-06 18:04:51,421 [INFO] uvicorn.error: Started server process [160]
2025-08-06 18:04:51,421 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:04:51,426 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:08:37,857 [INFO] uvicorn.error: Shutting down
2025-08-06 18:08:37,957 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:08:37,959 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:08:37,960 [INFO] uvicorn.error: Finished server process [160]
2025-08-06 18:08:40,064 [INFO] uvicorn.error: Started server process [162]
2025-08-06 18:08:40,064 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:08:40,072 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:09:11,667 [INFO] uvicorn.error: Shutting down
2025-08-06 18:09:11,768 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:09:11,770 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:09:11,770 [INFO] uvicorn.error: Finished server process [162]
2025-08-06 18:09:14,058 [INFO] uvicorn.error: Started server process [164]
2025-08-06 18:09:14,058 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:09:14,066 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:10:11,271 [INFO] uvicorn.error: Shutting down
2025-08-06 18:10:11,373 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:10:11,375 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:10:11,375 [INFO] uvicorn.error: Finished server process [164]
2025-08-06 18:10:12,799 [INFO] uvicorn.error: Started server process [166]
2025-08-06 18:10:12,799 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:10:12,803 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:10:14,911 [INFO] uvicorn.error: Shutting down
2025-08-06 18:10:15,012 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:10:15,013 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:10:15,014 [INFO] uvicorn.error: Finished server process [166]
2025-08-06 18:10:15,707 [INFO] uvicorn.error: Started server process [168]
2025-08-06 18:10:15,707 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:10:15,711 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:12:04,776 [INFO] uvicorn.error: Shutting down
2025-08-06 18:12:04,877 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:12:04,879 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:12:04,879 [INFO] uvicorn.error: Finished server process [168]
2025-08-06 18:12:06,730 [INFO] uvicorn.error: Started server process [170]
2025-08-06 18:12:06,730 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:12:06,736 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:12:41,252 [INFO] uvicorn.error: Shutting down
2025-08-06 18:12:41,352 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:12:41,355 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:12:41,355 [INFO] uvicorn.error: Finished server process [170]
2025-08-06 18:12:42,841 [INFO] uvicorn.error: Started server process [172]
2025-08-06 18:12:42,841 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:12:42,846 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:12:53,584 [INFO] uvicorn.error: Shutting down
2025-08-06 18:12:53,684 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:12:53,686 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:12:53,686 [INFO] uvicorn.error: Finished server process [172]
2025-08-06 18:12:54,559 [INFO] uvicorn.error: Started server process [174]
2025-08-06 18:12:54,559 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:12:54,563 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:13:05,200 [INFO] uvicorn.error: Shutting down
2025-08-06 18:13:05,301 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:13:05,302 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:13:05,303 [INFO] uvicorn.error: Finished server process [174]
2025-08-06 18:13:06,587 [INFO] uvicorn.error: Started server process [176]
2025-08-06 18:13:06,587 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:13:06,591 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:13:08,799 [INFO] uvicorn.error: Shutting down
2025-08-06 18:13:08,899 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:13:08,901 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:13:08,901 [INFO] uvicorn.error: Finished server process [176]
2025-08-06 18:13:09,714 [INFO] uvicorn.error: Started server process [178]
2025-08-06 18:13:09,714 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:13:09,717 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:13:12,674 [INFO] uvicorn.access: 172.18.0.1:45384 - "GET /docs HTTP/1.1" 200
2025-08-06 18:13:12,777 [INFO] uvicorn.access: 172.18.0.1:45384 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 18:13:40,862 [INFO] uvicorn.access: 172.18.0.1:45400 - "GET /docs HTTP/1.1" 200
2025-08-06 18:13:40,969 [INFO] uvicorn.access: 172.18.0.1:45400 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 18:13:47,358 [INFO] uvicorn.error: Shutting down
2025-08-06 18:13:47,459 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:13:47,461 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:13:47,461 [INFO] uvicorn.error: Finished server process [178]
2025-08-06 18:13:48,428 [INFO] uvicorn.error: Started server process [180]
2025-08-06 18:13:48,428 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:13:48,432 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:13:48,433 [INFO] uvicorn.access: 172.18.0.1:35546 - "GET /docs HTTP/1.1" 200
2025-08-06 18:13:48,492 [INFO] uvicorn.access: 172.18.0.1:35546 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 18:13:58,867 [INFO] uvicorn.error: Shutting down
2025-08-06 18:13:58,968 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:13:58,969 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:13:58,970 [INFO] uvicorn.error: Finished server process [180]
2025-08-06 18:13:59,995 [INFO] uvicorn.error: Started server process [182]
2025-08-06 18:13:59,995 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:13:59,999 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:14:00,001 [INFO] uvicorn.access: 172.18.0.1:33826 - "GET /docs HTTP/1.1" 200
2025-08-06 18:14:00,082 [INFO] uvicorn.access: 172.18.0.1:33826 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 18:14:15,757 [INFO] uvicorn.error: Shutting down
2025-08-06 18:14:15,858 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:14:15,860 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:14:15,860 [INFO] uvicorn.error: Finished server process [182]
2025-08-06 18:14:16,739 [INFO] uvicorn.error: Started server process [184]
2025-08-06 18:14:16,739 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:14:16,743 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:14:17,144 [INFO] uvicorn.error: Shutting down
2025-08-06 18:14:17,245 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:14:17,246 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:14:17,246 [INFO] uvicorn.error: Finished server process [184]
2025-08-06 18:14:18,022 [INFO] uvicorn.error: Started server process [186]
2025-08-06 18:14:18,022 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:14:18,027 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:14:18,544 [INFO] uvicorn.access: 172.18.0.1:59936 - "GET /docs HTTP/1.1" 200
2025-08-06 18:14:18,611 [INFO] uvicorn.access: 172.18.0.1:59936 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 18:15:14,428 [INFO] uvicorn.error: Shutting down
2025-08-06 18:15:14,530 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:15:14,532 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:15:14,533 [INFO] uvicorn.error: Finished server process [186]
2025-08-06 18:15:47,618 [INFO] uvicorn.error: Started server process [190]
2025-08-06 18:15:47,618 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:15:47,622 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:15:47,624 [INFO] uvicorn.access: 172.18.0.1:38248 - "GET /docs HTTP/1.1" 200
2025-08-06 18:15:47,625 [INFO] uvicorn.access: 172.18.0.1:38252 - "GET /api/tasks HTTP/1.1" 401
2025-08-06 18:15:47,730 [INFO] uvicorn.access: 172.18.0.1:38252 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 18:15:51,259 [INFO] uvicorn.access: 172.18.0.1:38252 - "GET /api/tasks HTTP/1.1" 401
2025-08-06 18:17:14,953 [INFO] uvicorn.access: 172.18.0.1:57120 - "GET /docs HTTP/1.1" 200
2025-08-06 18:17:15,079 [INFO] uvicorn.access: 172.18.0.1:57120 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 18:20:16,998 [INFO] uvicorn.error: Shutting down
2025-08-06 18:20:17,099 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:20:17,100 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:20:17,100 [INFO] uvicorn.error: Finished server process [190]
2025-08-06 18:22:43,751 [INFO] uvicorn.error: Started server process [194]
2025-08-06 18:22:43,751 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:22:43,755 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:22:55,993 [INFO] uvicorn.error: Shutting down
2025-08-06 18:22:56,093 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:22:56,095 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:22:56,095 [INFO] uvicorn.error: Finished server process [194]
2025-08-06 18:22:56,841 [INFO] uvicorn.error: Started server process [196]
2025-08-06 18:22:56,841 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:22:56,845 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:23:01,862 [INFO] uvicorn.error: Shutting down
2025-08-06 18:23:01,963 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:23:01,965 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:23:01,966 [INFO] uvicorn.error: Finished server process [196]
2025-08-06 18:23:03,367 [INFO] uvicorn.error: Started server process [198]
2025-08-06 18:23:03,367 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:23:03,372 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:23:24,042 [INFO] uvicorn.error: Shutting down
2025-08-06 18:23:24,143 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:23:24,145 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:23:24,145 [INFO] uvicorn.error: Finished server process [198]
2025-08-06 18:23:25,683 [INFO] uvicorn.error: Started server process [200]
2025-08-06 18:23:25,684 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:23:25,689 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:23:32,814 [INFO] uvicorn.error: Shutting down
2025-08-06 18:23:32,915 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:23:32,916 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:23:32,917 [INFO] uvicorn.error: Finished server process [200]
2025-08-06 18:25:17,725 [INFO] uvicorn.error: Started server process [206]
2025-08-06 18:25:17,725 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 18:25:17,730 [INFO] uvicorn.error: Application startup complete.
2025-08-06 18:25:17,732 [INFO] uvicorn.access: 172.18.0.1:57408 - "GET /docs HTTP/1.1" 200
2025-08-06 18:25:17,733 [INFO] uvicorn.access: 172.18.0.1:53838 - "GET /docs HTTP/1.1" 200
2025-08-06 18:25:17,733 [INFO] uvicorn.access: 172.18.0.1:53840 - "GET /docs HTTP/1.1" 200
2025-08-06 18:25:17,825 [INFO] uvicorn.access: 172.18.0.1:53840 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 18:54:27,347 [INFO] uvicorn.error: Shutting down
2025-08-06 18:54:27,448 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 18:54:27,452 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 18:54:27,454 [INFO] uvicorn.error: Finished server process [206]
2025-08-06 19:41:47,438 [INFO] uvicorn.error: Started server process [9]
2025-08-06 19:41:47,439 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 19:41:47,450 [INFO] uvicorn.error: Application startup complete.
2025-08-06 19:41:58,465 [INFO] uvicorn.access: 172.18.0.1:59000 - "GET /docs HTTP/1.1" 200
2025-08-06 19:41:58,654 [INFO] uvicorn.access: 172.18.0.1:59000 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 19:44:47,767 [INFO] uvicorn.error: Shutting down
2025-08-06 19:44:47,867 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 19:44:47,868 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 19:44:47,869 [INFO] uvicorn.error: Finished server process [9]
2025-08-06 19:44:48,675 [INFO] uvicorn.error: Started server process [11]
2025-08-06 19:44:48,676 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 19:44:48,679 [INFO] uvicorn.error: Application startup complete.
2025-08-06 19:44:58,609 [INFO] uvicorn.error: Shutting down
2025-08-06 19:44:58,709 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 19:44:58,711 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 19:44:58,711 [INFO] uvicorn.error: Finished server process [11]
2025-08-06 19:44:59,432 [INFO] uvicorn.error: Started server process [13]
2025-08-06 19:44:59,432 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 19:44:59,436 [INFO] uvicorn.error: Application startup complete.
2025-08-06 19:44:59,437 [INFO] uvicorn.access: 172.18.0.1:53276 - "GET /docs HTTP/1.1" 200
2025-08-06 19:44:59,623 [INFO] uvicorn.access: 172.18.0.1:53276 - "GET /openapi.json HTTP/1.1" 200
2025-08-06 19:51:15,568 [INFO] uvicorn.error: Shutting down
2025-08-06 19:51:15,668 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 19:51:15,669 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 19:51:15,670 [INFO] uvicorn.error: Finished server process [13]
2025-08-06 19:54:32,694 [INFO] uvicorn.error: Started server process [17]
2025-08-06 19:54:32,694 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 19:54:32,698 [INFO] uvicorn.error: Application startup complete.
2025-08-06 19:57:25,875 [INFO] uvicorn.error: Shutting down
2025-08-06 19:57:25,975 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-06 19:57:25,977 [INFO] uvicorn.error: Application shutdown complete.
2025-08-06 19:57:25,977 [INFO] uvicorn.error: Finished server process [17]
2025-08-06 19:57:26,752 [INFO] uvicorn.error: Started server process [19]
2025-08-06 19:57:26,752 [INFO] uvicorn.error: Waiting for application startup.
2025-08-06 19:57:26,755 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:02:31,388 [INFO] uvicorn.error: Shutting down
2025-08-08 06:02:31,489 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:02:31,491 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:02:31,491 [INFO] uvicorn.error: Finished server process [19]
2025-08-08 06:02:32,318 [INFO] uvicorn.error: Started server process [21]
2025-08-08 06:02:32,318 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:02:32,322 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:02:39,347 [INFO] uvicorn.error: Shutting down
2025-08-08 06:02:39,448 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:02:39,450 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:02:39,450 [INFO] uvicorn.error: Finished server process [21]
2025-08-08 06:02:40,278 [INFO] uvicorn.error: Started server process [23]
2025-08-08 06:02:40,278 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:02:40,283 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:02:40,686 [INFO] uvicorn.error: Shutting down
2025-08-08 06:02:40,786 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:02:40,787 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:02:40,787 [INFO] uvicorn.error: Finished server process [23]
2025-08-08 06:02:41,607 [INFO] uvicorn.error: Started server process [25]
2025-08-08 06:02:41,607 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:02:41,611 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:03:01,278 [INFO] uvicorn.error: Shutting down
2025-08-08 06:03:01,379 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:03:01,380 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:03:01,380 [INFO] uvicorn.error: Finished server process [25]
2025-08-08 06:03:02,164 [INFO] uvicorn.error: Started server process [27]
2025-08-08 06:03:02,164 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:03:02,168 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:03:21,130 [INFO] uvicorn.error: Shutting down
2025-08-08 06:03:21,231 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:03:21,232 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:03:21,232 [INFO] uvicorn.error: Finished server process [27]
2025-08-08 06:03:22,048 [INFO] uvicorn.error: Started server process [29]
2025-08-08 06:03:22,049 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:03:22,053 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:03:30,946 [INFO] uvicorn.access: 172.18.0.1:58692 - "GET /docs HTTP/1.1" 200
2025-08-08 06:03:31,058 [INFO] uvicorn.access: 172.18.0.1:58692 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:03:41,528 [INFO] uvicorn.error: Shutting down
2025-08-08 06:03:41,630 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:03:41,631 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:03:41,631 [INFO] uvicorn.error: Finished server process [29]
2025-08-08 06:03:42,475 [INFO] uvicorn.error: Started server process [31]
2025-08-08 06:03:42,475 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:03:42,480 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:03:43,893 [INFO] uvicorn.access: 172.18.0.1:55450 - "GET /docs HTTP/1.1" 200
2025-08-08 06:03:43,948 [INFO] uvicorn.access: 172.18.0.1:55450 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:03:57,535 [INFO] uvicorn.error: Shutting down
2025-08-08 06:03:57,636 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:03:57,638 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:03:57,638 [INFO] uvicorn.error: Finished server process [31]
2025-08-08 06:03:58,390 [INFO] uvicorn.error: Started server process [33]
2025-08-08 06:03:58,390 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:03:58,393 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:04:00,256 [INFO] uvicorn.access: 172.18.0.1:36110 - "GET /docs HTTP/1.1" 200
2025-08-08 06:04:00,324 [INFO] uvicorn.access: 172.18.0.1:36110 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:04:18,670 [INFO] uvicorn.error: Shutting down
2025-08-08 06:04:18,771 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:04:18,773 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:04:18,773 [INFO] uvicorn.error: Finished server process [33]
2025-08-08 06:04:19,586 [INFO] uvicorn.error: Started server process [35]
2025-08-08 06:04:19,587 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:04:19,592 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:05:02,139 [INFO] uvicorn.error: Shutting down
2025-08-08 06:05:02,240 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:05:02,241 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:05:02,242 [INFO] uvicorn.error: Finished server process [35]
2025-08-08 06:05:02,965 [INFO] uvicorn.error: Started server process [37]
2025-08-08 06:05:02,966 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:05:02,971 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:05:06,286 [INFO] uvicorn.access: 172.18.0.1:38666 - "GET /docs HTTP/1.1" 200
2025-08-08 06:05:06,381 [INFO] uvicorn.access: 172.18.0.1:38666 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:06:42,017 [INFO] uvicorn.error: Shutting down
2025-08-08 06:06:42,118 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:06:42,120 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:06:42,120 [INFO] uvicorn.error: Finished server process [37]
2025-08-08 06:06:43,157 [INFO] uvicorn.error: Started server process [39]
2025-08-08 06:06:43,158 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:06:43,162 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:06:45,170 [INFO] uvicorn.error: Shutting down
2025-08-08 06:06:45,271 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:06:45,273 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:06:45,273 [INFO] uvicorn.error: Finished server process [39]
2025-08-08 06:06:46,088 [INFO] uvicorn.error: Started server process [41]
2025-08-08 06:06:46,089 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:06:46,092 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:06:50,909 [INFO] uvicorn.access: 172.18.0.1:38714 - "GET /docs HTTP/1.1" 200
2025-08-08 06:06:51,000 [INFO] uvicorn.access: 172.18.0.1:38714 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:07:24,935 [INFO] uvicorn.error: Shutting down
2025-08-08 06:07:25,036 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:07:25,038 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:07:25,039 [INFO] uvicorn.error: Finished server process [41]
2025-08-08 06:07:25,923 [INFO] uvicorn.error: Started server process [43]
2025-08-08 06:07:25,923 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:07:25,928 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:07:39,377 [INFO] uvicorn.error: Shutting down
2025-08-08 06:07:39,478 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:07:39,480 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:07:39,480 [INFO] uvicorn.error: Finished server process [43]
2025-08-08 06:07:40,214 [INFO] uvicorn.error: Started server process [45]
2025-08-08 06:07:40,214 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:07:40,218 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:07:43,153 [INFO] uvicorn.access: 172.18.0.1:47538 - "GET /docs HTTP/1.1" 200
2025-08-08 06:07:43,230 [INFO] uvicorn.access: 172.18.0.1:47538 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:08:04,109 [INFO] uvicorn.error: Shutting down
2025-08-08 06:08:04,210 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:08:04,212 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:08:04,212 [INFO] uvicorn.error: Finished server process [45]
2025-08-08 06:08:05,053 [INFO] uvicorn.error: Started server process [47]
2025-08-08 06:08:05,053 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:08:05,057 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:08:57,048 [INFO] uvicorn.error: Shutting down
2025-08-08 06:08:57,149 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:08:57,151 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:08:57,151 [INFO] uvicorn.error: Finished server process [47]
2025-08-08 06:08:58,096 [INFO] uvicorn.error: Started server process [49]
2025-08-08 06:08:58,096 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:08:58,101 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:09:11,548 [INFO] uvicorn.error: Shutting down
2025-08-08 06:09:11,649 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:09:11,650 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:09:11,650 [INFO] uvicorn.error: Finished server process [49]
2025-08-08 06:09:12,437 [INFO] uvicorn.error: Started server process [51]
2025-08-08 06:09:12,437 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:09:12,441 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:09:14,738 [INFO] uvicorn.access: 172.18.0.1:47786 - "GET /docs HTTP/1.1" 200
2025-08-08 06:09:14,821 [INFO] uvicorn.access: 172.18.0.1:47786 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:11:04,226 [INFO] uvicorn.error: Shutting down
2025-08-08 06:11:04,327 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:11:04,329 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:11:04,329 [INFO] uvicorn.error: Finished server process [51]
2025-08-08 06:11:05,196 [INFO] uvicorn.error: Started server process [53]
2025-08-08 06:11:05,196 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:11:05,200 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:11:06,806 [INFO] uvicorn.error: Shutting down
2025-08-08 06:11:06,906 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:11:06,908 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:11:06,908 [INFO] uvicorn.error: Finished server process [53]
2025-08-08 06:11:07,648 [INFO] uvicorn.error: Started server process [55]
2025-08-08 06:11:07,649 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:11:07,652 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:11:16,367 [INFO] uvicorn.access: 172.18.0.1:40230 - "GET /docs HTTP/1.1" 200
2025-08-08 06:11:16,449 [INFO] uvicorn.access: 172.18.0.1:40230 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:12:24,805 [INFO] uvicorn.error: Shutting down
2025-08-08 06:12:24,907 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:12:24,909 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:12:24,909 [INFO] uvicorn.error: Finished server process [55]
2025-08-08 06:12:25,674 [INFO] uvicorn.error: Started server process [57]
2025-08-08 06:12:25,674 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:12:25,678 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:12:29,100 [INFO] uvicorn.access: 172.18.0.1:41592 - "GET /docs HTTP/1.1" 200
2025-08-08 06:12:29,181 [INFO] uvicorn.access: 172.18.0.1:41592 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:13:02,613 [INFO] uvicorn.error: Shutting down
2025-08-08 06:13:02,715 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:13:02,716 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:13:02,717 [INFO] uvicorn.error: Finished server process [57]
2025-08-08 06:13:03,586 [INFO] uvicorn.error: Started server process [59]
2025-08-08 06:13:03,586 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:13:03,591 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:13:08,108 [INFO] uvicorn.error: Shutting down
2025-08-08 06:13:08,209 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:13:08,211 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:13:08,211 [INFO] uvicorn.error: Finished server process [59]
2025-08-08 06:13:08,927 [INFO] uvicorn.error: Started server process [61]
2025-08-08 06:13:08,927 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:13:08,931 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:14:56,997 [INFO] uvicorn.error: Shutting down
2025-08-08 06:14:57,097 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:14:57,099 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:14:57,099 [INFO] uvicorn.error: Finished server process [61]
2025-08-08 06:14:57,879 [INFO] uvicorn.error: Started server process [63]
2025-08-08 06:14:57,879 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:14:57,884 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:15:00,956 [INFO] uvicorn.access: 172.18.0.1:60600 - "GET /docs HTTP/1.1" 200
2025-08-08 06:15:01,142 [INFO] uvicorn.access: 172.18.0.1:60600 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:19:21,613 [INFO] uvicorn.error: Shutting down
2025-08-08 06:19:21,713 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:19:21,715 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:19:21,715 [INFO] uvicorn.error: Finished server process [63]
2025-08-08 06:19:22,618 [INFO] uvicorn.error: Started server process [65]
2025-08-08 06:19:22,619 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:19:22,627 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:19:32,437 [INFO] uvicorn.access: 172.18.0.1:55558 - "GET /docs HTTP/1.1" 200
2025-08-08 06:19:32,606 [INFO] uvicorn.access: 172.18.0.1:55558 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:21:14,834 [INFO] uvicorn.error: Shutting down
2025-08-08 06:21:14,935 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:21:14,937 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:21:14,937 [INFO] uvicorn.error: Finished server process [65]
2025-08-08 06:21:15,665 [INFO] uvicorn.error: Started server process [67]
2025-08-08 06:21:15,666 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:21:15,671 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:21:23,892 [INFO] uvicorn.access: 172.18.0.1:45720 - "GET /docs HTTP/1.1" 200
2025-08-08 06:21:24,045 [INFO] uvicorn.access: 172.18.0.1:45720 - "GET /openapi.json HTTP/1.1" 200
2025-08-08 06:22:09,651 [INFO] uvicorn.error: Shutting down
2025-08-08 06:22:09,752 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:22:09,753 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:22:09,753 [INFO] uvicorn.error: Finished server process [67]
2025-08-08 06:22:10,466 [INFO] uvicorn.error: Started server process [69]
2025-08-08 06:22:10,467 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:22:10,470 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:22:25,420 [INFO] uvicorn.error: Shutting down
2025-08-08 06:22:25,520 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:22:25,521 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:22:25,521 [INFO] uvicorn.error: Finished server process [69]
2025-08-08 06:22:26,212 [INFO] uvicorn.error: Started server process [71]
2025-08-08 06:22:26,212 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:22:26,215 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:22:38,455 [INFO] uvicorn.error: Shutting down
2025-08-08 06:22:38,555 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:22:38,557 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:22:38,557 [INFO] uvicorn.error: Finished server process [71]
2025-08-08 06:22:39,296 [INFO] uvicorn.error: Started server process [73]
2025-08-08 06:22:39,296 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:22:39,300 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:25:23,197 [INFO] uvicorn.error: Shutting down
2025-08-08 06:25:23,298 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:25:23,299 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:25:23,299 [INFO] uvicorn.error: Finished server process [73]
2025-08-08 06:25:39,287 [INFO] uvicorn.error: Started server process [77]
2025-08-08 06:25:39,287 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:25:39,292 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:25:42,102 [INFO] uvicorn.error: Shutting down
2025-08-08 06:25:42,202 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:25:42,203 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:25:42,203 [INFO] uvicorn.error: Finished server process [77]
2025-08-08 06:25:42,969 [INFO] uvicorn.error: Started server process [79]
2025-08-08 06:25:42,970 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:25:42,973 [INFO] uvicorn.error: Application startup complete.
2025-08-08 06:26:15,072 [INFO] uvicorn.error: Shutting down
2025-08-08 06:26:15,173 [INFO] uvicorn.error: Waiting for application shutdown.
2025-08-08 06:26:15,175 [INFO] uvicorn.error: Application shutdown complete.
2025-08-08 06:26:15,175 [INFO] uvicorn.error: Finished server process [79]
2025-08-08 06:26:15,876 [INFO] uvicorn.error: Started server process [81]
2025-08-08 06:26:15,876 [INFO] uvicorn.error: Waiting for application startup.
2025-08-08 06:26:15,879 [INFO] uvicorn.error: Application startup complete.
